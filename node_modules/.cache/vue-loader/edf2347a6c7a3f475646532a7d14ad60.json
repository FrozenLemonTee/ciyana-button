{"remainingRequest":"D:\\FrozenLemonTee\\Arbeit\\WebProject\\ciyana-button\\ciyana-button\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!D:\\FrozenLemonTee\\Arbeit\\WebProject\\ciyana-button\\ciyana-button\\src\\App.vue?vue&type=template&id=7ba5bd90","dependencies":[{"path":"D:\\FrozenLemonTee\\Arbeit\\WebProject\\ciyana-button\\ciyana-button\\src\\App.vue","mtime":499162500000},{"path":"D:\\FrozenLemonTee\\Arbeit\\WebProject\\ciyana-button\\ciyana-button\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615601873994},{"path":"D:\\FrozenLemonTee\\Arbeit\\WebProject\\ciyana-button\\ciyana-button\\node_modules\\babel-loader\\lib\\index.js","mtime":1615601874000},{"path":"D:\\FrozenLemonTee\\Arbeit\\WebProject\\ciyana-button\\ciyana-button\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1615601893345},{"path":"D:\\FrozenLemonTee\\Arbeit\\WebProject\\ciyana-button\\ciyana-button\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615601873994},{"path":"D:\\FrozenLemonTee\\Arbeit\\WebProject\\ciyana-button\\ciyana-button\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1615601893345}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgPGRpdiBpZD0iYXBwIj4KICAgIDxWSGVhZGVyIC8+CiAgICA8cm91dGVyLXZpZXcgc3R5bGU9Im1pbi1oZWlnaHQ6IGNhbGMoMTAwdmggLSA0OHB4IC0gNzhweCkiIC8+CiAgICA8Q29udHJvbCAvPgogICAgPFZGb290ZXIgLz4KICA8L2Rpdj4K"},{"version":3,"sources":["D:\\FrozenLemonTee\\Arbeit\\WebProject\\ciyana-button\\ciyana-button\\src\\App.vue"],"names":[],"mappings":";EACE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IACV,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC5D,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IACV,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;EACZ,CAAC,CAAC,CAAC,CAAC,CAAC","file":"D:/FrozenLemonTee/Arbeit/WebProject/ciyana-button/ciyana-button/src/App.vue","sourceRoot":"","sourcesContent":["<template>\n  <div id=\"app\">\n    <VHeader />\n    <router-view style=\"min-height: calc(100vh - 48px - 78px)\" />\n    <Control />\n    <VFooter />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { provide, reactive, ref, Ref, computed } from 'vue'\nimport { PlaySetting, SearchData, VoicesOrigin, VoicesCategory, VoicesItem, Mark } from '@/assets/script/type'\nimport Setting from '@/../setting/setting.json'\nimport VHeader from '@/views/Header.vue'\nimport Control from '@/views/Control.vue'\nimport VFooter from '@/views/Footer.vue'\nimport { CategoryList, VoicesList } from './assets/script/voices'\n\nconst CONSOLE = Setting['console'] || {}\nif (CONSOLE && (CONSOLE.text || CONSOLE.img)) {\n  const text = CONSOLE.text || ''\n  const size = CONSOLE.size || '16px'\n  const color = CONSOLE.color || ''\n\n  const width = CONSOLE.imgWidth || '100%'\n  const height = CONSOLE.imgHeight || '100%'\n  const img = CONSOLE.img ? `padding-right:${width};padding-top:${height};background:url('${location.origin}/img/${CONSOLE.img}') no-repeat;background-size:100% 100%` : ''\n\n  console.log(`%c${text}%c `, `font-size:${size};color:${color}`, img)\n}\n\n/**\n * 初始化播放设置\n */\nconst initPlaySetting = () => {\n  const playSetting: PlaySetting = reactive({\n    loading: true,\n    error: false,\n    nowPlay: null,\n    overlap: false,\n    autoRandom: false,\n    loop: 0,\n    showInfo: false\n  })\n  provide('playSetting', playSetting)\n\n  return playSetting\n}\n\n/**\n * 获取最后更新时间和更新数量\n */\nconst initVoicesDate = () => {\n  const lastDate = ref('')\n  let temp: null | Date = null\n  for (const i in VoicesList) {\n    if (VoicesList[i].date) {\n      const voiceDate = new Date(VoicesList[i].date!)\n      if (!temp) {\n        temp = voiceDate\n        lastDate.value = VoicesList[i].date!\n      }\n      if (voiceDate > temp) {\n        temp = voiceDate\n        lastDate.value = VoicesList[i].date!\n      }\n    }\n  }\n  provide('lastDate', lastDate)\n  provide('newVoiceNum', VoicesList.filter((item) => item.date && item.date === lastDate.value).length)\n}\n\n/**\n * 初始化语音列表\n */\nconst initVoicesList = (playSetting) => {\n  // 获取分类排序列表\n  const categoryList: VoicesCategory[] = []\n  CategoryList.forEach(category => {\n    const temp: VoicesCategory = { ...category, voiceList: [] }\n    VoicesList.forEach(voice => {\n      if (voice.category === category.name) {\n        temp.voiceList.push(voice)\n      }\n    })\n    categoryList.push(temp)\n  })\n\n  // 获取来源排序列表\n  const temp1: {\n    [name: string]: {\n      url?: string;\n      list: VoicesItem[];\n    };\n  } = {}\n  const temp2: {\n    title: string;\n    voiceList: VoicesItem[];\n  } = {\n    title: 'unknown',\n    voiceList: []\n  }\n  const originList: VoicesOrigin[] = []\n  VoicesList.forEach(voice => {\n    if (voice.mark && voice.mark.title) {\n      if (temp1[voice.mark.title]) {\n        temp1[voice.mark.title].list.push(voice)\n      } else {\n        temp1[voice.mark.title] = {\n          url: voice.mark.url,\n          list: [voice]\n        }\n      }\n    } else {\n      temp2.voiceList.push(voice)\n    }\n  })\n  for (const i in temp1) {\n    originList.push({\n      title: i,\n      url: temp1[i].url,\n      voiceList: temp1[i].list\n    })\n  }\n  originList.push(temp2)\n\n  const voices = computed(() => playSetting.showInfo ? originList : categoryList)\n  provide('voices', voices)\n\n  const voiceList: Ref<VoicesItem[]> = computed(() => {\n    const temp: VoicesItem[] = []\n    voices.value.forEach((item: VoicesCategory | VoicesOrigin) => {\n      item.voiceList.forEach(voice => {\n        temp.push(voice)\n      })\n    })\n    return temp\n  })\n  provide('voiceList', voiceList)\n}\n\nconst initData = () => {\n  // 需要显示的来源信息\n  const infoDate: Ref<Mark | null> = ref({\n    title: '',\n    time: '',\n    url: ''\n  })\n  provide('infoDate', infoDate)\n\n  // 搜索结果\n  const searchData: SearchData = reactive({\n    value: '',\n    list: [],\n    index: 0\n  })\n  provide('searchData', searchData)\n\n  // 窄屏状态下是否显示搜索栏\n  const isShowSearch = ref(false)\n  provide('isShowSearch', isShowSearch)\n}\n\nexport default {\n  components: {\n    VHeader,\n    Control,\n    VFooter\n  },\n  setup() {\n    const playSetting = initPlaySetting()\n    initVoicesDate()\n    initVoicesList(playSetting)\n    initData()\n  }\n}\n</script>\n\n<style lang=\"stylus\">\nbody\n  margin 0\n  -webkit-tap-highlight-color rgba(0, 0, 0, 0)\n\na\n  margin-left 5px\n  color #888\n  text-decoration none\n\n::-webkit-scrollbar\n  width 7px\n  height 7px\n\n::-webkit-scrollbar-track\n  box-shadow inset 0 0 6px rgba(0, 0, 0, 0.3)\n  -webkit-box-shadow inset 0 0 6px rgba(0, 0, 0, 0.3)\n  background-color $sub-color\n\n::-webkit-scrollbar-thumb\n  box-shadow inset 0 0 6px rgba(0, 0, 0, 0.1)\n  -webkit-box-shadow inset 0 0 6px rgba(0, 0, 0, 0.1)\n  background-color $main-color\n\n::-webkit-scrollbar-thumb:active\n  background-color $active-color\n</style>\n"]}]}
{"remainingRequest":"D:\\FrozenLemonTee\\Arbeit\\WebProject\\ciyana-button\\ciyana-button\\node_modules\\babel-loader\\lib\\index.js!D:\\FrozenLemonTee\\Arbeit\\WebProject\\ciyana-button\\ciyana-button\\node_modules\\ts-loader\\index.js??ref--14-2!D:\\FrozenLemonTee\\Arbeit\\WebProject\\ciyana-button\\ciyana-button\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\FrozenLemonTee\\Arbeit\\WebProject\\ciyana-button\\ciyana-button\\src\\components\\Voive.ts","dependencies":[{"path":"D:\\FrozenLemonTee\\Arbeit\\WebProject\\ciyana-button\\ciyana-button\\src\\components\\Voive.ts","mtime":499162500000},{"path":"D:\\FrozenLemonTee\\Arbeit\\WebProject\\ciyana-button\\ciyana-button\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615601873994},{"path":"D:\\FrozenLemonTee\\Arbeit\\WebProject\\ciyana-button\\ciyana-button\\node_modules\\babel-loader\\lib\\index.js","mtime":1615601874000},{"path":"D:\\FrozenLemonTee\\Arbeit\\WebProject\\ciyana-button\\ciyana-button\\node_modules\\ts-loader\\index.js","mtime":1615707284305},{"path":"D:\\FrozenLemonTee\\Arbeit\\WebProject\\ciyana-button\\ciyana-button\\node_modules\\eslint-loader\\index.js","mtime":1615601886951}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIkQ6L0Zyb3plbkxlbW9uVGVlL0FyYmVpdC9XZWJQcm9qZWN0L2NpeWFuYS1idXR0b24vY2l5YW5hLWJ1dHRvbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnN0YXJ0cy13aXRoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLnRvLWZpeGVkLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgU2V0dGluZyBmcm9tICdALy4uL3NldHRpbmcvc2V0dGluZy5qc29uJzsKaW1wb3J0IG1pdHQgZnJvbSAnQC9hc3NldHMvc2NyaXB0L21pdHQnOwppbXBvcnQgeyBFVkVOVCwgSU5GT19JMThOIH0gZnJvbSAnQC9hc3NldHMvc2NyaXB0L3R5cGUnOwppbXBvcnQgeyBnZXRyUmFuZG9tSW50IH0gZnJvbSAnQC9hc3NldHMvc2NyaXB0L3V0aWxzJzsKaW1wb3J0IHsgaW5qZWN0LCByZWFjdGl2ZSwgcmVmLCB3YXRjaCB9IGZyb20gJ3Z1ZSc7CmltcG9ydCB7IHVzZUkxOG4gfSBmcm9tICd2dWUtaTE4bic7CnZhciBNRURJQSA9IFNldHRpbmdbJ21lZGlhU2Vzc2lvbiddOwp2YXIgQ0ROID0gU2V0dGluZ1snQ0ROJ107Cgp2YXIgdXNlU2VhcmNoID0gZnVuY3Rpb24gdXNlU2VhcmNoKGJ0bkxpc3QpIHsKICB2YXIgc2VhcmNoRGF0YSA9IGluamVjdCgnc2VhcmNoRGF0YScpOyAvLyDpnIDopoHpq5jkuq7mmL7npLrnmoRuYW1lCgogIHZhciBoaWdobGlnaHQgPSByZWYoJycpOyAvLyDmkJzntKLmlbDmja7mlLnlj5jml7bph43mlrDljLnphY3pq5jkuq7kvY7kuq4KCiAgd2F0Y2goc2VhcmNoRGF0YSwgZnVuY3Rpb24gKGRhdGEpIHsKICAgIGZvciAodmFyIGkgaW4gYnRuTGlzdCkgewogICAgICBpZiAoIWJ0bkxpc3RbaV0pIGNvbnRpbnVlOwoKICAgICAgaWYgKGRhdGEudmFsdWUubGVuZ3RoID4gMCkgewogICAgICAgIGJ0bkxpc3RbaV0ubG93bGlnaHQgPSAhZGF0YS5saXN0LmluY2x1ZGVzKGkpOwogICAgICB9IGVsc2UgewogICAgICAgIGJ0bkxpc3RbaV0ubG93bGlnaHQgPSBmYWxzZTsKICAgICAgfQoKICAgICAgYnRuTGlzdFtpXS5oaWdobGlnaHQgPSBpID09PSBoaWdobGlnaHQudmFsdWU7CiAgICB9CiAgfSk7IC8vIOaQnOe0ouagj+aWh+Wtl+aUueWPmOaXtua4hemZpOmrmOS6rgoKICB3YXRjaChmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gc2VhcmNoRGF0YS52YWx1ZTsKICB9LCBmdW5jdGlvbiAobmV3VmFsLCBvbGRWYWwpIHsKICAgIGlmIChuZXdWYWwgIT09IG9sZFZhbCkgewogICAgICBzZWFyY2hEYXRhLmluZGV4ID0gMDsKICAgIH0KCiAgICBoaWdobGlnaHQudmFsdWUgPSAnJzsKICB9KTsgLy8g5rua5Yqo5Yiw6auY5Lqu55qERE9NCgogIG1pdHQub24oRVZFTlQuYXV0b1Njcm9sbCwgZnVuY3Rpb24gKCkgewogICAgaWYgKHNlYXJjaERhdGEubGlzdCAmJiBzZWFyY2hEYXRhLmxpc3QubGVuZ3RoID4gMCkgewogICAgICBmb3IgKHZhciBpIGluIGJ0bkxpc3QpIHsKICAgICAgICBpZiAoc2VhcmNoRGF0YS5pbmRleCArIDEgPiBzZWFyY2hEYXRhLmxpc3QubGVuZ3RoKSBzZWFyY2hEYXRhLmluZGV4ID0gMDsKCiAgICAgICAgaWYgKGkgPT09IHNlYXJjaERhdGEubGlzdFtzZWFyY2hEYXRhLmluZGV4XSkgewogICAgICAgICAgc2VhcmNoRGF0YS5pbmRleCsrOwogICAgICAgICAgdmFyIHNjcm9sbFBvcyA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgKyBidG5MaXN0W2ldLiRlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgLSAyMDA7CiAgICAgICAgICBoaWdobGlnaHQudmFsdWUgPSBpOwogICAgICAgICAgd2luZG93LnNjcm9sbFRvKHsKICAgICAgICAgICAgdG9wOiBzY3JvbGxQb3MsCiAgICAgICAgICAgIGJlaGF2aW9yOiAnc21vb3RoJwogICAgICAgICAgfSk7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9KTsKICByZXR1cm4gewogICAgc2VhcmNoRGF0YTogc2VhcmNoRGF0YSwKICAgIGhpZ2hsaWdodDogaGlnaGxpZ2h0CiAgfTsKfTsKCnZhciBnZXRCdG5MaXN0ID0gZnVuY3Rpb24gZ2V0QnRuTGlzdCgpIHsKICAvLyDmiYDmnInmjInpkq7nmoTlvJXnlKgKICB2YXIgYnRuTGlzdCA9IHJlYWN0aXZlKHt9KTsKCiAgdmFyIHNldEJ0bkxpc3QgPSBmdW5jdGlvbiBzZXRCdG5MaXN0KG5hbWUsIGVsKSB7CiAgICBidG5MaXN0W25hbWVdID0gZWw7CiAgfTsKCiAgcmV0dXJuIHsKICAgIGJ0bkxpc3Q6IGJ0bkxpc3QsCiAgICBzZXRCdG5MaXN0OiBzZXRCdG5MaXN0CiAgfTsKfTsKCnZhciBjcmVhdGVQbGF5ZXIgPSBmdW5jdGlvbiBjcmVhdGVQbGF5ZXIoYnRuTGlzdCkgewogIHZhciBfdXNlSTE4biA9IHVzZUkxOG4oKSwKICAgICAgdCA9IF91c2VJMThuLnQsCiAgICAgIHRlID0gX3VzZUkxOG4udGUsCiAgICAgIGxvY2FsZSA9IF91c2VJMThuLmxvY2FsZTsKCiAgdmFyIHBsYXlTZXR0aW5nID0gaW5qZWN0KCdwbGF5U2V0dGluZycpOwogIHZhciB2b2ljZXMgPSBpbmplY3QoJ3ZvaWNlcycsIHJlZihbXSkpOwogIHZhciB2b2ljZUxpc3QgPSBpbmplY3QoJ3ZvaWNlTGlzdCcsIHJlZihbXSkpOwogIHZhciBpbmZvRGF0ZSA9IGluamVjdCgnaW5mb0RhdGUnKTsKCiAgaWYgKCdtZWRpYVNlc3Npb24nIGluIG5hdmlnYXRvcikgewogICAgbmF2aWdhdG9yLm1lZGlhU2Vzc2lvbi5zZXRBY3Rpb25IYW5kbGVyKCduZXh0dHJhY2snLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJhbmRvbVBsYXkoKTsKICAgIH0pOwogICAgbmF2aWdhdG9yLm1lZGlhU2Vzc2lvbi5zZXRBY3Rpb25IYW5kbGVyKCdwcmV2aW91c3RyYWNrJywgZnVuY3Rpb24gKCkgewogICAgICByYW5kb21QbGF5KCk7CiAgICB9KTsKICAgIG5hdmlnYXRvci5tZWRpYVNlc3Npb24uc2V0QWN0aW9uSGFuZGxlcigncGF1c2UnLCBmdW5jdGlvbiAoKSB7CiAgICAgIGlmIChwbGF5ZXJMaXN0Lmhhcygnb25jZScpKSBwbGF5ZXJMaXN0LmdldCgnb25jZScpLmF1ZGlvLnBhdXNlKCk7CiAgICAgIG5hdmlnYXRvci5tZWRpYVNlc3Npb24ucGxheWJhY2tTdGF0ZSA9ICdwYXVzZWQnOwogICAgfSk7CiAgfQoKICB2YXIgdGltZXIgPSBudWxsOwogIC8qKg0KICAgKiDph43nva7mkq3mlL7nirbmgIENCiAgICovCgogIHZhciByZXNldCA9IGZ1bmN0aW9uIHJlc2V0KCkgewogICAgcGxheVNldHRpbmcubG9hZGluZyA9IHRydWU7CiAgICBwbGF5U2V0dGluZy5ub3dQbGF5ID0gbnVsbDsKICAgIHBsYXlTZXR0aW5nLmVycm9yID0gZmFsc2U7CiAgICBpbmZvRGF0ZS52YWx1ZSA9IG51bGw7CiAgfTsKCiAgdmFyIHBsYXllckxpc3QgPSBuZXcgTWFwKCk7CiAgLyoqDQogICAqIOaSreaUvuivremfsw0KICAgKiBAcGFyYW0gdm9pY2Ug6K+t6Z+z5a+56LGhDQogICAqIEBwYXJhbSBjYXRlZ29yeSDmiYDlsZ7liIbnsbvnmoRuYW1lDQogICAqLwoKICB2YXIgcGxheSA9IGZ1bmN0aW9uIHBsYXkodm9pY2UpIHsKICAgIC8vIOWPr+WcqOatpOWkhOWinuWKoOaSreaUvue7n+iuoeebuOWFs+S7o+eggQogICAgaWYgKCFwbGF5U2V0dGluZy5vdmVybGFwKSB7CiAgICAgIGlmIChwbGF5ZXJMaXN0Lmhhcygnb25jZScpKSBwbGF5ZXJMaXN0LmdldCgnb25jZScpLmF1ZGlvLnBhdXNlKCk7CgogICAgICBpZiAocGxheVNldHRpbmcubm93UGxheSAmJiBwbGF5U2V0dGluZy5ub3dQbGF5Lm5hbWUgPT09IHZvaWNlLm5hbWUpIHsKICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpOwogICAgICAgIHRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBhZGRQbGF5ZXIodm9pY2UsICdvbmNlJyk7CiAgICAgICAgfSwgMjUwKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBhZGRQbGF5ZXIodm9pY2UsICdvbmNlJyk7CiAgICAgIH0KCiAgICAgIGlmICgnbWVkaWFTZXNzaW9uJyBpbiBuYXZpZ2F0b3IpIHsKICAgICAgICB2YXIgbWV0YSA9IHsKICAgICAgICAgIHRpdGxlOiB0KCd2b2ljZS4nICsgdm9pY2UubmFtZSksCiAgICAgICAgICBhcnRpc3Q6IHQoSU5GT19JMThOLmZ1bGxOYW1lKSwKICAgICAgICAgIGFsYnVtOiB0KElORk9fSTE4Ti50aXRsZSksCiAgICAgICAgICBhcnR3b3JrOiBNRURJQSA/IFt7CiAgICAgICAgICAgIHNyYzogIi9pbWcvIi5jb25jYXQoTUVESUEpLAogICAgICAgICAgICBzaXplczogJzEyOHgxMjgnCiAgICAgICAgICB9XSA6IFtdCiAgICAgICAgfTsKICAgICAgICBuYXZpZ2F0b3IubWVkaWFTZXNzaW9uLm1ldGFkYXRhID0gbmV3IHdpbmRvdy5NZWRpYU1ldGFkYXRhKG1ldGEpOwogICAgICAgIG5hdmlnYXRvci5tZWRpYVNlc3Npb24ucGxheWJhY2tTdGF0ZSA9ICdwbGF5aW5nJzsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgdmFyIGtleSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpOwogICAgICBhZGRQbGF5ZXIodm9pY2UsIGtleSk7CiAgICB9CiAgfTsKICAvKioNCiAgICog5oqK6K+t6Z+z5a+56LGh5re75Yqg5YiwTUFQDQogICAqLwoKCiAgdmFyIGFkZFBsYXllciA9IGZ1bmN0aW9uIGFkZFBsYXllcih2b2ljZSwga2V5KSB7CiAgICByZXNldCgpOwoKICAgIGlmIChrZXkgPT09ICdvbmNlJyAmJiBwbGF5ZXJMaXN0LmhhcyhrZXkpKSB7CiAgICAgIHBsYXllckxpc3QuZ2V0KGtleSkuYXVkaW8ub25jYW5wbGF5ID0gbnVsbDsKICAgIH0KCiAgICB2YXIgcGF0aCA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicgJiYgQ0ROID8gIiIuY29uY2F0KENETiwgIi8iKS5jb25jYXQodm9pY2UucGF0aCkgOiAidm9pY2VzLyIuY29uY2F0KHZvaWNlLnBhdGgpOwogICAgcGxheWVyTGlzdC5zZXQoa2V5LCB7CiAgICAgIG5hbWU6IHZvaWNlLm5hbWUsCiAgICAgIGF1ZGlvOiBuZXcgQXVkaW8ocGF0aCkKICAgIH0pOwoKICAgIGlmICghcGxheVNldHRpbmcub3ZlcmxhcCkgewogICAgICBwbGF5U2V0dGluZy5ub3dQbGF5ID0gdm9pY2U7CgogICAgICBpZiAodm9pY2UubWFyaykgewogICAgICAgIGluZm9EYXRlLnZhbHVlID0gdm9pY2UubWFyazsKICAgICAgfQogICAgfQoKICAgIHBsYXllckxpc3QuZ2V0KGtleSkuYXVkaW8ucGxheSgpOwoKICAgIHBsYXllckxpc3QuZ2V0KGtleSkuYXVkaW8ub25lcnJvciA9IGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKENETiAmJiBwbGF5ZXJMaXN0LmdldChrZXkpLmF1ZGlvLnNyYy5zdGFydHNXaXRoKENETikpIHsKICAgICAgICBwbGF5ZXJMaXN0LmdldChrZXkpLmF1ZGlvLnNyYyA9ICJ2b2ljZXMvIi5jb25jYXQodm9pY2UucGF0aCk7CiAgICAgICAgcGxheWVyTGlzdC5nZXQoa2V5KS5hdWRpby5wbGF5KCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcGxheVNldHRpbmcubG9hZGluZyA9IGZhbHNlOwogICAgICAgIHBsYXlTZXR0aW5nLmVycm9yID0gdHJ1ZTsKICAgICAgICBuYXZpZ2F0b3IubWVkaWFTZXNzaW9uLnBsYXliYWNrU3RhdGUgPSAncGF1c2VkJzsKICAgICAgfQogICAgfTsKCiAgICBwbGF5ZXJMaXN0LmdldChrZXkpLmF1ZGlvLm9uY2FucGxheSA9IGZ1bmN0aW9uICgpIHsKICAgICAgcGxheVNldHRpbmcubG9hZGluZyA9IGZhbHNlOwogICAgICB2YXIgZHVyYXRpb24gPSBwbGF5ZXJMaXN0LmdldChrZXkpLmF1ZGlvLmR1cmF0aW9uOwogICAgICB2YXIgY3VycmVudFRpbWUgPSAwOwoKICAgICAgcGxheWVyTGlzdC5nZXQoa2V5KS5hdWRpby5vbnRpbWV1cGRhdGUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgY3VycmVudFRpbWUgPSBOdW1iZXIoKHBsYXllckxpc3QuZ2V0KGtleSkuYXVkaW8uY3VycmVudFRpbWUgLyBkdXJhdGlvbiAqIDEwMCkudG9GaXhlZCgwKSk7CiAgICAgICAgdmFyIG51bSA9IDA7CgogICAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihwbGF5ZXJMaXN0LmtleXMoKSksCiAgICAgICAgICAgIF9zdGVwOwoKICAgICAgICB0cnkgewogICAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgdmFyIGsgPSBfc3RlcC52YWx1ZTsKCiAgICAgICAgICAgIGlmIChwbGF5ZXJMaXN0LmdldChrKS5uYW1lID09PSB2b2ljZS5uYW1lKSB7CiAgICAgICAgICAgICAgbnVtKys7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgICAgfQoKICAgICAgICBpZiAobnVtID4gMSkgewogICAgICAgICAgYnRuTGlzdFt2b2ljZS5uYW1lXS5wcm9ncmVzcyA9IDEwMDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYnRuTGlzdFt2b2ljZS5uYW1lXS5wcm9ncmVzcyA9IGN1cnJlbnRUaW1lOwogICAgICAgIH0KICAgICAgfTsKCiAgICAgIHBsYXllckxpc3QuZ2V0KGtleSkuYXVkaW8ub25lbmRlZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBidG5MaXN0W3ZvaWNlLm5hbWVdLnByb2dyZXNzID0gMDsKICAgICAgICBwbGF5ZXJMaXN0LmRlbGV0ZShrZXkpOwoKICAgICAgICBpZiAocGxheVNldHRpbmcubG9vcCA+IDApIHsKICAgICAgICAgIGxpc3RMb29wKHZvaWNlKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmVzZXQoKTsKICAgICAgICB9CgogICAgICAgIGlmIChwbGF5U2V0dGluZy5hdXRvUmFuZG9tKSB7CiAgICAgICAgICByYW5kb21QbGF5KCk7CiAgICAgICAgfQogICAgICB9OwogICAgfTsKICB9OwoKICBtaXR0Lm9uKEVWRU5ULnJhbmRvbVBsYXksIGZ1bmN0aW9uICgpIHsKICAgIHJhbmRvbVBsYXkoKTsKICB9KTsKICAvKioNCiAgICog6ZqP5py65pKt5pS+DQogICAqLwoKICB2YXIgcmFuZG9tUGxheSA9IGZ1bmN0aW9uIHJhbmRvbVBsYXkoKSB7CiAgICB2YXIgbGlzdCA9IFtdOwogICAgdm9pY2VzLnZhbHVlLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgaWYgKGlzU2hvd0NhdGVnb3J5KGl0ZW0pKSB7CiAgICAgICAgaXRlbS52b2ljZUxpc3QuZm9yRWFjaChmdW5jdGlvbiAodm9pY2UpIHsKICAgICAgICAgIGlmIChpc1Nob3dWb2ljZSh2b2ljZS5uYW1lKSkgewogICAgICAgICAgICBsaXN0LnB1c2godm9pY2UpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9KTsKICAgIHBsYXkobGlzdFtnZXRyUmFuZG9tSW50KGxpc3QubGVuZ3RoKV0pOwogIH07CiAgLyoqDQogICAqIOW+queOr+aSreaUvg0KICAgKi8KCgogIHZhciBsaXN0TG9vcCA9IGZ1bmN0aW9uIGxpc3RMb29wKHZvaWNlKSB7CiAgICBpZiAocGxheVNldHRpbmcubG9vcCA9PT0gMSkgewogICAgICBwbGF5KHZvaWNlKTsKICAgIH0gZWxzZSBpZiAocGxheVNldHRpbmcubG9vcCA9PT0gMikgewogICAgICB2YXIgbGlzdCA9IFtdOwoKICAgICAgaWYgKCFwbGF5U2V0dGluZy5zaG93SW5mbykgewogICAgICAgIGxpc3QgPSB2b2ljZXMudmFsdWUuZmluZChmdW5jdGlvbiAodm9pY2VzQ2F0ZWdvcnkpIHsKICAgICAgICAgIGlmICh2b2ljZXNDYXRlZ29yeS5uYW1lID09PSB2b2ljZS5jYXRlZ29yeSkgewogICAgICAgICAgICByZXR1cm4gdm9pY2VzQ2F0ZWdvcnkudm9pY2VMaXN0OwogICAgICAgICAgfQogICAgICAgIH0pLnZvaWNlTGlzdDsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAodm9pY2UubWFyayAmJiB2b2ljZS5tYXJrLnRpdGxlKSB7CiAgICAgICAgICBsaXN0ID0gdm9pY2VzLnZhbHVlLmZpbmQoZnVuY3Rpb24gKG1hcmspIHsKICAgICAgICAgICAgaWYgKG1hcmsudGl0bGUgPT09IHZvaWNlLm1hcmsudGl0bGUpIHsKICAgICAgICAgICAgICByZXR1cm4gbWFyay52b2ljZUxpc3Q7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pLnZvaWNlTGlzdDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgbGlzdCA9IHZvaWNlcy52YWx1ZS5maW5kKGZ1bmN0aW9uIChtYXJrKSB7CiAgICAgICAgICAgIGlmIChtYXJrLnRpdGxlID09PSAndW5rbm93bicpIHsKICAgICAgICAgICAgICByZXR1cm4gbWFyay52b2ljZUxpc3Q7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pLnZvaWNlTGlzdDsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHZhciBuZXh0Vm9pY2UgPSBsaXN0W2dldExvb3BJbmRleCh2b2ljZSwgbGlzdCldOwoKICAgICAgaWYgKG5leHRWb2ljZSkgewogICAgICAgIHBsYXkobmV4dFZvaWNlKTsKICAgICAgfQogICAgfSBlbHNlIGlmIChwbGF5U2V0dGluZy5sb29wID09PSAzKSB7CiAgICAgIHZhciBfbmV4dFZvaWNlID0gdm9pY2VMaXN0LnZhbHVlW2dldExvb3BJbmRleCh2b2ljZSwgdm9pY2VMaXN0LnZhbHVlKV07CgogICAgICBpZiAoX25leHRWb2ljZSkgewogICAgICAgIHBsYXkoX25leHRWb2ljZSk7CiAgICAgIH0KICAgIH0KICB9OwogIC8qKg0KICAgKiDojrflj5bliJfooajmkq3mlL7nmoTkuIvkuIDkuKrntKLlvJUNCiAgICovCgoKICB2YXIgZ2V0TG9vcEluZGV4ID0gZnVuY3Rpb24gZ2V0TG9vcEluZGV4KHZvaWNlLCBsaXN0KSB7CiAgICB2YXIgaW5kZXggPSAtMTsKCiAgICBmb3IgKHZhciBpIGluIGxpc3QpIHsKICAgICAgaWYgKE51bWJlcihpKSA9PT0gbGlzdC5sZW5ndGggLSAxKSB7CiAgICAgICAgaW5kZXggPSAwOwogICAgICAgIGJyZWFrOwogICAgICB9CgogICAgICBpZiAobGlzdFtpXS5uYW1lID09PSB2b2ljZS5uYW1lKSB7CiAgICAgICAgaW5kZXggPSBOdW1iZXIoaSkgKyAxOwoKICAgICAgICBpZiAoIWlzQ2FuUGxheShsaXN0W2luZGV4XSkpIHsKICAgICAgICAgIGluZGV4ID0gZ2V0TG9vcEluZGV4KGxpc3RbaW5kZXhdLCBsaXN0KTsKICAgICAgICB9CgogICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIGluZGV4OwogIH07CiAgLyoqDQogICAqIOWIpOaWreivpeaooeW8j+aIluivreiogOS4i+aYr+WQpuWPr+aSreaUvg0KICAgKi8KCgogIHZhciBpc0NhblBsYXkgPSBmdW5jdGlvbiBpc0NhblBsYXkodm9pY2UpIHsKICAgIHJldHVybiB2b2ljZXMudmFsdWUuc29tZShmdW5jdGlvbiAoaXRlbSkgewogICAgICBpZiAocGxheVNldHRpbmcuc2hvd0luZm8pIHsKICAgICAgICBpZiAodm9pY2UubWFyaykgewogICAgICAgICAgcmV0dXJuIGl0ZW0udGl0bGUgPT09IHZvaWNlLm1hcmsudGl0bGU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBpdGVtLnRpdGxlID09PSAndW5rbm93bic7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBpdGVtLm5hbWUgPT09IHZvaWNlLmNhdGVnb3J5ICYmIEJvb2xlYW4oaXRlbS50cmFuc2xhdGVbbG9jYWxlLnZhbHVlXSk7CiAgICAgIH0KICAgIH0pICYmIEJvb2xlYW4odm9pY2UudHJhbnNsYXRlW2xvY2FsZS52YWx1ZV0pOwogIH07CgogIG1pdHQub24oRVZFTlQuc3RvcFBsYXksIGZ1bmN0aW9uICgpIHsKICAgIGNsZWFyVGltZW91dCh0aW1lcik7CgogICAgdmFyIF9pdGVyYXRvcjIgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihwbGF5ZXJMaXN0LmtleXMoKSksCiAgICAgICAgX3N0ZXAyOwoKICAgIHRyeSB7CiAgICAgIGZvciAoX2l0ZXJhdG9yMi5zKCk7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmU7KSB7CiAgICAgICAgdmFyIGtleSA9IF9zdGVwMi52YWx1ZTsKICAgICAgICBwbGF5ZXJMaXN0LmdldChrZXkpLmF1ZGlvLnBhdXNlKCk7CiAgICAgICAgcGxheWVyTGlzdC5nZXQoa2V5KS5hdWRpby5vbmVycm9yID0gbnVsbDsKICAgICAgICBwbGF5ZXJMaXN0LmdldChrZXkpLmF1ZGlvLm9uY2FucGxheSA9IG51bGw7CiAgICAgICAgcGxheWVyTGlzdC5nZXQoa2V5KS5hdWRpby5vbnRpbWV1cGRhdGUgPSBudWxsOwogICAgICAgIHBsYXllckxpc3QuZ2V0KGtleSkuYXVkaW8ub25lbmRlZCA9IG51bGw7CiAgICAgICAgdmFyIG5hbWUgPSBwbGF5ZXJMaXN0LmdldChrZXkpLm5hbWU7CiAgICAgICAgYnRuTGlzdFtuYW1lXS5wcm9ncmVzcyA9IDA7CiAgICAgIH0KICAgIH0gY2F0Y2ggKGVycikgewogICAgICBfaXRlcmF0b3IyLmUoZXJyKTsKICAgIH0gZmluYWxseSB7CiAgICAgIF9pdGVyYXRvcjIuZigpOwogICAgfQoKICAgIHBsYXllckxpc3QuY2xlYXIoKTsKICAgIHJlc2V0KCk7CiAgfSk7CiAgLyoqDQogICAqIOaYr+WQpumcgOimgeaYvuekuuWIhuexuw0KICAgKi8KCiAgdmFyIGlzU2hvd0NhdGVnb3J5ID0gZnVuY3Rpb24gaXNTaG93Q2F0ZWdvcnkoaXRlbSkgewogICAgdmFyIGZsYWcgPSBpdGVtLnZvaWNlTGlzdC5ldmVyeShmdW5jdGlvbiAodm9pY2UpIHsKICAgICAgcmV0dXJuICFpc1Nob3dWb2ljZSh2b2ljZS5uYW1lKTsKICAgIH0pOwoKICAgIGlmIChmbGFnKSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0gZWxzZSBpZiAocGxheVNldHRpbmcuc2hvd0luZm8pIHsKICAgICAgcmV0dXJuIEJvb2xlYW4oaXRlbVsndGl0bGUnXSk7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gdGUoInZvaWNlY2F0ZWdvcnkuIi5jb25jYXQoaXRlbVsnbmFtZSddKSkgJiYgQm9vbGVhbih0KCJ2b2ljZWNhdGVnb3J5LiIuY29uY2F0KGl0ZW1bJ25hbWUnXSkpKTsKICAgIH0KICB9OwogIC8qKg0KICAgKiDmmK/lkKbpnIDopoHmmL7npLror63pn7MNCiAgICovCgoKICB2YXIgaXNTaG93Vm9pY2UgPSBmdW5jdGlvbiBpc1Nob3dWb2ljZShuYW1lKSB7CiAgICByZXR1cm4gdGUoInZvaWNlLiIuY29uY2F0KG5hbWUpKSAmJiBCb29sZWFuKHQoInZvaWNlLiIuY29uY2F0KG5hbWUpKSk7CiAgfTsKICAvKioNCiAgICog6byg5qCH5YGc55WZ5pe25piv5ZCm5pi+56S65pe26Ze0DQogICAqLwoKCiAgdmFyIGlzU2hvd1RpbWUgPSBmdW5jdGlvbiBpc1Nob3dUaW1lKG1hcmspIHsKICAgIHJldHVybiBwbGF5U2V0dGluZy5zaG93SW5mbyAmJiBtYXJrICYmIG1hcmsudGltZSA/IG1hcmsudGltZSA6ICcnOwogIH07CiAgLyoqDQogICAqIOi/lOWbnumcgOimgeaYvuekuueahOihqOaDheWMhXVybA0KICAgKi8KCgogIHZhciBnZXRQaWNVcmwgPSBmdW5jdGlvbiBnZXRQaWNVcmwodXNlUGljdHVyZSkgewogICAgcmV0dXJuIHVzZVBpY3R1cmUgJiYgQm9vbGVhbih1c2VQaWN0dXJlW2xvY2FsZS52YWx1ZV0pID8gIi92b2ljZXMvaW1nLyIuY29uY2F0KHVzZVBpY3R1cmVbbG9jYWxlLnZhbHVlXSkgOiBudWxsOwogIH07CgogIHJldHVybiB7CiAgICBwbGF5U2V0dGluZzogcGxheVNldHRpbmcsCiAgICB2b2ljZXM6IHZvaWNlcywKICAgIHBsYXk6IHBsYXksCiAgICBpc1Nob3dDYXRlZ29yeTogaXNTaG93Q2F0ZWdvcnksCiAgICBpc1Nob3dWb2ljZTogaXNTaG93Vm9pY2UsCiAgICBpc1Nob3dUaW1lOiBpc1Nob3dUaW1lLAogICAgZ2V0UGljVXJsOiBnZXRQaWNVcmwKICB9Owp9OwoKZXhwb3J0IHsgdXNlU2VhcmNoLCBnZXRCdG5MaXN0LCBjcmVhdGVQbGF5ZXIgfTs="},{"version":3,"sources":["D:\\FrozenLemonTee\\Arbeit\\WebProject\\ciyana-button\\ciyana-button\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\FrozenLemonTee\\Arbeit\\WebProject\\ciyana-button\\ciyana-button\\src\\components\\Voive.ts"],"names":[],"mappings":"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","sourcesContent":["import Setting from '@/../setting/setting.json'\r\nimport mitt from '@/assets/script/mitt'\r\nimport { EVENT, INFO_I18N, Mark, Player, PlayerList, PlaySetting, SearchData, Translate, Voices, VoicesCategory, VoicesItem, VoicesOrigin } from '@/assets/script/type'\r\nimport { getrRandomInt } from '@/assets/script/utils'\r\nimport { inject, reactive, ref, Ref, watch } from 'vue'\r\nimport { useI18n } from 'vue-i18n'\r\n\r\nconst MEDIA = Setting['mediaSession']\r\nconst CDN = Setting['CDN']\r\n\r\nconst useSearch = (btnList) => {\r\n  const searchData: SearchData = inject('searchData') as SearchData\r\n  // 需要高亮显示的name\r\n  const highlight = ref('')\r\n\r\n  // 搜索数据改变时重新匹配高亮低亮\r\n  watch(searchData, (data) => {\r\n    for (const i in btnList) {\r\n      if (!btnList[i]) continue\r\n      if (data.value.length > 0) {\r\n        btnList[i].lowlight = !data.list.includes(i)\r\n      } else {\r\n        btnList[i].lowlight = false\r\n      }\r\n      btnList[i].highlight = i === highlight.value\r\n    }\r\n  })\r\n  // 搜索栏文字改变时清除高亮\r\n  watch(() => searchData.value, (newVal, oldVal) => {\r\n    if (newVal !== oldVal) {\r\n      searchData.index = 0\r\n    }\r\n    highlight.value = ''\r\n  })\r\n\r\n  // 滚动到高亮的DOM\r\n  mitt.on(EVENT.autoScroll, () => {\r\n    if (searchData.list && searchData.list.length > 0) {\r\n      for (const i in btnList) {\r\n        if (searchData.index + 1 > searchData.list.length) searchData.index = 0\r\n        if (i === searchData.list[searchData.index]) {\r\n          searchData.index++\r\n          const scrollPos = document.documentElement.scrollTop + btnList[i].$el.getBoundingClientRect().top - 200\r\n          highlight.value = i\r\n          window.scrollTo({ top: scrollPos, behavior: 'smooth' })\r\n          break\r\n        }\r\n      }\r\n    }\r\n  })\r\n\r\n  return { searchData, highlight }\r\n}\r\n\r\nconst getBtnList = () => {\r\n  // 所有按钮的引用\r\n  const btnList: { [name: string]: any } = reactive({})\r\n  const setBtnList = (name: string, el) => {\r\n    btnList[name] = el\r\n  }\r\n\r\n  return { btnList, setBtnList }\r\n}\r\n\r\nconst createPlayer = (btnList) => {\r\n  const { t, te, locale } = useI18n()\r\n\r\n  const playSetting: PlaySetting = inject('playSetting') as PlaySetting\r\n\r\n  const voices = inject('voices', ref([]) as Ref<Voices>)\r\n  const voiceList = inject('voiceList', ref([]) as Ref<VoicesItem[]>)\r\n  const infoDate = inject('infoDate') as Ref<Mark | null>\r\n\r\n  if ('mediaSession' in navigator) {\r\n    navigator.mediaSession.setActionHandler('nexttrack', () => {\r\n      randomPlay()\r\n    })\r\n    navigator.mediaSession.setActionHandler('previoustrack', () => {\r\n      randomPlay()\r\n    })\r\n    navigator.mediaSession.setActionHandler('pause', () => {\r\n      if (playerList.has('once')) (playerList.get('once') as Player).audio.pause()\r\n      navigator.mediaSession.playbackState = 'paused'\r\n    })\r\n  }\r\n\r\n  let timer: any = null\r\n\r\n  /**\r\n   * 重置播放状态\r\n   */\r\n  const reset = () => {\r\n    playSetting.loading = true\r\n    playSetting.nowPlay = null\r\n    playSetting.error = false\r\n    infoDate.value = null\r\n  }\r\n\r\n  const playerList: PlayerList = new Map()\r\n\r\n  /**\r\n   * 播放语音\r\n   * @param voice 语音对象\r\n   * @param category 所属分类的name\r\n   */\r\n  const play = (voice: VoicesItem) => {\r\n    // 可在此处增加播放统计相关代码\r\n    if (!playSetting.overlap) {\r\n      if (playerList.has('once')) (playerList.get('once') as Player).audio.pause()\r\n      if (playSetting.nowPlay && playSetting.nowPlay.name === voice.name) {\r\n        clearTimeout(timer)\r\n        timer = setTimeout(() => {\r\n          addPlayer(voice, 'once')\r\n        }, 250)\r\n      } else {\r\n        addPlayer(voice, 'once')\r\n      }\r\n      if ('mediaSession' in navigator) {\r\n        const meta = {\r\n          title: t('voice.' + voice.name),\r\n          artist: t(INFO_I18N.fullName),\r\n          album: t(INFO_I18N.title),\r\n          artwork: MEDIA ? [{ src: `/img/${MEDIA}`, sizes: '128x128' }] : []\r\n        }\r\n        navigator.mediaSession.metadata = new window.MediaMetadata(meta)\r\n        navigator.mediaSession.playbackState = 'playing'\r\n      }\r\n    } else {\r\n      const key = new Date().getTime()\r\n      addPlayer(voice, key)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 把语音对象添加到MAP\r\n   */\r\n  const addPlayer = (voice: VoicesItem, key: any) => {\r\n    reset()\r\n    if (key === 'once' && playerList.has(key)) {\r\n      playerList.get(key)!.audio.oncanplay = null\r\n    }\r\n    const path = process.env.NODE_ENV === 'production' && CDN ? `${CDN}/${voice.path}` : `voices/${voice.path}`\r\n    playerList.set(key, {\r\n      name: voice.name,\r\n      audio: new Audio(path)\r\n    })\r\n    if (!playSetting.overlap) {\r\n      playSetting.nowPlay = voice\r\n      if (voice.mark) {\r\n        infoDate.value = voice.mark\r\n      }\r\n    }\r\n    playerList.get(key)!.audio.play()\r\n    playerList.get(key)!.audio.onerror = () => {\r\n      if (CDN && playerList.get(key)!.audio.src.startsWith(CDN)) {\r\n        playerList.get(key)!.audio.src = `voices/${voice.path}`\r\n        playerList.get(key)!.audio.play()\r\n      } else {\r\n        playSetting.loading = false\r\n        playSetting.error = true\r\n        navigator.mediaSession.playbackState = 'paused'\r\n      }\r\n    }\r\n    playerList.get(key)!.audio.oncanplay = () => {\r\n      playSetting.loading = false\r\n      const duration = playerList.get(key)!.audio.duration\r\n      let currentTime = 0\r\n      playerList.get(key)!.audio.ontimeupdate = () => {\r\n        currentTime = Number(((playerList.get(key)!.audio.currentTime / duration) * 100).toFixed(0))\r\n        let num = 0\r\n        for (const k of playerList.keys()) {\r\n          if (playerList.get(k)!.name === voice.name) {\r\n            num++\r\n          }\r\n        }\r\n        if (num > 1) {\r\n          btnList[voice.name].progress = 100\r\n        } else {\r\n          btnList[voice.name].progress = currentTime\r\n        }\r\n      }\r\n      playerList.get(key)!.audio.onended = () => {\r\n        btnList[voice.name].progress = 0\r\n        playerList.delete(key)\r\n        if (playSetting.loop > 0) {\r\n          listLoop(voice)\r\n        } else {\r\n          reset()\r\n        }\r\n        if (playSetting.autoRandom) {\r\n          randomPlay()\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  mitt.on(EVENT.randomPlay, () => {\r\n    randomPlay()\r\n  })\r\n\r\n  /**\r\n   * 随机播放\r\n   */\r\n  const randomPlay = () => {\r\n    const list: VoicesItem[] = []\r\n    voices.value.forEach((item: VoicesCategory | VoicesOrigin) => {\r\n      if (isShowCategory(item)) {\r\n        item.voiceList.forEach(voice => {\r\n          if (isShowVoice(voice.name)) {\r\n            list.push(voice)\r\n          }\r\n        })\r\n      }\r\n    })\r\n    play(list[getrRandomInt(list.length)])\r\n  }\r\n\r\n  /**\r\n   * 循环播放\r\n   */\r\n  const listLoop = (voice: VoicesItem) => {\r\n    if (playSetting.loop === 1) {\r\n      play(voice)\r\n    } else if (playSetting.loop === 2) {\r\n      let list: VoicesItem[] = []\r\n      if (!playSetting.showInfo) {\r\n        list = (voices.value as VoicesCategory[]).find(voicesCategory => {\r\n          if (voicesCategory.name === voice.category) {\r\n            return voicesCategory.voiceList\r\n          }\r\n        })!.voiceList\r\n      } else {\r\n        if (voice.mark && voice.mark.title) {\r\n          list = (voices.value as VoicesOrigin[]).find(mark => {\r\n            if (mark.title === voice.mark!.title) {\r\n              return mark.voiceList\r\n            }\r\n          })!.voiceList\r\n        } else {\r\n          list = (voices.value as VoicesOrigin[]).find(mark => {\r\n            if (mark.title === 'unknown') {\r\n              return mark.voiceList\r\n            }\r\n          })!.voiceList\r\n        }\r\n      }\r\n      const nextVoice = list[getLoopIndex(voice, list)]\r\n      if (nextVoice) {\r\n        play(nextVoice)\r\n      }\r\n    } else if (playSetting.loop === 3) {\r\n      const nextVoice = voiceList.value[getLoopIndex(voice, voiceList.value)]\r\n      if (nextVoice) {\r\n        play(nextVoice)\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取列表播放的下一个索引\r\n   */\r\n  const getLoopIndex = (voice: VoicesItem, list: VoicesItem[]): number => {\r\n    let index = -1\r\n    for (const i in list) {\r\n      if (Number(i) === list.length - 1) {\r\n        index = 0\r\n        break\r\n      }\r\n      if (list[i].name === voice.name) {\r\n        index = Number(i) + 1\r\n        if (!isCanPlay(list[index])) {\r\n          index = getLoopIndex(list[index], list)\r\n        }\r\n        break\r\n      }\r\n    }\r\n    return index\r\n  }\r\n\r\n  /**\r\n   * 判断该模式或语言下是否可播放\r\n   */\r\n  const isCanPlay = (voice: VoicesItem) => {\r\n    return (voices.value.some(item => {\r\n      if (playSetting.showInfo) {\r\n        if (voice.mark) {\r\n          return item.title === voice.mark.title\r\n        } else {\r\n          return item.title === 'unknown'\r\n        }\r\n      } else {\r\n        return item.name === voice.category && Boolean(item.translate[locale.value])\r\n      }\r\n    })) && Boolean(voice.translate[locale.value])\r\n  }\r\n\r\n  mitt.on(EVENT.stopPlay, () => {\r\n    clearTimeout(timer)\r\n    for (const key of playerList.keys()) {\r\n      playerList.get(key)!.audio.pause()\r\n      playerList.get(key)!.audio.onerror = null\r\n      playerList.get(key)!.audio.oncanplay = null\r\n      playerList.get(key)!.audio.ontimeupdate = null\r\n      playerList.get(key)!.audio.onended = null\r\n      const name = playerList.get(key)!.name\r\n      btnList[name].progress = 0\r\n    }\r\n    playerList.clear()\r\n    reset()\r\n  })\r\n\r\n  /**\r\n   * 是否需要显示分类\r\n   */\r\n  const isShowCategory = (item: VoicesCategory | VoicesOrigin) => {\r\n    const flag = item.voiceList.every(voice => {\r\n      return !isShowVoice(voice.name)\r\n    })\r\n    if (flag) {\r\n      return false\r\n    } else if (playSetting.showInfo) {\r\n      return Boolean(item['title'])\r\n    } else {\r\n      return te(`voicecategory.${item['name']}`) && Boolean(t(`voicecategory.${item['name']}`))\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 是否需要显示语音\r\n   */\r\n  const isShowVoice = (name: string) => {\r\n    return te(`voice.${name}`) && Boolean(t(`voice.${name}`))\r\n  }\r\n\r\n  /**\r\n   * 鼠标停留时是否显示时间\r\n   */\r\n  const isShowTime = (mark) => {\r\n    return playSetting.showInfo && mark && mark.time ? mark.time : ''\r\n  }\r\n\r\n  /**\r\n   * 返回需要显示的表情包url\r\n   */\r\n  const getPicUrl = (usePicture?: Translate) => {\r\n    return usePicture && Boolean(usePicture[locale.value]) ? `/voices/img/${usePicture[locale.value]}` : null\r\n  }\r\n\r\n  return {\r\n    playSetting,\r\n    voices,\r\n    play,\r\n    isShowCategory,\r\n    isShowVoice,\r\n    isShowTime,\r\n    getPicUrl\r\n  }\r\n}\r\n\r\nexport {\r\n  useSearch,\r\n  getBtnList,\r\n  createPlayer\r\n}\r\n"],"sourceRoot":""}]}
{"remainingRequest":"D:\\FrozenLemonTee\\Arbeit\\WebProject\\ciyana-button\\ciyana-button\\node_modules\\babel-loader\\lib\\index.js!D:\\FrozenLemonTee\\Arbeit\\WebProject\\ciyana-button\\ciyana-button\\node_modules\\ts-loader\\index.js??ref--14-2!D:\\FrozenLemonTee\\Arbeit\\WebProject\\ciyana-button\\ciyana-button\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\FrozenLemonTee\\Arbeit\\WebProject\\ciyana-button\\ciyana-button\\src\\components\\Voive.ts","dependencies":[{"path":"D:\\FrozenLemonTee\\Arbeit\\WebProject\\ciyana-button\\ciyana-button\\src\\components\\Voive.ts","mtime":1616597716281},{"path":"D:\\FrozenLemonTee\\Arbeit\\WebProject\\ciyana-button\\ciyana-button\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615601873994},{"path":"D:\\FrozenLemonTee\\Arbeit\\WebProject\\ciyana-button\\ciyana-button\\node_modules\\babel-loader\\lib\\index.js","mtime":1615601874000},{"path":"D:\\FrozenLemonTee\\Arbeit\\WebProject\\ciyana-button\\ciyana-button\\node_modules\\ts-loader\\index.js","mtime":1615707284305},{"path":"D:\\FrozenLemonTee\\Arbeit\\WebProject\\ciyana-button\\ciyana-button\\node_modules\\eslint-loader\\index.js","mtime":1615601886951}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIkQ6L0Zyb3plbkxlbW9uVGVlL0FyYmVpdC9XZWJQcm9qZWN0L2NpeWFuYS1idXR0b24vY2l5YW5hLWJ1dHRvbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnN0YXJ0cy13aXRoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLnRvLWZpeGVkLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgU2V0dGluZyBmcm9tICdALy4uL3NldHRpbmcvc2V0dGluZy5qc29uJzsKaW1wb3J0IG1pdHQgZnJvbSAnQC9hc3NldHMvc2NyaXB0L21pdHQnOwppbXBvcnQgeyBFVkVOVCwgSU5GT19JMThOIH0gZnJvbSAnQC9hc3NldHMvc2NyaXB0L3R5cGUnOwppbXBvcnQgeyBnZXRyUmFuZG9tSW50IH0gZnJvbSAnQC9hc3NldHMvc2NyaXB0L3V0aWxzJzsKaW1wb3J0IHsgaW5qZWN0LCByZWFjdGl2ZSwgcmVmLCB3YXRjaCB9IGZyb20gJ3Z1ZSc7CmltcG9ydCB7IHVzZUkxOG4gfSBmcm9tICd2dWUtaTE4bic7CmltcG9ydCB7IGd0YWcgfSBmcm9tICdAL2Fzc2V0cy9zY3JpcHQvYW5hbHl0aWNzL2d0YWcnOwp2YXIgTUVESUEgPSBTZXR0aW5nWydtZWRpYVNlc3Npb24nXTsKdmFyIENETiA9IFNldHRpbmdbJ0NETiddOwp2YXIgR0FfSUQgPSBTZXR0aW5nWydHQV9JRCddOwoKdmFyIHVzZVNlYXJjaCA9IGZ1bmN0aW9uIHVzZVNlYXJjaChidG5MaXN0KSB7CiAgdmFyIHNlYXJjaERhdGEgPSBpbmplY3QoJ3NlYXJjaERhdGEnKTsgLy8g6ZyA6KaB6auY5Lqu5pi+56S655qEbmFtZQoKICB2YXIgaGlnaGxpZ2h0ID0gcmVmKCcnKTsgLy8g5pCc57Si5pWw5o2u5pS55Y+Y5pe26YeN5paw5Yy56YWN6auY5Lqu5L2O5LquCgogIHdhdGNoKHNlYXJjaERhdGEsIGZ1bmN0aW9uIChkYXRhKSB7CiAgICBmb3IgKHZhciBpIGluIGJ0bkxpc3QpIHsKICAgICAgaWYgKCFidG5MaXN0W2ldKSBjb250aW51ZTsKCiAgICAgIGlmIChkYXRhLnZhbHVlLmxlbmd0aCA+IDApIHsKICAgICAgICBidG5MaXN0W2ldLmxvd2xpZ2h0ID0gIWRhdGEubGlzdC5pbmNsdWRlcyhpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBidG5MaXN0W2ldLmxvd2xpZ2h0ID0gZmFsc2U7CiAgICAgIH0KCiAgICAgIGJ0bkxpc3RbaV0uaGlnaGxpZ2h0ID0gaSA9PT0gaGlnaGxpZ2h0LnZhbHVlOwogICAgfQogIH0pOyAvLyDmkJzntKLmoI/mloflrZfmlLnlj5jml7bmuIXpmaTpq5jkuq4KCiAgd2F0Y2goZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHNlYXJjaERhdGEudmFsdWU7CiAgfSwgZnVuY3Rpb24gKG5ld1ZhbCwgb2xkVmFsKSB7CiAgICBpZiAobmV3VmFsICE9PSBvbGRWYWwpIHsKICAgICAgc2VhcmNoRGF0YS5pbmRleCA9IDA7CiAgICB9CgogICAgaGlnaGxpZ2h0LnZhbHVlID0gJyc7CiAgfSk7IC8vIOa7muWKqOWIsOmrmOS6rueahERPTQoKICBtaXR0Lm9uKEVWRU5ULmF1dG9TY3JvbGwsIGZ1bmN0aW9uICgpIHsKICAgIGlmIChzZWFyY2hEYXRhLmxpc3QgJiYgc2VhcmNoRGF0YS5saXN0Lmxlbmd0aCA+IDApIHsKICAgICAgZm9yICh2YXIgaSBpbiBidG5MaXN0KSB7CiAgICAgICAgaWYgKHNlYXJjaERhdGEuaW5kZXggKyAxID4gc2VhcmNoRGF0YS5saXN0Lmxlbmd0aCkgc2VhcmNoRGF0YS5pbmRleCA9IDA7CgogICAgICAgIGlmIChpID09PSBzZWFyY2hEYXRhLmxpc3Rbc2VhcmNoRGF0YS5pbmRleF0pIHsKICAgICAgICAgIHNlYXJjaERhdGEuaW5kZXgrKzsKICAgICAgICAgIHZhciBzY3JvbGxQb3MgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wICsgYnRuTGlzdFtpXS4kZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wIC0gMjAwOwogICAgICAgICAgaGlnaGxpZ2h0LnZhbHVlID0gaTsKICAgICAgICAgIHdpbmRvdy5zY3JvbGxUbyh7CiAgICAgICAgICAgIHRvcDogc2Nyb2xsUG9zLAogICAgICAgICAgICBiZWhhdmlvcjogJ3Ntb290aCcKICAgICAgICAgIH0pOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSk7CiAgcmV0dXJuIHsKICAgIHNlYXJjaERhdGE6IHNlYXJjaERhdGEsCiAgICBoaWdobGlnaHQ6IGhpZ2hsaWdodAogIH07Cn07Cgp2YXIgZ2V0QnRuTGlzdCA9IGZ1bmN0aW9uIGdldEJ0bkxpc3QoKSB7CiAgLy8g5omA5pyJ5oyJ6ZKu55qE5byV55SoCiAgdmFyIGJ0bkxpc3QgPSByZWFjdGl2ZSh7fSk7CgogIHZhciBzZXRCdG5MaXN0ID0gZnVuY3Rpb24gc2V0QnRuTGlzdChuYW1lLCBlbCkgewogICAgYnRuTGlzdFtuYW1lXSA9IGVsOwogIH07CgogIHJldHVybiB7CiAgICBidG5MaXN0OiBidG5MaXN0LAogICAgc2V0QnRuTGlzdDogc2V0QnRuTGlzdAogIH07Cn07Cgp2YXIgY3JlYXRlUGxheWVyID0gZnVuY3Rpb24gY3JlYXRlUGxheWVyKGJ0bkxpc3QpIHsKICB2YXIgX3VzZUkxOG4gPSB1c2VJMThuKCksCiAgICAgIHQgPSBfdXNlSTE4bi50LAogICAgICB0ZSA9IF91c2VJMThuLnRlLAogICAgICBsb2NhbGUgPSBfdXNlSTE4bi5sb2NhbGU7CgogIHZhciBwbGF5U2V0dGluZyA9IGluamVjdCgncGxheVNldHRpbmcnKTsKICB2YXIgdm9pY2VzID0gaW5qZWN0KCd2b2ljZXMnLCByZWYoW10pKTsKICB2YXIgdm9pY2VMaXN0ID0gaW5qZWN0KCd2b2ljZUxpc3QnLCByZWYoW10pKTsKICB2YXIgaW5mb0RhdGUgPSBpbmplY3QoJ2luZm9EYXRlJyk7CgogIGlmICgnbWVkaWFTZXNzaW9uJyBpbiBuYXZpZ2F0b3IpIHsKICAgIG5hdmlnYXRvci5tZWRpYVNlc3Npb24uc2V0QWN0aW9uSGFuZGxlcignbmV4dHRyYWNrJywgZnVuY3Rpb24gKCkgewogICAgICByYW5kb21QbGF5KCk7CiAgICB9KTsKICAgIG5hdmlnYXRvci5tZWRpYVNlc3Npb24uc2V0QWN0aW9uSGFuZGxlcigncHJldmlvdXN0cmFjaycsIGZ1bmN0aW9uICgpIHsKICAgICAgcmFuZG9tUGxheSgpOwogICAgfSk7CiAgICBuYXZpZ2F0b3IubWVkaWFTZXNzaW9uLnNldEFjdGlvbkhhbmRsZXIoJ3BhdXNlJywgZnVuY3Rpb24gKCkgewogICAgICBpZiAocGxheWVyTGlzdC5oYXMoJ29uY2UnKSkgcGxheWVyTGlzdC5nZXQoJ29uY2UnKS5hdWRpby5wYXVzZSgpOwogICAgICBuYXZpZ2F0b3IubWVkaWFTZXNzaW9uLnBsYXliYWNrU3RhdGUgPSAncGF1c2VkJzsKICAgIH0pOwogIH0KCiAgdmFyIHRpbWVyID0gbnVsbDsKICAvKioNCiAgICog6YeN572u5pKt5pS+54q25oCBDQogICAqLwoKICB2YXIgcmVzZXQgPSBmdW5jdGlvbiByZXNldCgpIHsKICAgIHBsYXlTZXR0aW5nLmxvYWRpbmcgPSB0cnVlOwogICAgcGxheVNldHRpbmcubm93UGxheSA9IG51bGw7CiAgICBwbGF5U2V0dGluZy5lcnJvciA9IGZhbHNlOwogICAgaW5mb0RhdGUudmFsdWUgPSBudWxsOwogIH07CgogIHZhciBwbGF5ZXJMaXN0ID0gbmV3IE1hcCgpOwogIC8qKg0KICAgKiDmkq3mlL7or63pn7MNCiAgICogQHBhcmFtIHZvaWNlIOivremfs+WvueixoQ0KICAgKiBAcGFyYW0gY2F0ZWdvcnkg5omA5bGe5YiG57G755qEbmFtZQ0KICAgKi8KCiAgdmFyIHBsYXkgPSBmdW5jdGlvbiBwbGF5KHZvaWNlKSB7CiAgICAvLyDlj6/lnKjmraTlpITlop7liqDmkq3mlL7nu5/orqHnm7jlhbPku6PnoIEKICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nICYmIEdBX0lEKSB7CiAgICAgIC8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9jYW1lbGNhc2UgKi8KICAgICAgZ3RhZygnZXZlbnQnLCAn5pKt5pS+6K+t6Z+zJywgewogICAgICAgIGV2ZW50X2NhdGVnb3J5OiB2b2ljZS5uYW1lLAogICAgICAgIGV2ZW50X2xhYmVsOiB2b2ljZS5jYXRlZ29yeSwKICAgICAgICB2YWx1ZTogMQogICAgICB9KTsKICAgICAgLyogZXNsaW50LWVuYWJsZSAqLwogICAgfQoKICAgIGlmICghcGxheVNldHRpbmcub3ZlcmxhcCkgewogICAgICBpZiAocGxheWVyTGlzdC5oYXMoJ29uY2UnKSkgcGxheWVyTGlzdC5nZXQoJ29uY2UnKS5hdWRpby5wYXVzZSgpOwoKICAgICAgaWYgKHBsYXlTZXR0aW5nLm5vd1BsYXkgJiYgcGxheVNldHRpbmcubm93UGxheS5uYW1lID09PSB2b2ljZS5uYW1lKSB7CiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTsKICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgYWRkUGxheWVyKHZvaWNlLCAnb25jZScpOwogICAgICAgIH0sIDI1MCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgYWRkUGxheWVyKHZvaWNlLCAnb25jZScpOwogICAgICB9CgogICAgICBpZiAoJ21lZGlhU2Vzc2lvbicgaW4gbmF2aWdhdG9yKSB7CiAgICAgICAgdmFyIG1ldGEgPSB7CiAgICAgICAgICB0aXRsZTogdCgndm9pY2UuJyArIHZvaWNlLm5hbWUpLAogICAgICAgICAgYXJ0aXN0OiB0KElORk9fSTE4Ti5mdWxsTmFtZSksCiAgICAgICAgICBhbGJ1bTogdChJTkZPX0kxOE4udGl0bGUpLAogICAgICAgICAgYXJ0d29yazogTUVESUEgPyBbewogICAgICAgICAgICBzcmM6ICIvaW1nLyIuY29uY2F0KE1FRElBKSwKICAgICAgICAgICAgc2l6ZXM6ICcxMjh4MTI4JwogICAgICAgICAgfV0gOiBbXQogICAgICAgIH07CiAgICAgICAgbmF2aWdhdG9yLm1lZGlhU2Vzc2lvbi5tZXRhZGF0YSA9IG5ldyB3aW5kb3cuTWVkaWFNZXRhZGF0YShtZXRhKTsKICAgICAgICBuYXZpZ2F0b3IubWVkaWFTZXNzaW9uLnBsYXliYWNrU3RhdGUgPSAncGxheWluZyc7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIHZhciBrZXkgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTsKICAgICAgYWRkUGxheWVyKHZvaWNlLCBrZXkpOwogICAgfQogIH07CiAgLyoqDQogICAqIOaKiuivremfs+Wvueixoea3u+WKoOWIsE1BUA0KICAgKi8KCgogIHZhciBhZGRQbGF5ZXIgPSBmdW5jdGlvbiBhZGRQbGF5ZXIodm9pY2UsIGtleSkgewogICAgcmVzZXQoKTsKCiAgICBpZiAoa2V5ID09PSAnb25jZScgJiYgcGxheWVyTGlzdC5oYXMoa2V5KSkgewogICAgICBwbGF5ZXJMaXN0LmdldChrZXkpLmF1ZGlvLm9uY2FucGxheSA9IG51bGw7CiAgICB9CgogICAgdmFyIHBhdGggPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nICYmIENETiA/ICIiLmNvbmNhdChDRE4sICIvIikuY29uY2F0KHZvaWNlLnBhdGgpIDogInZvaWNlcy8iLmNvbmNhdCh2b2ljZS5wYXRoKTsKICAgIHBsYXllckxpc3Quc2V0KGtleSwgewogICAgICBuYW1lOiB2b2ljZS5uYW1lLAogICAgICBhdWRpbzogbmV3IEF1ZGlvKHBhdGgpCiAgICB9KTsKCiAgICBpZiAoIXBsYXlTZXR0aW5nLm92ZXJsYXApIHsKICAgICAgcGxheVNldHRpbmcubm93UGxheSA9IHZvaWNlOwoKICAgICAgaWYgKHZvaWNlLm1hcmspIHsKICAgICAgICBpbmZvRGF0ZS52YWx1ZSA9IHZvaWNlLm1hcms7CiAgICAgIH0KICAgIH0KCiAgICBwbGF5ZXJMaXN0LmdldChrZXkpLmF1ZGlvLnBsYXkoKTsKCiAgICBwbGF5ZXJMaXN0LmdldChrZXkpLmF1ZGlvLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7CiAgICAgIGlmIChDRE4gJiYgcGxheWVyTGlzdC5nZXQoa2V5KS5hdWRpby5zcmMuc3RhcnRzV2l0aChDRE4pKSB7CiAgICAgICAgcGxheWVyTGlzdC5nZXQoa2V5KS5hdWRpby5zcmMgPSAidm9pY2VzLyIuY29uY2F0KHZvaWNlLnBhdGgpOwogICAgICAgIHBsYXllckxpc3QuZ2V0KGtleSkuYXVkaW8ucGxheSgpOwogICAgICB9IGVsc2UgewogICAgICAgIHBsYXlTZXR0aW5nLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICBwbGF5U2V0dGluZy5lcnJvciA9IHRydWU7CiAgICAgICAgbmF2aWdhdG9yLm1lZGlhU2Vzc2lvbi5wbGF5YmFja1N0YXRlID0gJ3BhdXNlZCc7CiAgICAgIH0KICAgIH07CgogICAgcGxheWVyTGlzdC5nZXQoa2V5KS5hdWRpby5vbmNhbnBsYXkgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHBsYXlTZXR0aW5nLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgdmFyIGR1cmF0aW9uID0gcGxheWVyTGlzdC5nZXQoa2V5KS5hdWRpby5kdXJhdGlvbjsKICAgICAgdmFyIGN1cnJlbnRUaW1lID0gMDsKCiAgICAgIHBsYXllckxpc3QuZ2V0KGtleSkuYXVkaW8ub250aW1ldXBkYXRlID0gZnVuY3Rpb24gKCkgewogICAgICAgIGN1cnJlbnRUaW1lID0gTnVtYmVyKChwbGF5ZXJMaXN0LmdldChrZXkpLmF1ZGlvLmN1cnJlbnRUaW1lIC8gZHVyYXRpb24gKiAxMDApLnRvRml4ZWQoMCkpOwogICAgICAgIHZhciBudW0gPSAwOwoKICAgICAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIocGxheWVyTGlzdC5rZXlzKCkpLAogICAgICAgICAgICBfc3RlcDsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgIHZhciBrID0gX3N0ZXAudmFsdWU7CgogICAgICAgICAgICBpZiAocGxheWVyTGlzdC5nZXQoaykubmFtZSA9PT0gdm9pY2UubmFtZSkgewogICAgICAgICAgICAgIG51bSsrOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICBfaXRlcmF0b3IuZigpOwogICAgICAgIH0KCiAgICAgICAgaWYgKG51bSA+IDEpIHsKICAgICAgICAgIGJ0bkxpc3Rbdm9pY2UubmFtZV0ucHJvZ3Jlc3MgPSAxMDA7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGJ0bkxpc3Rbdm9pY2UubmFtZV0ucHJvZ3Jlc3MgPSBjdXJyZW50VGltZTsKICAgICAgICB9CiAgICAgIH07CgogICAgICBwbGF5ZXJMaXN0LmdldChrZXkpLmF1ZGlvLm9uZW5kZWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgYnRuTGlzdFt2b2ljZS5uYW1lXS5wcm9ncmVzcyA9IDA7CiAgICAgICAgcGxheWVyTGlzdC5kZWxldGUoa2V5KTsKCiAgICAgICAgaWYgKHBsYXlTZXR0aW5nLmxvb3AgPiAwKSB7CiAgICAgICAgICBsaXN0TG9vcCh2b2ljZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJlc2V0KCk7CiAgICAgICAgfQoKICAgICAgICBpZiAocGxheVNldHRpbmcuYXV0b1JhbmRvbSkgewogICAgICAgICAgcmFuZG9tUGxheSgpOwogICAgICAgIH0KICAgICAgfTsKICAgIH07CiAgfTsKCiAgbWl0dC5vbihFVkVOVC5yYW5kb21QbGF5LCBmdW5jdGlvbiAoKSB7CiAgICByYW5kb21QbGF5KCk7CiAgfSk7CiAgLyoqDQogICAqIOmaj+acuuaSreaUvg0KICAgKi8KCiAgdmFyIHJhbmRvbVBsYXkgPSBmdW5jdGlvbiByYW5kb21QbGF5KCkgewogICAgdmFyIGxpc3QgPSBbXTsKICAgIHZvaWNlcy52YWx1ZS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIGlmIChpc1Nob3dDYXRlZ29yeShpdGVtKSkgewogICAgICAgIGl0ZW0udm9pY2VMaXN0LmZvckVhY2goZnVuY3Rpb24gKHZvaWNlKSB7CiAgICAgICAgICBpZiAoaXNTaG93Vm9pY2Uodm9pY2UubmFtZSkpIHsKICAgICAgICAgICAgbGlzdC5wdXNoKHZvaWNlKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSk7CiAgICBwbGF5KGxpc3RbZ2V0clJhbmRvbUludChsaXN0Lmxlbmd0aCldKTsKICB9OwogIC8qKg0KICAgKiDlvqrnjq/mkq3mlL4NCiAgICovCgoKICB2YXIgbGlzdExvb3AgPSBmdW5jdGlvbiBsaXN0TG9vcCh2b2ljZSkgewogICAgaWYgKHBsYXlTZXR0aW5nLmxvb3AgPT09IDEpIHsKICAgICAgcGxheSh2b2ljZSk7CiAgICB9IGVsc2UgaWYgKHBsYXlTZXR0aW5nLmxvb3AgPT09IDIpIHsKICAgICAgdmFyIGxpc3QgPSBbXTsKCiAgICAgIGlmICghcGxheVNldHRpbmcuc2hvd0luZm8pIHsKICAgICAgICBsaXN0ID0gdm9pY2VzLnZhbHVlLmZpbmQoZnVuY3Rpb24gKHZvaWNlc0NhdGVnb3J5KSB7CiAgICAgICAgICBpZiAodm9pY2VzQ2F0ZWdvcnkubmFtZSA9PT0gdm9pY2UuY2F0ZWdvcnkpIHsKICAgICAgICAgICAgcmV0dXJuIHZvaWNlc0NhdGVnb3J5LnZvaWNlTGlzdDsKICAgICAgICAgIH0KICAgICAgICB9KS52b2ljZUxpc3Q7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKHZvaWNlLm1hcmsgJiYgdm9pY2UubWFyay50aXRsZSkgewogICAgICAgICAgbGlzdCA9IHZvaWNlcy52YWx1ZS5maW5kKGZ1bmN0aW9uIChtYXJrKSB7CiAgICAgICAgICAgIGlmIChtYXJrLnRpdGxlID09PSB2b2ljZS5tYXJrLnRpdGxlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIG1hcmsudm9pY2VMaXN0OwogICAgICAgICAgICB9CiAgICAgICAgICB9KS52b2ljZUxpc3Q7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGxpc3QgPSB2b2ljZXMudmFsdWUuZmluZChmdW5jdGlvbiAobWFyaykgewogICAgICAgICAgICBpZiAobWFyay50aXRsZSA9PT0gJ3Vua25vd24nKSB7CiAgICAgICAgICAgICAgcmV0dXJuIG1hcmsudm9pY2VMaXN0OwogICAgICAgICAgICB9CiAgICAgICAgICB9KS52b2ljZUxpc3Q7CiAgICAgICAgfQogICAgICB9CgogICAgICB2YXIgbmV4dFZvaWNlID0gbGlzdFtnZXRMb29wSW5kZXgodm9pY2UsIGxpc3QpXTsKCiAgICAgIGlmIChuZXh0Vm9pY2UpIHsKICAgICAgICBwbGF5KG5leHRWb2ljZSk7CiAgICAgIH0KICAgIH0gZWxzZSBpZiAocGxheVNldHRpbmcubG9vcCA9PT0gMykgewogICAgICB2YXIgX25leHRWb2ljZSA9IHZvaWNlTGlzdC52YWx1ZVtnZXRMb29wSW5kZXgodm9pY2UsIHZvaWNlTGlzdC52YWx1ZSldOwoKICAgICAgaWYgKF9uZXh0Vm9pY2UpIHsKICAgICAgICBwbGF5KF9uZXh0Vm9pY2UpOwogICAgICB9CiAgICB9CiAgfTsKICAvKioNCiAgICog6I635Y+W5YiX6KGo5pKt5pS+55qE5LiL5LiA5Liq57Si5byVDQogICAqLwoKCiAgdmFyIGdldExvb3BJbmRleCA9IGZ1bmN0aW9uIGdldExvb3BJbmRleCh2b2ljZSwgbGlzdCkgewogICAgdmFyIGluZGV4ID0gLTE7CgogICAgZm9yICh2YXIgaSBpbiBsaXN0KSB7CiAgICAgIGlmIChOdW1iZXIoaSkgPT09IGxpc3QubGVuZ3RoIC0gMSkgewogICAgICAgIGluZGV4ID0gMDsKICAgICAgICBicmVhazsKICAgICAgfQoKICAgICAgaWYgKGxpc3RbaV0ubmFtZSA9PT0gdm9pY2UubmFtZSkgewogICAgICAgIGluZGV4ID0gTnVtYmVyKGkpICsgMTsKCiAgICAgICAgaWYgKCFpc0NhblBsYXkobGlzdFtpbmRleF0pKSB7CiAgICAgICAgICBpbmRleCA9IGdldExvb3BJbmRleChsaXN0W2luZGV4XSwgbGlzdCk7CiAgICAgICAgfQoKICAgICAgICBicmVhazsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBpbmRleDsKICB9OwogIC8qKg0KICAgKiDliKTmlq3or6XmqKHlvI/miJbor63oqIDkuIvmmK/lkKblj6/mkq3mlL4NCiAgICovCgoKICB2YXIgaXNDYW5QbGF5ID0gZnVuY3Rpb24gaXNDYW5QbGF5KHZvaWNlKSB7CiAgICByZXR1cm4gdm9pY2VzLnZhbHVlLnNvbWUoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgaWYgKHBsYXlTZXR0aW5nLnNob3dJbmZvKSB7CiAgICAgICAgaWYgKHZvaWNlLm1hcmspIHsKICAgICAgICAgIHJldHVybiBpdGVtLnRpdGxlID09PSB2b2ljZS5tYXJrLnRpdGxlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gaXRlbS50aXRsZSA9PT0gJ3Vua25vd24nOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gaXRlbS5uYW1lID09PSB2b2ljZS5jYXRlZ29yeSAmJiBCb29sZWFuKGl0ZW0udHJhbnNsYXRlW2xvY2FsZS52YWx1ZV0pOwogICAgICB9CiAgICB9KSAmJiBCb29sZWFuKHZvaWNlLnRyYW5zbGF0ZVtsb2NhbGUudmFsdWVdKTsKICB9OwoKICBtaXR0Lm9uKEVWRU5ULnN0b3BQbGF5LCBmdW5jdGlvbiAoKSB7CiAgICBjbGVhclRpbWVvdXQodGltZXIpOwoKICAgIHZhciBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIocGxheWVyTGlzdC5rZXlzKCkpLAogICAgICAgIF9zdGVwMjsKCiAgICB0cnkgewogICAgICBmb3IgKF9pdGVyYXRvcjIucygpOyAhKF9zdGVwMiA9IF9pdGVyYXRvcjIubigpKS5kb25lOykgewogICAgICAgIHZhciBrZXkgPSBfc3RlcDIudmFsdWU7CiAgICAgICAgcGxheWVyTGlzdC5nZXQoa2V5KS5hdWRpby5wYXVzZSgpOwogICAgICAgIHBsYXllckxpc3QuZ2V0KGtleSkuYXVkaW8ub25lcnJvciA9IG51bGw7CiAgICAgICAgcGxheWVyTGlzdC5nZXQoa2V5KS5hdWRpby5vbmNhbnBsYXkgPSBudWxsOwogICAgICAgIHBsYXllckxpc3QuZ2V0KGtleSkuYXVkaW8ub250aW1ldXBkYXRlID0gbnVsbDsKICAgICAgICBwbGF5ZXJMaXN0LmdldChrZXkpLmF1ZGlvLm9uZW5kZWQgPSBudWxsOwogICAgICAgIHZhciBuYW1lID0gcGxheWVyTGlzdC5nZXQoa2V5KS5uYW1lOwogICAgICAgIGJ0bkxpc3RbbmFtZV0ucHJvZ3Jlc3MgPSAwOwogICAgICB9CiAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgX2l0ZXJhdG9yMi5lKGVycik7CiAgICB9IGZpbmFsbHkgewogICAgICBfaXRlcmF0b3IyLmYoKTsKICAgIH0KCiAgICBwbGF5ZXJMaXN0LmNsZWFyKCk7CiAgICByZXNldCgpOwogIH0pOwogIC8qKg0KICAgKiDmmK/lkKbpnIDopoHmmL7npLrliIbnsbsNCiAgICovCgogIHZhciBpc1Nob3dDYXRlZ29yeSA9IGZ1bmN0aW9uIGlzU2hvd0NhdGVnb3J5KGl0ZW0pIHsKICAgIHZhciBmbGFnID0gaXRlbS52b2ljZUxpc3QuZXZlcnkoZnVuY3Rpb24gKHZvaWNlKSB7CiAgICAgIHJldHVybiAhaXNTaG93Vm9pY2Uodm9pY2UubmFtZSk7CiAgICB9KTsKCiAgICBpZiAoZmxhZykgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9IGVsc2UgaWYgKHBsYXlTZXR0aW5nLnNob3dJbmZvKSB7CiAgICAgIHJldHVybiBCb29sZWFuKGl0ZW1bJ3RpdGxlJ10pOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIHRlKCJ2b2ljZWNhdGVnb3J5LiIuY29uY2F0KGl0ZW1bJ25hbWUnXSkpICYmIEJvb2xlYW4odCgidm9pY2VjYXRlZ29yeS4iLmNvbmNhdChpdGVtWyduYW1lJ10pKSk7CiAgICB9CiAgfTsKICAvKioNCiAgICog5piv5ZCm6ZyA6KaB5pi+56S66K+t6Z+zDQogICAqLwoKCiAgdmFyIGlzU2hvd1ZvaWNlID0gZnVuY3Rpb24gaXNTaG93Vm9pY2UobmFtZSkgewogICAgcmV0dXJuIHRlKCJ2b2ljZS4iLmNvbmNhdChuYW1lKSkgJiYgQm9vbGVhbih0KCJ2b2ljZS4iLmNvbmNhdChuYW1lKSkpOwogIH07CiAgLyoqDQogICAqIOm8oOagh+WBnOeVmeaXtuaYr+WQpuaYvuekuuaXtumXtA0KICAgKi8KCgogIHZhciBpc1Nob3dUaW1lID0gZnVuY3Rpb24gaXNTaG93VGltZShtYXJrKSB7CiAgICByZXR1cm4gcGxheVNldHRpbmcuc2hvd0luZm8gJiYgbWFyayAmJiBtYXJrLnRpbWUgPyBtYXJrLnRpbWUgOiAnJzsKICB9OwogIC8qKg0KICAgKiDov5Tlm57pnIDopoHmmL7npLrnmoTooajmg4XljIV1cmwNCiAgICovCgoKICB2YXIgZ2V0UGljVXJsID0gZnVuY3Rpb24gZ2V0UGljVXJsKHVzZVBpY3R1cmUpIHsKICAgIHJldHVybiB1c2VQaWN0dXJlICYmIEJvb2xlYW4odXNlUGljdHVyZVtsb2NhbGUudmFsdWVdKSA/ICIvdm9pY2VzL2ltZy8iLmNvbmNhdCh1c2VQaWN0dXJlW2xvY2FsZS52YWx1ZV0pIDogbnVsbDsKICB9OwoKICByZXR1cm4gewogICAgcGxheVNldHRpbmc6IHBsYXlTZXR0aW5nLAogICAgdm9pY2VzOiB2b2ljZXMsCiAgICBwbGF5OiBwbGF5LAogICAgaXNTaG93Q2F0ZWdvcnk6IGlzU2hvd0NhdGVnb3J5LAogICAgaXNTaG93Vm9pY2U6IGlzU2hvd1ZvaWNlLAogICAgaXNTaG93VGltZTogaXNTaG93VGltZSwKICAgIGdldFBpY1VybDogZ2V0UGljVXJsCiAgfTsKfTsKCmV4cG9ydCB7IHVzZVNlYXJjaCwgZ2V0QnRuTGlzdCwgY3JlYXRlUGxheWVyIH07"},{"version":3,"sources":["D:\\FrozenLemonTee\\Arbeit\\WebProject\\ciyana-button\\ciyana-button\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\FrozenLemonTee\\Arbeit\\WebProject\\ciyana-button\\ciyana-button\\src\\components\\Voive.ts"],"names":[],"mappings":"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","sourcesContent":["import Setting from '@/../setting/setting.json'\r\nimport mitt from '@/assets/script/mitt'\r\nimport { EVENT, INFO_I18N, Mark, Player, PlayerList, PlaySetting, SearchData, Translate, Voices, VoicesCategory, VoicesItem, VoicesOrigin } from '@/assets/script/type'\r\nimport { getrRandomInt } from '@/assets/script/utils'\r\nimport { inject, reactive, ref, Ref, watch } from 'vue'\r\nimport { useI18n } from 'vue-i18n'\r\nimport { gtag } from '@/assets/script/analytics/gtag'\r\n\r\nconst MEDIA = Setting['mediaSession']\r\nconst CDN = Setting['CDN']\r\nconst GA_ID = Setting['GA_ID']\r\n\r\nconst useSearch = (btnList) => {\r\n  const searchData: SearchData = inject('searchData') as SearchData\r\n  // 需要高亮显示的name\r\n  const highlight = ref('')\r\n\r\n  // 搜索数据改变时重新匹配高亮低亮\r\n  watch(searchData, (data) => {\r\n    for (const i in btnList) {\r\n      if (!btnList[i]) continue\r\n      if (data.value.length > 0) {\r\n        btnList[i].lowlight = !data.list.includes(i)\r\n      } else {\r\n        btnList[i].lowlight = false\r\n      }\r\n      btnList[i].highlight = i === highlight.value\r\n    }\r\n  })\r\n  // 搜索栏文字改变时清除高亮\r\n  watch(() => searchData.value, (newVal, oldVal) => {\r\n    if (newVal !== oldVal) {\r\n      searchData.index = 0\r\n    }\r\n    highlight.value = ''\r\n  })\r\n\r\n  // 滚动到高亮的DOM\r\n  mitt.on(EVENT.autoScroll, () => {\r\n    if (searchData.list && searchData.list.length > 0) {\r\n      for (const i in btnList) {\r\n        if (searchData.index + 1 > searchData.list.length) searchData.index = 0\r\n        if (i === searchData.list[searchData.index]) {\r\n          searchData.index++\r\n          const scrollPos = document.documentElement.scrollTop + btnList[i].$el.getBoundingClientRect().top - 200\r\n          highlight.value = i\r\n          window.scrollTo({ top: scrollPos, behavior: 'smooth' })\r\n          break\r\n        }\r\n      }\r\n    }\r\n  })\r\n\r\n  return { searchData, highlight }\r\n}\r\n\r\nconst getBtnList = () => {\r\n  // 所有按钮的引用\r\n  const btnList: { [name: string]: any } = reactive({})\r\n  const setBtnList = (name: string, el) => {\r\n    btnList[name] = el\r\n  }\r\n\r\n  return { btnList, setBtnList }\r\n}\r\n\r\nconst createPlayer = (btnList) => {\r\n  const { t, te, locale } = useI18n()\r\n\r\n  const playSetting: PlaySetting = inject('playSetting') as PlaySetting\r\n\r\n  const voices = inject('voices', ref([]) as Ref<Voices>)\r\n  const voiceList = inject('voiceList', ref([]) as Ref<VoicesItem[]>)\r\n  const infoDate = inject('infoDate') as Ref<Mark | null>\r\n\r\n  if ('mediaSession' in navigator) {\r\n    navigator.mediaSession.setActionHandler('nexttrack', () => {\r\n      randomPlay()\r\n    })\r\n    navigator.mediaSession.setActionHandler('previoustrack', () => {\r\n      randomPlay()\r\n    })\r\n    navigator.mediaSession.setActionHandler('pause', () => {\r\n      if (playerList.has('once')) (playerList.get('once') as Player).audio.pause()\r\n      navigator.mediaSession.playbackState = 'paused'\r\n    })\r\n  }\r\n\r\n  let timer: any = null\r\n\r\n  /**\r\n   * 重置播放状态\r\n   */\r\n  const reset = () => {\r\n    playSetting.loading = true\r\n    playSetting.nowPlay = null\r\n    playSetting.error = false\r\n    infoDate.value = null\r\n  }\r\n\r\n  const playerList: PlayerList = new Map()\r\n\r\n  /**\r\n   * 播放语音\r\n   * @param voice 语音对象\r\n   * @param category 所属分类的name\r\n   */\r\n  const play = (voice: VoicesItem) => {\r\n    // 可在此处增加播放统计相关代码\r\n    if (process.env.NODE_ENV === 'production' && GA_ID) {\r\n      /* eslint-disable @typescript-eslint/camelcase */\r\n      gtag('event', '播放语音', {\r\n        event_category: voice.name,\r\n        event_label: voice.category,\r\n        value: 1\r\n      })\r\n      /* eslint-enable */\r\n    }\r\n    if (!playSetting.overlap) {\r\n      if (playerList.has('once')) (playerList.get('once') as Player).audio.pause()\r\n      if (playSetting.nowPlay && playSetting.nowPlay.name === voice.name) {\r\n        clearTimeout(timer)\r\n        timer = setTimeout(() => {\r\n          addPlayer(voice, 'once')\r\n        }, 250)\r\n      } else {\r\n        addPlayer(voice, 'once')\r\n      }\r\n      if ('mediaSession' in navigator) {\r\n        const meta = {\r\n          title: t('voice.' + voice.name),\r\n          artist: t(INFO_I18N.fullName),\r\n          album: t(INFO_I18N.title),\r\n          artwork: MEDIA ? [{ src: `/img/${MEDIA}`, sizes: '128x128' }] : []\r\n        }\r\n        navigator.mediaSession.metadata = new window.MediaMetadata(meta)\r\n        navigator.mediaSession.playbackState = 'playing'\r\n      }\r\n    } else {\r\n      const key = new Date().getTime()\r\n      addPlayer(voice, key)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 把语音对象添加到MAP\r\n   */\r\n  const addPlayer = (voice: VoicesItem, key: any) => {\r\n    reset()\r\n    if (key === 'once' && playerList.has(key)) {\r\n      playerList.get(key)!.audio.oncanplay = null\r\n    }\r\n    const path = process.env.NODE_ENV === 'production' && CDN ? `${CDN}/${voice.path}` : `voices/${voice.path}`\r\n    playerList.set(key, {\r\n      name: voice.name,\r\n      audio: new Audio(path)\r\n    })\r\n    if (!playSetting.overlap) {\r\n      playSetting.nowPlay = voice\r\n      if (voice.mark) {\r\n        infoDate.value = voice.mark\r\n      }\r\n    }\r\n    playerList.get(key)!.audio.play()\r\n    playerList.get(key)!.audio.onerror = () => {\r\n      if (CDN && playerList.get(key)!.audio.src.startsWith(CDN)) {\r\n        playerList.get(key)!.audio.src = `voices/${voice.path}`\r\n        playerList.get(key)!.audio.play()\r\n      } else {\r\n        playSetting.loading = false\r\n        playSetting.error = true\r\n        navigator.mediaSession.playbackState = 'paused'\r\n      }\r\n    }\r\n    playerList.get(key)!.audio.oncanplay = () => {\r\n      playSetting.loading = false\r\n      const duration = playerList.get(key)!.audio.duration\r\n      let currentTime = 0\r\n      playerList.get(key)!.audio.ontimeupdate = () => {\r\n        currentTime = Number(((playerList.get(key)!.audio.currentTime / duration) * 100).toFixed(0))\r\n        let num = 0\r\n        for (const k of playerList.keys()) {\r\n          if (playerList.get(k)!.name === voice.name) {\r\n            num++\r\n          }\r\n        }\r\n        if (num > 1) {\r\n          btnList[voice.name].progress = 100\r\n        } else {\r\n          btnList[voice.name].progress = currentTime\r\n        }\r\n      }\r\n      playerList.get(key)!.audio.onended = () => {\r\n        btnList[voice.name].progress = 0\r\n        playerList.delete(key)\r\n        if (playSetting.loop > 0) {\r\n          listLoop(voice)\r\n        } else {\r\n          reset()\r\n        }\r\n        if (playSetting.autoRandom) {\r\n          randomPlay()\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  mitt.on(EVENT.randomPlay, () => {\r\n    randomPlay()\r\n  })\r\n\r\n  /**\r\n   * 随机播放\r\n   */\r\n  const randomPlay = () => {\r\n    const list: VoicesItem[] = []\r\n    voices.value.forEach((item: VoicesCategory | VoicesOrigin) => {\r\n      if (isShowCategory(item)) {\r\n        item.voiceList.forEach(voice => {\r\n          if (isShowVoice(voice.name)) {\r\n            list.push(voice)\r\n          }\r\n        })\r\n      }\r\n    })\r\n    play(list[getrRandomInt(list.length)])\r\n  }\r\n\r\n  /**\r\n   * 循环播放\r\n   */\r\n  const listLoop = (voice: VoicesItem) => {\r\n    if (playSetting.loop === 1) {\r\n      play(voice)\r\n    } else if (playSetting.loop === 2) {\r\n      let list: VoicesItem[] = []\r\n      if (!playSetting.showInfo) {\r\n        list = (voices.value as VoicesCategory[]).find(voicesCategory => {\r\n          if (voicesCategory.name === voice.category) {\r\n            return voicesCategory.voiceList\r\n          }\r\n        })!.voiceList\r\n      } else {\r\n        if (voice.mark && voice.mark.title) {\r\n          list = (voices.value as VoicesOrigin[]).find(mark => {\r\n            if (mark.title === voice.mark!.title) {\r\n              return mark.voiceList\r\n            }\r\n          })!.voiceList\r\n        } else {\r\n          list = (voices.value as VoicesOrigin[]).find(mark => {\r\n            if (mark.title === 'unknown') {\r\n              return mark.voiceList\r\n            }\r\n          })!.voiceList\r\n        }\r\n      }\r\n      const nextVoice = list[getLoopIndex(voice, list)]\r\n      if (nextVoice) {\r\n        play(nextVoice)\r\n      }\r\n    } else if (playSetting.loop === 3) {\r\n      const nextVoice = voiceList.value[getLoopIndex(voice, voiceList.value)]\r\n      if (nextVoice) {\r\n        play(nextVoice)\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取列表播放的下一个索引\r\n   */\r\n  const getLoopIndex = (voice: VoicesItem, list: VoicesItem[]): number => {\r\n    let index = -1\r\n    for (const i in list) {\r\n      if (Number(i) === list.length - 1) {\r\n        index = 0\r\n        break\r\n      }\r\n      if (list[i].name === voice.name) {\r\n        index = Number(i) + 1\r\n        if (!isCanPlay(list[index])) {\r\n          index = getLoopIndex(list[index], list)\r\n        }\r\n        break\r\n      }\r\n    }\r\n    return index\r\n  }\r\n\r\n  /**\r\n   * 判断该模式或语言下是否可播放\r\n   */\r\n  const isCanPlay = (voice: VoicesItem) => {\r\n    return (voices.value.some(item => {\r\n      if (playSetting.showInfo) {\r\n        if (voice.mark) {\r\n          return item.title === voice.mark.title\r\n        } else {\r\n          return item.title === 'unknown'\r\n        }\r\n      } else {\r\n        return item.name === voice.category && Boolean(item.translate[locale.value])\r\n      }\r\n    })) && Boolean(voice.translate[locale.value])\r\n  }\r\n\r\n  mitt.on(EVENT.stopPlay, () => {\r\n    clearTimeout(timer)\r\n    for (const key of playerList.keys()) {\r\n      playerList.get(key)!.audio.pause()\r\n      playerList.get(key)!.audio.onerror = null\r\n      playerList.get(key)!.audio.oncanplay = null\r\n      playerList.get(key)!.audio.ontimeupdate = null\r\n      playerList.get(key)!.audio.onended = null\r\n      const name = playerList.get(key)!.name\r\n      btnList[name].progress = 0\r\n    }\r\n    playerList.clear()\r\n    reset()\r\n  })\r\n\r\n  /**\r\n   * 是否需要显示分类\r\n   */\r\n  const isShowCategory = (item: VoicesCategory | VoicesOrigin) => {\r\n    const flag = item.voiceList.every(voice => {\r\n      return !isShowVoice(voice.name)\r\n    })\r\n    if (flag) {\r\n      return false\r\n    } else if (playSetting.showInfo) {\r\n      return Boolean(item['title'])\r\n    } else {\r\n      return te(`voicecategory.${item['name']}`) && Boolean(t(`voicecategory.${item['name']}`))\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 是否需要显示语音\r\n   */\r\n  const isShowVoice = (name: string) => {\r\n    return te(`voice.${name}`) && Boolean(t(`voice.${name}`))\r\n  }\r\n\r\n  /**\r\n   * 鼠标停留时是否显示时间\r\n   */\r\n  const isShowTime = (mark) => {\r\n    return playSetting.showInfo && mark && mark.time ? mark.time : ''\r\n  }\r\n\r\n  /**\r\n   * 返回需要显示的表情包url\r\n   */\r\n  const getPicUrl = (usePicture?: Translate) => {\r\n    return usePicture && Boolean(usePicture[locale.value]) ? `/voices/img/${usePicture[locale.value]}` : null\r\n  }\r\n\r\n  return {\r\n    playSetting,\r\n    voices,\r\n    play,\r\n    isShowCategory,\r\n    isShowVoice,\r\n    isShowTime,\r\n    getPicUrl\r\n  }\r\n}\r\n\r\nexport {\r\n  useSearch,\r\n  getBtnList,\r\n  createPlayer\r\n}\r\n"],"sourceRoot":""}]}
{"remainingRequest":"D:\\FrozenLemonTee\\Arbeit\\WebProject\\ciyana-button@2.0\\ciyana-button\\node_modules\\babel-loader\\lib\\index.js!D:\\FrozenLemonTee\\Arbeit\\WebProject\\ciyana-button@2.0\\ciyana-button\\node_modules\\ts-loader\\index.js??ref--14-2!D:\\FrozenLemonTee\\Arbeit\\WebProject\\ciyana-button@2.0\\ciyana-button\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\FrozenLemonTee\\Arbeit\\WebProject\\ciyana-button@2.0\\ciyana-button\\src\\components\\Player\\Player.ts","dependencies":[{"path":"D:\\FrozenLemonTee\\Arbeit\\WebProject\\ciyana-button@2.0\\ciyana-button\\src\\components\\Player\\Player.ts","mtime":499162500000},{"path":"D:\\FrozenLemonTee\\Arbeit\\WebProject\\ciyana-button@2.0\\ciyana-button\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615601873994},{"path":"D:\\FrozenLemonTee\\Arbeit\\WebProject\\ciyana-button@2.0\\ciyana-button\\node_modules\\babel-loader\\lib\\index.js","mtime":1615601874000},{"path":"D:\\FrozenLemonTee\\Arbeit\\WebProject\\ciyana-button@2.0\\ciyana-button\\node_modules\\ts-loader\\index.js","mtime":1615707284305},{"path":"D:\\FrozenLemonTee\\Arbeit\\WebProject\\ciyana-button@2.0\\ciyana-button\\node_modules\\eslint-loader\\index.js","mtime":1615601886951}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIkQ6L0Zyb3plbkxlbW9uVGVlL0FyYmVpdC9XZWJQcm9qZWN0L2NpeWFuYS1idXR0b25AMi4wL2NpeWFuYS1idXR0b24vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zdGFydHMtd2l0aC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci50by1maXhlZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0IFNldHRpbmcgZnJvbSAnQC8uLi9zZXR0aW5nL3NldHRpbmcuanNvbic7CmltcG9ydCBtaXR0IGZyb20gJ0AvYXNzZXRzL3NjcmlwdC9taXR0JzsKaW1wb3J0IHsgRVZFTlQsIElORk9fSTE4TiB9IGZyb20gJ0AvYXNzZXRzL3NjcmlwdC90eXBlJzsKaW1wb3J0IHsgZ2V0Q2F0ZWdvcnksIGdldFJhbmRvbUludCB9IGZyb20gJ0AvYXNzZXRzL3NjcmlwdC91dGlscyc7CmltcG9ydCB7IGluamVjdCwgcmVhY3RpdmUsIHJlZiwgd2F0Y2ggfSBmcm9tICd2dWUnOwppbXBvcnQgeyB1c2VJMThuIH0gZnJvbSAndnVlLWkxOG4nOwppbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICd2dWUtcm91dGVyJzsKdmFyIE1FRElBID0gU2V0dGluZ1snbWVkaWFTZXNzaW9uJ107CnZhciBDRE4gPSBTZXR0aW5nWydDRE4nXTsKCnZhciB1c2VTZWFyY2ggPSBmdW5jdGlvbiB1c2VTZWFyY2goYnRuTGlzdCkgewogIHZhciByb3V0ZXIgPSB1c2VSb3V0ZXIoKTsKICB2YXIgc2VhcmNoRGF0YSA9IGluamVjdCgnc2VhcmNoRGF0YScpOyAvLyDpnIDopoHpq5jkuq7mmL7npLrnmoRuYW1lCgogIHZhciBoaWdobGlnaHQgPSByZWYoJycpOyAvLyDmkJzntKLmlbDmja7mlLnlj5jml7bph43mlrDljLnphY3pq5jkuq7kvY7kuq4KCiAgd2F0Y2goc2VhcmNoRGF0YSwgZnVuY3Rpb24gKGRhdGEpIHsKICAgIGZvciAodmFyIGkgaW4gYnRuTGlzdCkgewogICAgICBpZiAoIWJ0bkxpc3RbaV0pIGNvbnRpbnVlOwoKICAgICAgaWYgKGRhdGEudmFsdWUubGVuZ3RoID4gMCkgewogICAgICAgIGJ0bkxpc3RbaV0ubG93bGlnaHQgPSAhZGF0YS5saXN0LmluY2x1ZGVzKGkpOwogICAgICB9IGVsc2UgewogICAgICAgIGJ0bkxpc3RbaV0ubG93bGlnaHQgPSBmYWxzZTsKICAgICAgfQoKICAgICAgYnRuTGlzdFtpXS5oaWdobGlnaHQgPSBpID09PSBoaWdobGlnaHQudmFsdWU7CiAgICB9CiAgfSk7CiAgd2F0Y2goZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHNlYXJjaERhdGEudmFsdWU7CiAgfSwgZnVuY3Rpb24gKG5ld1ZhbCwgb2xkVmFsKSB7CiAgICAvLyDmkJzntKLmoI/mloflrZfmlLnlj5jml7bmuIXpmaTot6/nlLHlj4LmlbAKICAgIGlmIChvbGRWYWwgJiYgJ2snIGluIHJvdXRlci5jdXJyZW50Um91dGUudmFsdWUucXVlcnkpIHsKICAgICAgcm91dGVyLnB1c2goewogICAgICAgIHF1ZXJ5OiB7fQogICAgICB9KTsKICAgIH0gLy8g5pCc57Si5qCP5paH5a2X5pS55Y+Y5pe25riF6Zmk6auY5LquCgoKICAgIGlmIChuZXdWYWwgIT09IG9sZFZhbCkgewogICAgICBzZWFyY2hEYXRhLmluZGV4ID0gMDsKICAgIH0KCiAgICBpZiAoaGlnaGxpZ2h0LnZhbHVlKSB7CiAgICAgIGhpZ2hsaWdodC52YWx1ZSA9ICcnOwogICAgfQogIH0pOyAvLyDmu5rliqjliLDpq5jkuq7nmoRET00KCiAgbWl0dC5vbihFVkVOVC5hdXRvU2Nyb2xsLCBmdW5jdGlvbiAoKSB7CiAgICBpZiAoc2VhcmNoRGF0YS5saXN0ICYmIHNlYXJjaERhdGEubGlzdC5sZW5ndGggPiAwKSB7CiAgICAgIGZvciAodmFyIGkgaW4gYnRuTGlzdCkgewogICAgICAgIGlmIChzZWFyY2hEYXRhLmluZGV4ICsgMSA+IHNlYXJjaERhdGEubGlzdC5sZW5ndGgpIHNlYXJjaERhdGEuaW5kZXggPSAwOwoKICAgICAgICBpZiAoaSA9PT0gc2VhcmNoRGF0YS5saXN0W3NlYXJjaERhdGEuaW5kZXhdKSB7CiAgICAgICAgICBzZWFyY2hEYXRhLmluZGV4Kys7CiAgICAgICAgICB2YXIgc2Nyb2xsUG9zID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCArIGJ0bkxpc3RbaV0uJGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCAtIDIwMDsKICAgICAgICAgIGhpZ2hsaWdodC52YWx1ZSA9IGk7CiAgICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oewogICAgICAgICAgICB0b3A6IHNjcm9sbFBvcywKICAgICAgICAgICAgYmVoYXZpb3I6ICdzbW9vdGgnCiAgICAgICAgICB9KTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0pOwogIHJldHVybiB7CiAgICBzZWFyY2hEYXRhOiBzZWFyY2hEYXRhLAogICAgaGlnaGxpZ2h0OiBoaWdobGlnaHQKICB9Owp9OwoKdmFyIGdldEJ0bkxpc3QgPSBmdW5jdGlvbiBnZXRCdG5MaXN0KCkgewogIC8vIOaJgOacieaMiemSrueahOW8leeUqAogIHZhciBidG5MaXN0ID0gcmVhY3RpdmUoe30pOwoKICB2YXIgc2V0QnRuTGlzdCA9IGZ1bmN0aW9uIHNldEJ0bkxpc3QobmFtZSwgZWwpIHsKICAgIGJ0bkxpc3RbbmFtZV0gPSBlbDsKICB9OwoKICByZXR1cm4gewogICAgYnRuTGlzdDogYnRuTGlzdCwKICAgIHNldEJ0bkxpc3Q6IHNldEJ0bkxpc3QKICB9Owp9OwoKdmFyIGNyZWF0ZVBsYXllciA9IGZ1bmN0aW9uIGNyZWF0ZVBsYXllcihidG5MaXN0KSB7CiAgdmFyIF91c2VJMThuID0gdXNlSTE4bigpLAogICAgICB0ID0gX3VzZUkxOG4udCwKICAgICAgdGUgPSBfdXNlSTE4bi50ZSwKICAgICAgbG9jYWxlID0gX3VzZUkxOG4ubG9jYWxlOwoKICB2YXIgcGxheVNldHRpbmcgPSBpbmplY3QoJ3BsYXlTZXR0aW5nJyk7CiAgdmFyIHZvaWNlcyA9IGluamVjdCgndm9pY2VzJyk7CiAgdmFyIHZvaWNlTGlzdCA9IGluamVjdCgndm9pY2VMaXN0JywgcmVmKFtdKSk7CiAgdmFyIGluZm9EYXRlID0gaW5qZWN0KCdpbmZvRGF0ZScpOwoKICBpZiAoJ21lZGlhU2Vzc2lvbicgaW4gbmF2aWdhdG9yKSB7CiAgICBuYXZpZ2F0b3IubWVkaWFTZXNzaW9uLnNldEFjdGlvbkhhbmRsZXIoJ25leHR0cmFjaycsIGZ1bmN0aW9uICgpIHsKICAgICAgcmFuZG9tUGxheSgpOwogICAgfSk7CiAgICBuYXZpZ2F0b3IubWVkaWFTZXNzaW9uLnNldEFjdGlvbkhhbmRsZXIoJ3ByZXZpb3VzdHJhY2snLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJhbmRvbVBsYXkoKTsKICAgIH0pOwogICAgbmF2aWdhdG9yLm1lZGlhU2Vzc2lvbi5zZXRBY3Rpb25IYW5kbGVyKCdwYXVzZScsIGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKHBsYXllckxpc3QuaGFzKCdvbmNlJykpIHBsYXllckxpc3QuZ2V0KCdvbmNlJykuYXVkaW8ucGF1c2UoKTsKICAgICAgbmF2aWdhdG9yLm1lZGlhU2Vzc2lvbi5wbGF5YmFja1N0YXRlID0gJ3BhdXNlZCc7CiAgICB9KTsKICB9CgogIHZhciB0aW1lciA9IG51bGw7CiAgLyoqDQogICAqIOmHjee9ruaSreaUvueKtuaAgQ0KICAgKi8KCiAgdmFyIHJlc2V0ID0gZnVuY3Rpb24gcmVzZXQoKSB7CiAgICBwbGF5U2V0dGluZy5sb2FkaW5nID0gdHJ1ZTsKICAgIHBsYXlTZXR0aW5nLm5vd1BsYXkgPSBudWxsOwogICAgcGxheVNldHRpbmcuZXJyb3IgPSBmYWxzZTsKICAgIGluZm9EYXRlLnZhbHVlID0gbnVsbDsKICB9OwoKICB2YXIgcGxheWVyTGlzdCA9IG5ldyBNYXAoKTsKICAvKioNCiAgICog5pKt5pS+6K+t6Z+zDQogICAqIEBwYXJhbSB2b2ljZSDor63pn7Plr7nosaENCiAgICovCgogIHZhciBwbGF5ID0gZnVuY3Rpb24gcGxheSh2b2ljZSkgewogICAgLy8g5Y+v5Zyo5q2k5aSE5aKe5Yqg5pKt5pS+57uf6K6h55u45YWz5Luj56CBCiAgICBpZiAoIXBsYXlTZXR0aW5nLm92ZXJsYXApIHsKICAgICAgaWYgKHBsYXllckxpc3QuaGFzKCdvbmNlJykpIHBsYXllckxpc3QuZ2V0KCdvbmNlJykuYXVkaW8ucGF1c2UoKTsKCiAgICAgIGlmIChwbGF5U2V0dGluZy5ub3dQbGF5ICYmIHBsYXlTZXR0aW5nLm5vd1BsYXkubmFtZSA9PT0gdm9pY2UubmFtZSkgewogICAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7CiAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGFkZFBsYXllcih2b2ljZSwgJ29uY2UnKTsKICAgICAgICB9LCAyNTApOwogICAgICB9IGVsc2UgewogICAgICAgIGFkZFBsYXllcih2b2ljZSwgJ29uY2UnKTsKICAgICAgfQoKICAgICAgaWYgKCdtZWRpYVNlc3Npb24nIGluIG5hdmlnYXRvcikgewogICAgICAgIHZhciBtZXRhID0gewogICAgICAgICAgdGl0bGU6IHQoJ3ZvaWNlLicgKyB2b2ljZS5uYW1lKSwKICAgICAgICAgIGFydGlzdDogdChJTkZPX0kxOE4uZnVsbE5hbWUpLAogICAgICAgICAgYWxidW06IHQoSU5GT19JMThOLnRpdGxlKSwKICAgICAgICAgIGFydHdvcms6IE1FRElBID8gW3sKICAgICAgICAgICAgc3JjOiAiL2ltZy8iLmNvbmNhdChNRURJQSksCiAgICAgICAgICAgIHNpemVzOiAnMTI4eDEyOCcKICAgICAgICAgIH1dIDogW10KICAgICAgICB9OwogICAgICAgIG5hdmlnYXRvci5tZWRpYVNlc3Npb24ubWV0YWRhdGEgPSBuZXcgd2luZG93Lk1lZGlhTWV0YWRhdGEobWV0YSk7CiAgICAgICAgbmF2aWdhdG9yLm1lZGlhU2Vzc2lvbi5wbGF5YmFja1N0YXRlID0gJ3BsYXlpbmcnOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICB2YXIga2V5ID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7CiAgICAgIGFkZFBsYXllcih2b2ljZSwga2V5KTsKICAgIH0KICB9OwogIC8qKg0KICAgKiDmioror63pn7Plr7nosaHmt7vliqDliLBNQVANCiAgICovCgoKICB2YXIgYWRkUGxheWVyID0gZnVuY3Rpb24gYWRkUGxheWVyKHZvaWNlLCBrZXkpIHsKICAgIHJlc2V0KCk7CgogICAgaWYgKGtleSA9PT0gJ29uY2UnICYmIHBsYXllckxpc3QuaGFzKGtleSkpIHsKICAgICAgcGxheWVyTGlzdC5nZXQoa2V5KS5hdWRpby5vbmNhbnBsYXkgPSBudWxsOwogICAgfQoKICAgIHZhciBwYXRoID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyAmJiBDRE4gPyAiIi5jb25jYXQoQ0ROLCAiLyIpLmNvbmNhdCh2b2ljZS5wYXRoKSA6ICJ2b2ljZXMvIi5jb25jYXQodm9pY2UucGF0aCk7CiAgICBwbGF5ZXJMaXN0LnNldChrZXksIHsKICAgICAgbmFtZTogdm9pY2UubmFtZSwKICAgICAgYXVkaW86IG5ldyBBdWRpbyhwYXRoKQogICAgfSk7CgogICAgaWYgKCFwbGF5U2V0dGluZy5vdmVybGFwKSB7CiAgICAgIHBsYXlTZXR0aW5nLm5vd1BsYXkgPSB2b2ljZTsKCiAgICAgIGlmICh2b2ljZS5tYXJrKSB7CiAgICAgICAgaW5mb0RhdGUudmFsdWUgPSB2b2ljZS5tYXJrOwogICAgICB9CiAgICB9CgogICAgcGxheWVyTGlzdC5nZXQoa2V5KS5hdWRpby5wbGF5KCk7CgogICAgcGxheWVyTGlzdC5nZXQoa2V5KS5hdWRpby5vbmVycm9yID0gZnVuY3Rpb24gKCkgewogICAgICBpZiAoQ0ROICYmIHBsYXllckxpc3QuZ2V0KGtleSkuYXVkaW8uc3JjLnN0YXJ0c1dpdGgoQ0ROKSkgewogICAgICAgIHBsYXllckxpc3QuZ2V0KGtleSkuYXVkaW8uc3JjID0gInZvaWNlcy8iLmNvbmNhdCh2b2ljZS5wYXRoKTsKICAgICAgICBwbGF5ZXJMaXN0LmdldChrZXkpLmF1ZGlvLnBsYXkoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBwbGF5U2V0dGluZy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgcGxheVNldHRpbmcuZXJyb3IgPSB0cnVlOwogICAgICB9CiAgICB9OwoKICAgIHBsYXllckxpc3QuZ2V0KGtleSkuYXVkaW8ub25jYW5wbGF5ID0gZnVuY3Rpb24gKCkgewogICAgICBwbGF5U2V0dGluZy5sb2FkaW5nID0gZmFsc2U7CiAgICAgIHZhciBkdXJhdGlvbiA9IHBsYXllckxpc3QuZ2V0KGtleSkuYXVkaW8uZHVyYXRpb247CiAgICAgIHZhciBjdXJyZW50VGltZSA9IDA7CgogICAgICBwbGF5ZXJMaXN0LmdldChrZXkpLmF1ZGlvLm9udGltZXVwZGF0ZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBjdXJyZW50VGltZSA9IE51bWJlcigocGxheWVyTGlzdC5nZXQoa2V5KS5hdWRpby5jdXJyZW50VGltZSAvIGR1cmF0aW9uICogMTAwKS50b0ZpeGVkKDApKTsKICAgICAgICB2YXIgbnVtID0gMDsKCiAgICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHBsYXllckxpc3Qua2V5cygpKSwKICAgICAgICAgICAgX3N0ZXA7CgogICAgICAgIHRyeSB7CiAgICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgICB2YXIgayA9IF9zdGVwLnZhbHVlOwoKICAgICAgICAgICAgaWYgKHBsYXllckxpc3QuZ2V0KGspLm5hbWUgPT09IHZvaWNlLm5hbWUpIHsKICAgICAgICAgICAgICBudW0rKzsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgICB9CgogICAgICAgIGlmIChudW0gPiAxKSB7CiAgICAgICAgICBidG5MaXN0W3ZvaWNlLm5hbWVdLnByb2dyZXNzID0gMTAwOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBidG5MaXN0W3ZvaWNlLm5hbWVdLnByb2dyZXNzID0gY3VycmVudFRpbWU7CiAgICAgICAgfQogICAgICB9OwoKICAgICAgcGxheWVyTGlzdC5nZXQoa2V5KS5hdWRpby5vbmVuZGVkID0gZnVuY3Rpb24gKCkgewogICAgICAgIGJ0bkxpc3Rbdm9pY2UubmFtZV0ucHJvZ3Jlc3MgPSAwOwogICAgICAgIHBsYXllckxpc3QuZGVsZXRlKGtleSk7CgogICAgICAgIGlmIChwbGF5U2V0dGluZy5sb29wID4gMCkgewogICAgICAgICAgbGlzdExvb3Aodm9pY2UpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXNldCgpOwogICAgICAgIH0KCiAgICAgICAgaWYgKHBsYXlTZXR0aW5nLmF1dG9SYW5kb20pIHsKICAgICAgICAgIHJhbmRvbVBsYXkoKTsKICAgICAgICB9CiAgICAgIH07CiAgICB9OwogIH07CgogIG1pdHQub24oRVZFTlQucmFuZG9tUGxheSwgZnVuY3Rpb24gKCkgewogICAgcmFuZG9tUGxheSgpOwogIH0pOwogIC8qKg0KICAgKiDpmo/mnLrmkq3mlL4NCiAgICovCgogIHZhciByYW5kb21QbGF5ID0gZnVuY3Rpb24gcmFuZG9tUGxheSgpIHsKICAgIHZhciBsaXN0ID0gW107CiAgICB2b2ljZXMudmFsdWUuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICBpZiAoaXNTaG93Q2F0ZWdvcnkoaXRlbSkpIHsKICAgICAgICBpdGVtLnZvaWNlTGlzdC5mb3JFYWNoKGZ1bmN0aW9uICh2b2ljZSkgewogICAgICAgICAgaWYgKGlzU2hvd1ZvaWNlKHZvaWNlKSkgewogICAgICAgICAgICBsaXN0LnB1c2godm9pY2UpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9KTsKICAgIHBsYXkobGlzdFtnZXRSYW5kb21JbnQobGlzdC5sZW5ndGgpXSk7CiAgfTsKICAvKioNCiAgICog5b6q546v5pKt5pS+DQogICAqLwoKCiAgdmFyIGxpc3RMb29wID0gZnVuY3Rpb24gbGlzdExvb3Aodm9pY2UpIHsKICAgIGlmIChwbGF5U2V0dGluZy5sb29wID09PSAxKSB7CiAgICAgIHBsYXkodm9pY2UpOwogICAgfSBlbHNlIGlmIChwbGF5U2V0dGluZy5sb29wID09PSAyKSB7CiAgICAgIHZhciBsaXN0ID0gW107CgogICAgICBpZiAoIXBsYXlTZXR0aW5nLnNob3dJbmZvKSB7CiAgICAgICAgbGlzdCA9IHZvaWNlcy52YWx1ZS5maW5kKGZ1bmN0aW9uICh2b2ljZXNDYXRlZ29yeSkgewogICAgICAgICAgaWYgKHZvaWNlc0NhdGVnb3J5Lm5hbWUgPT09IHZvaWNlLmNhdGVnb3J5KSB7CiAgICAgICAgICAgIHJldHVybiB2b2ljZXNDYXRlZ29yeS52b2ljZUxpc3Q7CiAgICAgICAgICB9CiAgICAgICAgfSkudm9pY2VMaXN0OwogICAgICB9IGVsc2UgewogICAgICAgIGlmICh2b2ljZS5tYXJrICYmIHZvaWNlLm1hcmsudGl0bGUpIHsKICAgICAgICAgIGxpc3QgPSB2b2ljZXMudmFsdWUuZmluZChmdW5jdGlvbiAobWFyaykgewogICAgICAgICAgICBpZiAobWFyay50aXRsZSA9PT0gdm9pY2UubWFyay50aXRsZSkgewogICAgICAgICAgICAgIHJldHVybiBtYXJrLnZvaWNlTGlzdDsKICAgICAgICAgICAgfQogICAgICAgICAgfSkudm9pY2VMaXN0OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBsaXN0ID0gdm9pY2VzLnZhbHVlLmZpbmQoZnVuY3Rpb24gKG1hcmspIHsKICAgICAgICAgICAgaWYgKG1hcmsudGl0bGUgPT09ICd1bmtub3duJykgewogICAgICAgICAgICAgIHJldHVybiBtYXJrLnZvaWNlTGlzdDsKICAgICAgICAgICAgfQogICAgICAgICAgfSkudm9pY2VMaXN0OwogICAgICAgIH0KICAgICAgfQoKICAgICAgdmFyIG5leHRWb2ljZSA9IGxpc3RbZ2V0TG9vcEluZGV4KHZvaWNlLCBsaXN0KV07CgogICAgICBpZiAobmV4dFZvaWNlKSB7CiAgICAgICAgcGxheShuZXh0Vm9pY2UpOwogICAgICB9CiAgICB9IGVsc2UgaWYgKHBsYXlTZXR0aW5nLmxvb3AgPT09IDMpIHsKICAgICAgdmFyIF9uZXh0Vm9pY2UgPSB2b2ljZUxpc3QudmFsdWVbZ2V0TG9vcEluZGV4KHZvaWNlLCB2b2ljZUxpc3QudmFsdWUpXTsKCiAgICAgIGlmIChfbmV4dFZvaWNlKSB7CiAgICAgICAgcGxheShfbmV4dFZvaWNlKTsKICAgICAgfQogICAgfQogIH07CiAgLyoqDQogICAqIOiOt+WPluWIl+ihqOaSreaUvueahOS4i+S4gOS4que0ouW8lQ0KICAgKi8KCgogIHZhciBnZXRMb29wSW5kZXggPSBmdW5jdGlvbiBnZXRMb29wSW5kZXgodm9pY2UsIGxpc3QpIHsKICAgIHZhciBpbmRleCA9IC0xOwoKICAgIGZvciAodmFyIGkgaW4gbGlzdCkgewogICAgICBpZiAoTnVtYmVyKGkpID09PSBsaXN0Lmxlbmd0aCAtIDEpIHsKICAgICAgICBpbmRleCA9IDA7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICAgIGlmIChsaXN0W2ldLm5hbWUgPT09IHZvaWNlLm5hbWUpIHsKICAgICAgICBpbmRleCA9IE51bWJlcihpKSArIDE7CgogICAgICAgIGlmICghaXNDYW5QbGF5KGxpc3RbaW5kZXhdKSkgewogICAgICAgICAgaW5kZXggPSBnZXRMb29wSW5kZXgobGlzdFtpbmRleF0sIGxpc3QpOwogICAgICAgIH0KCiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gaW5kZXg7CiAgfTsKICAvKioNCiAgICog5Yik5pat6K+l5qih5byP5oiW6K+t6KiA5LiL5piv5ZCm5Y+v5pKt5pS+DQogICAqLwoKCiAgdmFyIGlzQ2FuUGxheSA9IGZ1bmN0aW9uIGlzQ2FuUGxheSh2b2ljZSkgewogICAgdmFyIGZsYWcgPSB2b2ljZXMudmFsdWUuc29tZShmdW5jdGlvbiAoaXRlbSkgewogICAgICBpZiAocGxheVNldHRpbmcuc2hvd0luZm8pIHsKICAgICAgICBpZiAodm9pY2UubWFyaykgewogICAgICAgICAgcmV0dXJuIGl0ZW0udGl0bGUgPT09IHZvaWNlLm1hcmsudGl0bGU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBpdGVtLnRpdGxlID09PSAndW5rbm93bic7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBpdGVtLm5hbWUgPT09IHZvaWNlLmNhdGVnb3J5ICYmIEJvb2xlYW4oaXRlbS50cmFuc2xhdGVbbG9jYWxlLnZhbHVlXSk7CiAgICAgIH0KICAgIH0pICYmIEJvb2xlYW4odm9pY2UudHJhbnNsYXRlW2xvY2FsZS52YWx1ZV0pOwoKICAgIGlmIChwbGF5U2V0dGluZy5zaG93SGlkZSkgewogICAgICByZXR1cm4gZmxhZzsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBmbGFnICYmICF2b2ljZS5oaWRlOwogICAgfQogIH07CgogIG1pdHQub24oRVZFTlQuc3RvcFBsYXksIGZ1bmN0aW9uICgpIHsKICAgIGNsZWFyVGltZW91dCh0aW1lcik7CgogICAgdmFyIF9pdGVyYXRvcjIgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihwbGF5ZXJMaXN0LmtleXMoKSksCiAgICAgICAgX3N0ZXAyOwoKICAgIHRyeSB7CiAgICAgIGZvciAoX2l0ZXJhdG9yMi5zKCk7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmU7KSB7CiAgICAgICAgdmFyIGtleSA9IF9zdGVwMi52YWx1ZTsKICAgICAgICBwbGF5ZXJMaXN0LmdldChrZXkpLmF1ZGlvLnBhdXNlKCk7CiAgICAgICAgcGxheWVyTGlzdC5nZXQoa2V5KS5hdWRpby5vbmVycm9yID0gbnVsbDsKICAgICAgICBwbGF5ZXJMaXN0LmdldChrZXkpLmF1ZGlvLm9uY2FucGxheSA9IG51bGw7CiAgICAgICAgcGxheWVyTGlzdC5nZXQoa2V5KS5hdWRpby5vbnRpbWV1cGRhdGUgPSBudWxsOwogICAgICAgIHBsYXllckxpc3QuZ2V0KGtleSkuYXVkaW8ub25lbmRlZCA9IG51bGw7CiAgICAgICAgdmFyIG5hbWUgPSBwbGF5ZXJMaXN0LmdldChrZXkpLm5hbWU7CiAgICAgICAgYnRuTGlzdFtuYW1lXS5wcm9ncmVzcyA9IDA7CiAgICAgIH0KICAgIH0gY2F0Y2ggKGVycikgewogICAgICBfaXRlcmF0b3IyLmUoZXJyKTsKICAgIH0gZmluYWxseSB7CiAgICAgIF9pdGVyYXRvcjIuZigpOwogICAgfQoKICAgIHBsYXllckxpc3QuY2xlYXIoKTsKICAgIHJlc2V0KCk7CgogICAgaWYgKCdtZWRpYVNlc3Npb24nIGluIG5hdmlnYXRvcikgewogICAgICBuYXZpZ2F0b3IubWVkaWFTZXNzaW9uLnBsYXliYWNrU3RhdGUgPSAnbm9uZSc7CiAgICB9CiAgfSk7CiAgLyoqDQogICAqIOaYr+WQpumcgOimgeaYvuekuuWIhuexuw0KICAgKi8KCiAgdmFyIGlzU2hvd0NhdGVnb3J5ID0gZnVuY3Rpb24gaXNTaG93Q2F0ZWdvcnkoaXRlbSkgewogICAgdmFyIGZsYWcgPSBpdGVtLnZvaWNlTGlzdC5ldmVyeShmdW5jdGlvbiAodm9pY2UpIHsKICAgICAgcmV0dXJuICFpc1Nob3dWb2ljZSh2b2ljZSk7CiAgICB9KTsKCiAgICBpZiAoZmxhZykgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9IGVsc2UgaWYgKHBsYXlTZXR0aW5nLnNob3dJbmZvKSB7CiAgICAgIHJldHVybiBCb29sZWFuKGl0ZW1bJ3RpdGxlJ10pOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIHBsYXlTZXR0aW5nLnNob3dIaWRlID8gdGUoInZvaWNlY2F0ZWdvcnkuIi5jb25jYXQoaXRlbVsnbmFtZSddKSkgJiYgQm9vbGVhbih0KCJ2b2ljZWNhdGVnb3J5LiIuY29uY2F0KGl0ZW1bJ25hbWUnXSkpKSA6IHRlKCJ2b2ljZWNhdGVnb3J5LiIuY29uY2F0KGl0ZW1bJ25hbWUnXSkpICYmIEJvb2xlYW4odCgidm9pY2VjYXRlZ29yeS4iLmNvbmNhdChpdGVtWyduYW1lJ10pKSkgJiYgIWl0ZW0uaGlkZTsKICAgIH0KICB9OwogIC8qKg0KICAgKiDmmK/lkKbpnIDopoHmmL7npLror63pn7MNCiAgICovCgoKICB2YXIgaXNTaG93Vm9pY2UgPSBmdW5jdGlvbiBpc1Nob3dWb2ljZSh2b2ljZSkgewogICAgaWYgKHBsYXlTZXR0aW5nLnNob3dIaWRlKSB7CiAgICAgIHJldHVybiB0ZSgidm9pY2UuIi5jb25jYXQodm9pY2UubmFtZSkpICYmIEJvb2xlYW4odCgidm9pY2UuIi5jb25jYXQodm9pY2UubmFtZSkpKTsKICAgIH0gZWxzZSB7CiAgICAgIHZhciBmbGFnID0gdHJ1ZTsKCiAgICAgIGlmIChwbGF5U2V0dGluZy5zaG93SW5mbykgewogICAgICAgIHZhciBjYXRlZ29yeSA9IGdldENhdGVnb3J5KHZvaWNlLmNhdGVnb3J5KTsKICAgICAgICBmbGFnID0gdGUoInZvaWNlY2F0ZWdvcnkuIi5jb25jYXQoY2F0ZWdvcnlbJ25hbWUnXSkpICYmIEJvb2xlYW4odCgidm9pY2VjYXRlZ29yeS4iLmNvbmNhdChjYXRlZ29yeVsnbmFtZSddKSkpICYmICFjYXRlZ29yeS5oaWRlOwogICAgICB9CgogICAgICByZXR1cm4gdGUoInZvaWNlLiIuY29uY2F0KHZvaWNlLm5hbWUpKSAmJiBCb29sZWFuKHQoInZvaWNlLiIuY29uY2F0KHZvaWNlLm5hbWUpKSkgJiYgIXZvaWNlLmhpZGUgJiYgZmxhZzsKICAgIH0KICB9OwogIC8qKg0KICAgKiDpvKDmoIflgZznlZnml7bmmK/lkKbmmL7npLrml7bpl7QNCiAgICovCgoKICB2YXIgaXNTaG93VGltZSA9IGZ1bmN0aW9uIGlzU2hvd1RpbWUobWFyaykgewogICAgcmV0dXJuIHBsYXlTZXR0aW5nLnNob3dJbmZvICYmIG1hcmsgJiYgbWFyay50aW1lID8gbWFyay50aW1lIDogJyc7CiAgfTsKICAvKioNCiAgICog5piv5ZCm5pi+56S6bmV35Zu+5qCHDQogICAqLwoKCiAgdmFyIGlzU2hvd05ld0ljb24gPSBmdW5jdGlvbiBpc1Nob3dOZXdJY29uKGRhdGUpIHsKICAgIGlmICghZGF0ZSkgcmV0dXJuIGZhbHNlOwogICAgcmV0dXJuIHBsYXlTZXR0aW5nLnNob3dIaWRlID8gZGF0ZSA9PT0gdChJTkZPX0kxOE4uaGlkZUxhc3REYXRlKSA6IGRhdGUgPT09IHQoSU5GT19JMThOLmxhc3REYXRlKTsKICB9OwogIC8qKg0KICAgKiDov5Tlm57pnIDopoHmmL7npLrnmoTooajmg4XljIV1cmwNCiAgICovCgoKICB2YXIgZ2V0UGljVXJsID0gZnVuY3Rpb24gZ2V0UGljVXJsKHVzZVBpY3R1cmUpIHsKICAgIHJldHVybiB1c2VQaWN0dXJlICYmIEJvb2xlYW4odXNlUGljdHVyZVtsb2NhbGUudmFsdWVdKSA/ICIvdm9pY2VzL2ltZy8iLmNvbmNhdCh1c2VQaWN0dXJlW2xvY2FsZS52YWx1ZV0pIDogdW5kZWZpbmVkOwogIH07CgogIHJldHVybiB7CiAgICBwbGF5U2V0dGluZzogcGxheVNldHRpbmcsCiAgICB2b2ljZXM6IHZvaWNlcywKICAgIHBsYXk6IHBsYXksCiAgICBpc1Nob3dDYXRlZ29yeTogaXNTaG93Q2F0ZWdvcnksCiAgICBpc1Nob3dWb2ljZTogaXNTaG93Vm9pY2UsCiAgICBpc1Nob3dUaW1lOiBpc1Nob3dUaW1lLAogICAgaXNTaG93TmV3SWNvbjogaXNTaG93TmV3SWNvbiwKICAgIGdldFBpY1VybDogZ2V0UGljVXJsCiAgfTsKfTsKCnZhciBpbml0TGlzdGVuID0gZnVuY3Rpb24gaW5pdExpc3RlbihidG5MaXN0KSB7CiAgbWl0dC5vbihFVkVOVC5uYW1lQ2xpY2ssIGZ1bmN0aW9uIChuYW1lKSB7CiAgICBpZiAoIW5hbWUpIHJldHVybjsKCiAgICBmb3IgKHZhciBpIGluIGJ0bkxpc3QpIHsKICAgICAgaWYgKGkgPT09IG5hbWUpIHsKICAgICAgICB2YXIgc2Nyb2xsUG9zID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCArIGJ0bkxpc3RbaV0uJGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCAtIDIwMDsKICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oewogICAgICAgICAgdG9wOiBzY3JvbGxQb3MsCiAgICAgICAgICBiZWhhdmlvcjogJ3Ntb290aCcKICAgICAgICB9KTsKICAgICAgICBicmVhazsKICAgICAgfQogICAgfQogIH0pOwp9OwoKZXhwb3J0IHsgdXNlU2VhcmNoLCBnZXRCdG5MaXN0LCBjcmVhdGVQbGF5ZXIsIGluaXRMaXN0ZW4gfTs="},{"version":3,"sources":["D:\\FrozenLemonTee\\Arbeit\\WebProject\\ciyana-button@2.0\\ciyana-button\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\FrozenLemonTee\\Arbeit\\WebProject\\ciyana-button@2.0\\ciyana-button\\src\\components\\Player\\Player.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA,OAAO,OAAP,MAAoB,2BAApB;AACA,OAAO,IAAP,MAAiB,sBAAjB;AACA,SAAS,KAAT,EAAgB,SAAhB,QAAiJ,sBAAjJ;AACA,SAAS,WAAT,EAAsB,YAAtB,QAA0C,uBAA1C;AACA,SAAsB,MAAtB,EAA8B,QAA9B,EAAwC,GAAxC,EAAkD,KAAlD,QAA+D,KAA/D;AACA,SAAS,OAAT,QAAwB,UAAxB;AACA,SAAS,SAAT,QAA0B,YAA1B;AAEA,IAAM,KAAK,GAAG,OAAO,CAAC,cAAD,CAArB;AACA,IAAM,GAAG,GAAG,OAAO,CAAC,KAAD,CAAnB;;AAEA,IAAM,SAAS,GAAG,SAAZ,SAAY,CAAC,OAAD,EAAqC;AACrD,MAAM,MAAM,GAAG,SAAS,EAAxB;AAEA,MAAM,UAAU,GAAe,MAAM,CAAC,YAAD,CAArC,CAHqD,CAIrD;;AACA,MAAM,SAAS,GAAG,GAAG,CAAC,EAAD,CAArB,CALqD,CAOrD;;AACA,EAAA,KAAK,CAAC,UAAD,EAAa,UAAC,IAAD,EAAS;AACzB,SAAK,IAAM,CAAX,IAAgB,OAAhB,EAAyB;AACvB,UAAI,CAAC,OAAO,CAAC,CAAD,CAAZ,EAAiB;;AACjB,UAAI,IAAI,CAAC,KAAL,CAAW,MAAX,GAAoB,CAAxB,EAA2B;AACzB,QAAA,OAAO,CAAC,CAAD,CAAP,CAAW,QAAX,GAAsB,CAAC,IAAI,CAAC,IAAL,CAAU,QAAV,CAAmB,CAAnB,CAAvB;AACD,OAFD,MAEO;AACL,QAAA,OAAO,CAAC,CAAD,CAAP,CAAW,QAAX,GAAsB,KAAtB;AACD;;AACD,MAAA,OAAO,CAAC,CAAD,CAAP,CAAW,SAAX,GAAuB,CAAC,KAAK,SAAS,CAAC,KAAvC;AACD;AACF,GAVI,CAAL;AAYA,EAAA,KAAK,CAAC;AAAA,WAAM,UAAU,CAAC,KAAjB;AAAA,GAAD,EAAyB,UAAC,MAAD,EAAS,MAAT,EAAmB;AAC/C;AACA,QAAI,MAAM,IAAI,OAAO,MAAM,CAAC,YAAP,CAAoB,KAApB,CAA0B,KAA/C,EAAsD;AACpD,MAAA,MAAM,CAAC,IAAP,CAAY;AACV,QAAA,KAAK,EAAE;AADG,OAAZ;AAGD,KAN8C,CAQ/C;;;AACA,QAAI,MAAM,KAAK,MAAf,EAAuB;AACrB,MAAA,UAAU,CAAC,KAAX,GAAmB,CAAnB;AACD;;AACD,QAAI,SAAS,CAAC,KAAd,EAAqB;AACnB,MAAA,SAAS,CAAC,KAAV,GAAkB,EAAlB;AACD;AACF,GAfI,CAAL,CApBqD,CAqCrD;;AACA,EAAA,IAAI,CAAC,EAAL,CAAQ,KAAK,CAAC,UAAd,EAA0B,YAAK;AAC7B,QAAI,UAAU,CAAC,IAAX,IAAmB,UAAU,CAAC,IAAX,CAAgB,MAAhB,GAAyB,CAAhD,EAAmD;AACjD,WAAK,IAAM,CAAX,IAAgB,OAAhB,EAAyB;AACvB,YAAI,UAAU,CAAC,KAAX,GAAmB,CAAnB,GAAuB,UAAU,CAAC,IAAX,CAAgB,MAA3C,EAAmD,UAAU,CAAC,KAAX,GAAmB,CAAnB;;AACnD,YAAI,CAAC,KAAK,UAAU,CAAC,IAAX,CAAgB,UAAU,CAAC,KAA3B,CAAV,EAA6C;AAC3C,UAAA,UAAU,CAAC,KAAX;AACA,cAAM,SAAS,GAAG,QAAQ,CAAC,eAAT,CAAyB,SAAzB,GAAqC,OAAO,CAAC,CAAD,CAAP,CAAW,GAAX,CAAe,qBAAf,GAAuC,GAA5E,GAAkF,GAApG;AACA,UAAA,SAAS,CAAC,KAAV,GAAkB,CAAlB;AACA,UAAA,MAAM,CAAC,QAAP,CAAgB;AAAE,YAAA,GAAG,EAAE,SAAP;AAAkB,YAAA,QAAQ,EAAE;AAA5B,WAAhB;AACA;AACD;AACF;AACF;AACF,GAbD;AAeA,SAAO;AAAE,IAAA,UAAU,EAAV,UAAF;AAAc,IAAA,SAAS,EAAT;AAAd,GAAP;AACD,CAtDD;;AAwDA,IAAM,UAAU,GAAG,SAAb,UAAa,GAAK;AACtB;AACA,MAAM,OAAO,GAA4B,QAAQ,CAAC,EAAD,CAAjD;;AACA,MAAM,UAAU,GAAG,SAAb,UAAa,CAAC,IAAD,EAAe,EAAf,EAA0B;AAC3C,IAAA,OAAO,CAAC,IAAD,CAAP,GAAgB,EAAhB;AACD,GAFD;;AAIA,SAAO;AAAE,IAAA,OAAO,EAAP,OAAF;AAAW,IAAA,UAAU,EAAV;AAAX,GAAP;AACD,CARD;;AAUA,IAAM,YAAY,GAAG,SAAf,YAAe,CAAC,OAAD,EAAqC;AACxD,iBAA0B,OAAO,EAAjC;AAAA,MAAQ,CAAR,YAAQ,CAAR;AAAA,MAAW,EAAX,YAAW,EAAX;AAAA,MAAe,MAAf,YAAe,MAAf;;AAEA,MAAM,WAAW,GAAgB,MAAM,CAAC,aAAD,CAAvC;AAEA,MAAM,MAAM,GAAG,MAAM,CAAC,QAAD,CAArB;AACA,MAAM,SAAS,GAAG,MAAM,CAAC,WAAD,EAAc,GAAG,CAAC,EAAD,CAAjB,CAAxB;AACA,MAAM,QAAQ,GAAG,MAAM,CAAC,UAAD,CAAvB;;AAEA,MAAI,kBAAkB,SAAtB,EAAiC;AAC/B,IAAA,SAAS,CAAC,YAAV,CAAuB,gBAAvB,CAAwC,WAAxC,EAAqD,YAAK;AACxD,MAAA,UAAU;AACX,KAFD;AAGA,IAAA,SAAS,CAAC,YAAV,CAAuB,gBAAvB,CAAwC,eAAxC,EAAyD,YAAK;AAC5D,MAAA,UAAU;AACX,KAFD;AAGA,IAAA,SAAS,CAAC,YAAV,CAAuB,gBAAvB,CAAwC,OAAxC,EAAiD,YAAK;AACpD,UAAI,UAAU,CAAC,GAAX,CAAe,MAAf,CAAJ,EAA6B,UAAU,CAAC,GAAX,CAAe,MAAf,EAAkC,KAAlC,CAAwC,KAAxC;AAC7B,MAAA,SAAS,CAAC,YAAV,CAAuB,aAAvB,GAAuC,QAAvC;AACD,KAHD;AAID;;AAED,MAAI,KAAK,GAAQ,IAAjB;AAEA;;AAEG;;AACH,MAAM,KAAK,GAAG,SAAR,KAAQ,GAAK;AACjB,IAAA,WAAW,CAAC,OAAZ,GAAsB,IAAtB;AACA,IAAA,WAAW,CAAC,OAAZ,GAAsB,IAAtB;AACA,IAAA,WAAW,CAAC,KAAZ,GAAoB,KAApB;AACA,IAAA,QAAQ,CAAC,KAAT,GAAiB,IAAjB;AACD,GALD;;AAOA,MAAM,UAAU,GAAe,IAAI,GAAJ,EAA/B;AAEA;;;AAGG;;AACH,MAAM,IAAI,GAAG,SAAP,IAAO,CAAC,KAAD,EAAsB;AACjC;AACA,QAAI,CAAC,WAAW,CAAC,OAAjB,EAA0B;AACxB,UAAI,UAAU,CAAC,GAAX,CAAe,MAAf,CAAJ,EAA6B,UAAU,CAAC,GAAX,CAAe,MAAf,EAAkC,KAAlC,CAAwC,KAAxC;;AAC7B,UAAI,WAAW,CAAC,OAAZ,IAAuB,WAAW,CAAC,OAAZ,CAAoB,IAApB,KAA6B,KAAK,CAAC,IAA9D,EAAoE;AAClE,QAAA,YAAY,CAAC,KAAD,CAAZ;AACA,QAAA,KAAK,GAAG,UAAU,CAAC,YAAK;AACtB,UAAA,SAAS,CAAC,KAAD,EAAQ,MAAR,CAAT;AACD,SAFiB,EAEf,GAFe,CAAlB;AAGD,OALD,MAKO;AACL,QAAA,SAAS,CAAC,KAAD,EAAQ,MAAR,CAAT;AACD;;AACD,UAAI,kBAAkB,SAAtB,EAAiC;AAC/B,YAAM,IAAI,GAAG;AACX,UAAA,KAAK,EAAE,CAAC,CAAC,WAAW,KAAK,CAAC,IAAlB,CADG;AAEX,UAAA,MAAM,EAAE,CAAC,CAAC,SAAS,CAAC,QAAX,CAFE;AAGX,UAAA,KAAK,EAAE,CAAC,CAAC,SAAS,CAAC,KAAX,CAHG;AAIX,UAAA,OAAO,EAAE,KAAK,GAAG,CAAC;AAAE,YAAA,GAAG,iBAAU,KAAV,CAAL;AAAwB,YAAA,KAAK,EAAE;AAA/B,WAAD,CAAH,GAAkD;AAJrD,SAAb;AAMA,QAAA,SAAS,CAAC,YAAV,CAAuB,QAAvB,GAAkC,IAAI,MAAM,CAAC,aAAX,CAAyB,IAAzB,CAAlC;AACA,QAAA,SAAS,CAAC,YAAV,CAAuB,aAAvB,GAAuC,SAAvC;AACD;AACF,KApBD,MAoBO;AACL,UAAM,GAAG,GAAG,IAAI,IAAJ,GAAW,OAAX,EAAZ;AACA,MAAA,SAAS,CAAC,KAAD,EAAQ,GAAR,CAAT;AACD;AACF,GA1BD;AA4BA;;AAEG;;;AACH,MAAM,SAAS,GAAG,SAAZ,SAAY,CAAC,KAAD,EAAoB,GAApB,EAAgC;AAChD,IAAA,KAAK;;AACL,QAAI,GAAG,KAAK,MAAR,IAAkB,UAAU,CAAC,GAAX,CAAe,GAAf,CAAtB,EAA2C;AACzC,MAAA,UAAU,CAAC,GAAX,CAAe,GAAf,EAAqB,KAArB,CAA2B,SAA3B,GAAuC,IAAvC;AACD;;AACD,QAAM,IAAI,GAAG,OAAO,CAAC,GAAR,CAAY,QAAZ,KAAyB,YAAzB,IAAyC,GAAzC,aAAkD,GAAlD,cAAyD,KAAK,CAAC,IAA/D,qBAAkF,KAAK,CAAC,IAAxF,CAAb;AACA,IAAA,UAAU,CAAC,GAAX,CAAe,GAAf,EAAoB;AAClB,MAAA,IAAI,EAAE,KAAK,CAAC,IADM;AAElB,MAAA,KAAK,EAAE,IAAI,KAAJ,CAAU,IAAV;AAFW,KAApB;;AAIA,QAAI,CAAC,WAAW,CAAC,OAAjB,EAA0B;AACxB,MAAA,WAAW,CAAC,OAAZ,GAAsB,KAAtB;;AACA,UAAI,KAAK,CAAC,IAAV,EAAgB;AACd,QAAA,QAAQ,CAAC,KAAT,GAAiB,KAAK,CAAC,IAAvB;AACD;AACF;;AACD,IAAA,UAAU,CAAC,GAAX,CAAe,GAAf,EAAqB,KAArB,CAA2B,IAA3B;;AACA,IAAA,UAAU,CAAC,GAAX,CAAe,GAAf,EAAqB,KAArB,CAA2B,OAA3B,GAAqC,YAAK;AACxC,UAAI,GAAG,IAAI,UAAU,CAAC,GAAX,CAAe,GAAf,EAAqB,KAArB,CAA2B,GAA3B,CAA+B,UAA/B,CAA0C,GAA1C,CAAX,EAA2D;AACzD,QAAA,UAAU,CAAC,GAAX,CAAe,GAAf,EAAqB,KAArB,CAA2B,GAA3B,oBAA2C,KAAK,CAAC,IAAjD;AACA,QAAA,UAAU,CAAC,GAAX,CAAe,GAAf,EAAqB,KAArB,CAA2B,IAA3B;AACD,OAHD,MAGO;AACL,QAAA,WAAW,CAAC,OAAZ,GAAsB,KAAtB;AACA,QAAA,WAAW,CAAC,KAAZ,GAAoB,IAApB;AACD;AACF,KARD;;AASA,IAAA,UAAU,CAAC,GAAX,CAAe,GAAf,EAAqB,KAArB,CAA2B,SAA3B,GAAuC,YAAK;AAC1C,MAAA,WAAW,CAAC,OAAZ,GAAsB,KAAtB;AACA,UAAM,QAAQ,GAAG,UAAU,CAAC,GAAX,CAAe,GAAf,EAAqB,KAArB,CAA2B,QAA5C;AACA,UAAI,WAAW,GAAG,CAAlB;;AACA,MAAA,UAAU,CAAC,GAAX,CAAe,GAAf,EAAqB,KAArB,CAA2B,YAA3B,GAA0C,YAAK;AAC7C,QAAA,WAAW,GAAG,MAAM,CAAC,CAAE,UAAU,CAAC,GAAX,CAAe,GAAf,EAAqB,KAArB,CAA2B,WAA3B,GAAyC,QAA1C,GAAsD,GAAvD,EAA4D,OAA5D,CAAoE,CAApE,CAAD,CAApB;AACA,YAAI,GAAG,GAAG,CAAV;;AAF6C,mDAG7B,UAAU,CAAC,IAAX,EAH6B;AAAA;;AAAA;AAG7C,8DAAmC;AAAA,gBAAxB,CAAwB;;AACjC,gBAAI,UAAU,CAAC,GAAX,CAAe,CAAf,EAAmB,IAAnB,KAA4B,KAAK,CAAC,IAAtC,EAA4C;AAC1C,cAAA,GAAG;AACJ;AACF;AAP4C;AAAA;AAAA;AAAA;AAAA;;AAQ7C,YAAI,GAAG,GAAG,CAAV,EAAa;AACX,UAAA,OAAO,CAAC,KAAK,CAAC,IAAP,CAAP,CAAoB,QAApB,GAA+B,GAA/B;AACD,SAFD,MAEO;AACL,UAAA,OAAO,CAAC,KAAK,CAAC,IAAP,CAAP,CAAoB,QAApB,GAA+B,WAA/B;AACD;AACF,OAbD;;AAcA,MAAA,UAAU,CAAC,GAAX,CAAe,GAAf,EAAqB,KAArB,CAA2B,OAA3B,GAAqC,YAAK;AACxC,QAAA,OAAO,CAAC,KAAK,CAAC,IAAP,CAAP,CAAoB,QAApB,GAA+B,CAA/B;AACA,QAAA,UAAU,CAAC,MAAX,CAAkB,GAAlB;;AACA,YAAI,WAAW,CAAC,IAAZ,GAAmB,CAAvB,EAA0B;AACxB,UAAA,QAAQ,CAAC,KAAD,CAAR;AACD,SAFD,MAEO;AACL,UAAA,KAAK;AACN;;AACD,YAAI,WAAW,CAAC,UAAhB,EAA4B;AAC1B,UAAA,UAAU;AACX;AACF,OAXD;AAYD,KA9BD;AA+BD,GAzDD;;AA2DA,EAAA,IAAI,CAAC,EAAL,CAAQ,KAAK,CAAC,UAAd,EAA0B,YAAK;AAC7B,IAAA,UAAU;AACX,GAFD;AAIA;;AAEG;;AACH,MAAM,UAAU,GAAG,SAAb,UAAa,GAAK;AACtB,QAAM,IAAI,GAAiB,EAA3B;AACA,IAAA,MAAM,CAAC,KAAP,CAAa,OAAb,CAAqB,UAAC,IAAD,EAAwC;AAC3D,UAAI,cAAc,CAAC,IAAD,CAAlB,EAA0B;AACxB,QAAA,IAAI,CAAC,SAAL,CAAe,OAAf,CAAuB,UAAA,KAAK,EAAG;AAC7B,cAAI,WAAW,CAAC,KAAD,CAAf,EAAwB;AACtB,YAAA,IAAI,CAAC,IAAL,CAAU,KAAV;AACD;AACF,SAJD;AAKD;AACF,KARD;AASA,IAAA,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAN,CAAb,CAAL,CAAJ;AACD,GAZD;AAcA;;AAEG;;;AACH,MAAM,QAAQ,GAAG,SAAX,QAAW,CAAC,KAAD,EAAsB;AACrC,QAAI,WAAW,CAAC,IAAZ,KAAqB,CAAzB,EAA4B;AAC1B,MAAA,IAAI,CAAC,KAAD,CAAJ;AACD,KAFD,MAEO,IAAI,WAAW,CAAC,IAAZ,KAAqB,CAAzB,EAA4B;AACjC,UAAI,IAAI,GAAiB,EAAzB;;AACA,UAAI,CAAC,WAAW,CAAC,QAAjB,EAA2B;AACzB,QAAA,IAAI,GAAI,MAAM,CAAC,KAAP,CAAkC,IAAlC,CAAuC,UAAA,cAAc,EAAG;AAC9D,cAAI,cAAc,CAAC,IAAf,KAAwB,KAAK,CAAC,QAAlC,EAA4C;AAC1C,mBAAO,cAAc,CAAC,SAAtB;AACD;AACF,SAJO,EAIJ,SAJJ;AAKD,OAND,MAMO;AACL,YAAI,KAAK,CAAC,IAAN,IAAc,KAAK,CAAC,IAAN,CAAW,KAA7B,EAAoC;AAClC,UAAA,IAAI,GAAI,MAAM,CAAC,KAAP,CAAgC,IAAhC,CAAqC,UAAA,IAAI,EAAG;AAClD,gBAAI,IAAI,CAAC,KAAL,KAAe,KAAK,CAAC,IAAN,CAAY,KAA/B,EAAsC;AACpC,qBAAO,IAAI,CAAC,SAAZ;AACD;AACF,WAJO,EAIJ,SAJJ;AAKD,SAND,MAMO;AACL,UAAA,IAAI,GAAI,MAAM,CAAC,KAAP,CAAgC,IAAhC,CAAqC,UAAA,IAAI,EAAG;AAClD,gBAAI,IAAI,CAAC,KAAL,KAAe,SAAnB,EAA8B;AAC5B,qBAAO,IAAI,CAAC,SAAZ;AACD;AACF,WAJO,EAIJ,SAJJ;AAKD;AACF;;AACD,UAAM,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,KAAD,EAAQ,IAAR,CAAb,CAAtB;;AACA,UAAI,SAAJ,EAAe;AACb,QAAA,IAAI,CAAC,SAAD,CAAJ;AACD;AACF,KA3BM,MA2BA,IAAI,WAAW,CAAC,IAAZ,KAAqB,CAAzB,EAA4B;AACjC,UAAM,UAAS,GAAG,SAAS,CAAC,KAAV,CAAgB,YAAY,CAAC,KAAD,EAAQ,SAAS,CAAC,KAAlB,CAA5B,CAAlB;;AACA,UAAI,UAAJ,EAAe;AACb,QAAA,IAAI,CAAC,UAAD,CAAJ;AACD;AACF;AACF,GApCD;AAsCA;;AAEG;;;AACH,MAAM,YAAY,GAAG,SAAf,YAAe,CAAC,KAAD,EAAoB,IAApB,EAAkD;AACrE,QAAI,KAAK,GAAG,CAAC,CAAb;;AACA,SAAK,IAAM,CAAX,IAAgB,IAAhB,EAAsB;AACpB,UAAI,MAAM,CAAC,CAAD,CAAN,KAAc,IAAI,CAAC,MAAL,GAAc,CAAhC,EAAmC;AACjC,QAAA,KAAK,GAAG,CAAR;AACA;AACD;;AACD,UAAI,IAAI,CAAC,CAAD,CAAJ,CAAQ,IAAR,KAAiB,KAAK,CAAC,IAA3B,EAAiC;AAC/B,QAAA,KAAK,GAAG,MAAM,CAAC,CAAD,CAAN,GAAY,CAApB;;AACA,YAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAD,CAAL,CAAd,EAA6B;AAC3B,UAAA,KAAK,GAAG,YAAY,CAAC,IAAI,CAAC,KAAD,CAAL,EAAc,IAAd,CAApB;AACD;;AACD;AACD;AACF;;AACD,WAAO,KAAP;AACD,GAhBD;AAkBA;;AAEG;;;AACH,MAAM,SAAS,GAAG,SAAZ,SAAY,CAAC,KAAD,EAAsB;AACtC,QAAM,IAAI,GAAI,MAAM,CAAC,KAAP,CAAa,IAAb,CAAkB,UAAC,IAAD,EAAwC;AACtE,UAAI,WAAW,CAAC,QAAhB,EAA0B;AACxB,YAAI,KAAK,CAAC,IAAV,EAAgB;AACd,iBAAQ,IAAqB,CAAC,KAAtB,KAAgC,KAAK,CAAC,IAAN,CAAW,KAAnD;AACD,SAFD,MAEO;AACL,iBAAQ,IAAqB,CAAC,KAAtB,KAAgC,SAAxC;AACD;AACF,OAND,MAMO;AACL,eAAQ,IAAuB,CAAC,IAAxB,KAAiC,KAAK,CAAC,QAAvC,IAAmD,OAAO,CAAE,IAAuB,CAAC,SAAxB,CAAkC,MAAM,CAAC,KAAzC,CAAF,CAAlE;AACD;AACF,KAVa,CAAD,IAUN,OAAO,CAAC,KAAK,CAAC,SAAN,CAAgB,MAAM,CAAC,KAAvB,CAAD,CAVd;;AAWA,QAAI,WAAW,CAAC,QAAhB,EAA0B;AACxB,aAAO,IAAP;AACD,KAFD,MAEO;AACL,aAAO,IAAI,IAAI,CAAC,KAAK,CAAC,IAAtB;AACD;AACF,GAjBD;;AAmBA,EAAA,IAAI,CAAC,EAAL,CAAQ,KAAK,CAAC,QAAd,EAAwB,YAAK;AAC3B,IAAA,YAAY,CAAC,KAAD,CAAZ;;AAD2B,gDAET,UAAU,CAAC,IAAX,EAFS;AAAA;;AAAA;AAE3B,6DAAqC;AAAA,YAA1B,GAA0B;AACnC,QAAA,UAAU,CAAC,GAAX,CAAe,GAAf,EAAqB,KAArB,CAA2B,KAA3B;AACA,QAAA,UAAU,CAAC,GAAX,CAAe,GAAf,EAAqB,KAArB,CAA2B,OAA3B,GAAqC,IAArC;AACA,QAAA,UAAU,CAAC,GAAX,CAAe,GAAf,EAAqB,KAArB,CAA2B,SAA3B,GAAuC,IAAvC;AACA,QAAA,UAAU,CAAC,GAAX,CAAe,GAAf,EAAqB,KAArB,CAA2B,YAA3B,GAA0C,IAA1C;AACA,QAAA,UAAU,CAAC,GAAX,CAAe,GAAf,EAAqB,KAArB,CAA2B,OAA3B,GAAqC,IAArC;AACA,YAAM,IAAI,GAAG,UAAU,CAAC,GAAX,CAAe,GAAf,EAAqB,IAAlC;AACA,QAAA,OAAO,CAAC,IAAD,CAAP,CAAc,QAAd,GAAyB,CAAzB;AACD;AAV0B;AAAA;AAAA;AAAA;AAAA;;AAW3B,IAAA,UAAU,CAAC,KAAX;AACA,IAAA,KAAK;;AACL,QAAI,kBAAkB,SAAtB,EAAiC;AAC/B,MAAA,SAAS,CAAC,YAAV,CAAuB,aAAvB,GAAuC,MAAvC;AACD;AACF,GAhBD;AAkBA;;AAEG;;AACH,MAAM,cAAc,GAAG,SAAjB,cAAiB,CAAC,IAAD,EAAwC;AAC7D,QAAM,IAAI,GAAG,IAAI,CAAC,SAAL,CAAe,KAAf,CAAqB,UAAA,KAAK,EAAG;AACxC,aAAO,CAAC,WAAW,CAAC,KAAD,CAAnB;AACD,KAFY,CAAb;;AAGA,QAAI,IAAJ,EAAU;AACR,aAAO,KAAP;AACD,KAFD,MAEO,IAAI,WAAW,CAAC,QAAhB,EAA0B;AAC/B,aAAO,OAAO,CAAC,IAAI,CAAC,OAAD,CAAL,CAAd;AACD,KAFM,MAEA;AACL,aAAO,WAAW,CAAC,QAAZ,GAAuB,EAAE,yBAAkB,IAAI,CAAC,MAAD,CAAtB,EAAF,IAAuC,OAAO,CAAC,CAAC,yBAAkB,IAAI,CAAC,MAAD,CAAtB,EAAF,CAArE,GAA4G,EAAE,yBAAkB,IAAI,CAAC,MAAD,CAAtB,EAAF,IAAuC,OAAO,CAAC,CAAC,yBAAkB,IAAI,CAAC,MAAD,CAAtB,EAAF,CAA9C,IAAsF,CAAE,IAAuB,CAAC,IAAnO;AACD;AACF,GAXD;AAaA;;AAEG;;;AACH,MAAM,WAAW,GAAG,SAAd,WAAc,CAAC,KAAD,EAAsB;AACxC,QAAI,WAAW,CAAC,QAAhB,EAA0B;AACxB,aAAO,EAAE,iBAAU,KAAK,CAAC,IAAhB,EAAF,IAA6B,OAAO,CAAC,CAAC,iBAAU,KAAK,CAAC,IAAhB,EAAF,CAA3C;AACD,KAFD,MAEO;AACL,UAAI,IAAI,GAAG,IAAX;;AACA,UAAI,WAAW,CAAC,QAAhB,EAA0B;AACxB,YAAM,QAAQ,GAAG,WAAW,CAAC,KAAK,CAAC,QAAP,CAA5B;AACA,QAAA,IAAI,GAAG,EAAE,yBAAkB,QAAQ,CAAC,MAAD,CAA1B,EAAF,IAA2C,OAAO,CAAC,CAAC,yBAAkB,QAAQ,CAAC,MAAD,CAA1B,EAAF,CAAlD,IAA8F,CAAC,QAAQ,CAAC,IAA/G;AACD;;AACD,aAAO,EAAE,iBAAU,KAAK,CAAC,IAAhB,EAAF,IAA6B,OAAO,CAAC,CAAC,iBAAU,KAAK,CAAC,IAAhB,EAAF,CAApC,IAAkE,CAAC,KAAK,CAAC,IAAzE,IAAiF,IAAxF;AACD;AACF,GAXD;AAaA;;AAEG;;;AACH,MAAM,UAAU,GAAG,SAAb,UAAa,CAAC,IAAD,EAAgB;AACjC,WAAO,WAAW,CAAC,QAAZ,IAAwB,IAAxB,IAAgC,IAAI,CAAC,IAArC,GAA4C,IAAI,CAAC,IAAjD,GAAwD,EAA/D;AACD,GAFD;AAIA;;AAEG;;;AACH,MAAM,aAAa,GAAG,SAAhB,aAAgB,CAAC,IAAD,EAAkB;AACtC,QAAI,CAAC,IAAL,EAAW,OAAO,KAAP;AACX,WAAO,WAAW,CAAC,QAAZ,GAAuB,IAAI,KAAK,CAAC,CAAC,SAAS,CAAC,YAAX,CAAjC,GAA4D,IAAI,KAAK,CAAC,CAAC,SAAS,CAAC,QAAX,CAA7E;AACD,GAHD;AAKA;;AAEG;;;AACH,MAAM,SAAS,GAAG,SAAZ,SAAY,CAAC,UAAD,EAA2B;AAC3C,WAAO,UAAU,IAAI,OAAO,CAAC,UAAU,CAAC,MAAM,CAAC,KAAR,CAAX,CAArB,yBAAiE,UAAU,CAAC,MAAM,CAAC,KAAR,CAA3E,IAA8F,SAArG;AACD,GAFD;;AAIA,SAAO;AACL,IAAA,WAAW,EAAX,WADK;AAEL,IAAA,MAAM,EAAN,MAFK;AAGL,IAAA,IAAI,EAAJ,IAHK;AAIL,IAAA,cAAc,EAAd,cAJK;AAKL,IAAA,WAAW,EAAX,WALK;AAML,IAAA,UAAU,EAAV,UANK;AAOL,IAAA,aAAa,EAAb,aAPK;AAQL,IAAA,SAAS,EAAT;AARK,GAAP;AAUD,CA7TD;;AA+TA,IAAM,UAAU,GAAG,SAAb,UAAa,CAAC,OAAD,EAAqC;AACtD,EAAA,IAAI,CAAC,EAAL,CAAQ,KAAK,CAAC,SAAd,EAAyB,UAAC,IAAD,EAAkB;AACzC,QAAI,CAAC,IAAL,EAAW;;AACX,SAAK,IAAM,CAAX,IAAgB,OAAhB,EAAyB;AACvB,UAAI,CAAC,KAAK,IAAV,EAAgB;AACd,YAAM,SAAS,GAAG,QAAQ,CAAC,eAAT,CAAyB,SAAzB,GAAqC,OAAO,CAAC,CAAD,CAAP,CAAW,GAAX,CAAe,qBAAf,GAAuC,GAA5E,GAAkF,GAApG;AACA,QAAA,MAAM,CAAC,QAAP,CAAgB;AAAE,UAAA,GAAG,EAAE,SAAP;AAAkB,UAAA,QAAQ,EAAE;AAA5B,SAAhB;AACA;AACD;AACF;AACF,GATD;AAUD,CAXD;;AAaA,SACE,SADF,EAEE,UAFF,EAGE,YAHF,EAIE,UAJF","sourcesContent":["import Setting from '@/../setting/setting.json'\r\nimport mitt from '@/assets/script/mitt'\r\nimport { EVENT, INFO_I18N, Mark, Player, PlayerList, PlaySetting, SearchData, Translate, Voices, VoicesCategory, VoicesItem, VoicesOrigin } from '@/assets/script/type'\r\nimport { getCategory, getRandomInt } from '@/assets/script/utils'\r\nimport { ComputedRef, inject, reactive, ref, Ref, watch } from 'vue'\r\nimport { useI18n } from 'vue-i18n'\r\nimport { useRouter } from 'vue-router'\r\n\r\nconst MEDIA = Setting['mediaSession']\r\nconst CDN = Setting['CDN']\r\n\r\nconst useSearch = (btnList: { [name: string]: any }) => {\r\n  const router = useRouter()\r\n\r\n  const searchData: SearchData = inject('searchData') as SearchData\r\n  // 需要高亮显示的name\r\n  const highlight = ref('')\r\n\r\n  // 搜索数据改变时重新匹配高亮低亮\r\n  watch(searchData, (data) => {\r\n    for (const i in btnList) {\r\n      if (!btnList[i]) continue\r\n      if (data.value.length > 0) {\r\n        btnList[i].lowlight = !data.list.includes(i)\r\n      } else {\r\n        btnList[i].lowlight = false\r\n      }\r\n      btnList[i].highlight = i === highlight.value\r\n    }\r\n  })\r\n\r\n  watch(() => searchData.value, (newVal, oldVal) => {\r\n    // 搜索栏文字改变时清除路由参数\r\n    if (oldVal && 'k' in router.currentRoute.value.query) {\r\n      router.push({\r\n        query: {}\r\n      })\r\n    }\r\n\r\n    // 搜索栏文字改变时清除高亮\r\n    if (newVal !== oldVal) {\r\n      searchData.index = 0\r\n    }\r\n    if (highlight.value) {\r\n      highlight.value = ''\r\n    }\r\n  })\r\n\r\n  // 滚动到高亮的DOM\r\n  mitt.on(EVENT.autoScroll, () => {\r\n    if (searchData.list && searchData.list.length > 0) {\r\n      for (const i in btnList) {\r\n        if (searchData.index + 1 > searchData.list.length) searchData.index = 0\r\n        if (i === searchData.list[searchData.index]) {\r\n          searchData.index++\r\n          const scrollPos = document.documentElement.scrollTop + btnList[i].$el.getBoundingClientRect().top - 200\r\n          highlight.value = i\r\n          window.scrollTo({ top: scrollPos, behavior: 'smooth' })\r\n          break\r\n        }\r\n      }\r\n    }\r\n  })\r\n\r\n  return { searchData, highlight }\r\n}\r\n\r\nconst getBtnList = () => {\r\n  // 所有按钮的引用\r\n  const btnList: { [name: string]: any } = reactive({})\r\n  const setBtnList = (name: string, el: any) => {\r\n    btnList[name] = el\r\n  }\r\n\r\n  return { btnList, setBtnList }\r\n}\r\n\r\nconst createPlayer = (btnList: { [name: string]: any }) => {\r\n  const { t, te, locale } = useI18n()\r\n\r\n  const playSetting: PlaySetting = inject('playSetting') as PlaySetting\r\n\r\n  const voices = inject('voices') as ComputedRef<Voices>\r\n  const voiceList = inject('voiceList', ref([]) as Ref<VoicesItem[]>)\r\n  const infoDate = inject('infoDate') as Ref<Mark | null>\r\n\r\n  if ('mediaSession' in navigator) {\r\n    navigator.mediaSession.setActionHandler('nexttrack', () => {\r\n      randomPlay()\r\n    })\r\n    navigator.mediaSession.setActionHandler('previoustrack', () => {\r\n      randomPlay()\r\n    })\r\n    navigator.mediaSession.setActionHandler('pause', () => {\r\n      if (playerList.has('once')) (playerList.get('once') as Player).audio.pause()\r\n      navigator.mediaSession.playbackState = 'paused'\r\n    })\r\n  }\r\n\r\n  let timer: any = null\r\n\r\n  /**\r\n   * 重置播放状态\r\n   */\r\n  const reset = () => {\r\n    playSetting.loading = true\r\n    playSetting.nowPlay = null\r\n    playSetting.error = false\r\n    infoDate.value = null\r\n  }\r\n\r\n  const playerList: PlayerList = new Map()\r\n\r\n  /**\r\n   * 播放语音\r\n   * @param voice 语音对象\r\n   */\r\n  const play = (voice: VoicesItem) => {\r\n    // 可在此处增加播放统计相关代码\r\n    if (!playSetting.overlap) {\r\n      if (playerList.has('once')) (playerList.get('once') as Player).audio.pause()\r\n      if (playSetting.nowPlay && playSetting.nowPlay.name === voice.name) {\r\n        clearTimeout(timer)\r\n        timer = setTimeout(() => {\r\n          addPlayer(voice, 'once')\r\n        }, 250)\r\n      } else {\r\n        addPlayer(voice, 'once')\r\n      }\r\n      if ('mediaSession' in navigator) {\r\n        const meta = {\r\n          title: t('voice.' + voice.name),\r\n          artist: t(INFO_I18N.fullName),\r\n          album: t(INFO_I18N.title),\r\n          artwork: MEDIA ? [{ src: `/img/${MEDIA}`, sizes: '128x128' }] : []\r\n        }\r\n        navigator.mediaSession.metadata = new window.MediaMetadata(meta)\r\n        navigator.mediaSession.playbackState = 'playing'\r\n      }\r\n    } else {\r\n      const key = new Date().getTime()\r\n      addPlayer(voice, key)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 把语音对象添加到MAP\r\n   */\r\n  const addPlayer = (voice: VoicesItem, key: any) => {\r\n    reset()\r\n    if (key === 'once' && playerList.has(key)) {\r\n      playerList.get(key)!.audio.oncanplay = null\r\n    }\r\n    const path = process.env.NODE_ENV === 'production' && CDN ? `${CDN}/${voice.path}` : `voices/${voice.path}`\r\n    playerList.set(key, {\r\n      name: voice.name,\r\n      audio: new Audio(path)\r\n    })\r\n    if (!playSetting.overlap) {\r\n      playSetting.nowPlay = voice\r\n      if (voice.mark) {\r\n        infoDate.value = voice.mark\r\n      }\r\n    }\r\n    playerList.get(key)!.audio.play()\r\n    playerList.get(key)!.audio.onerror = () => {\r\n      if (CDN && playerList.get(key)!.audio.src.startsWith(CDN)) {\r\n        playerList.get(key)!.audio.src = `voices/${voice.path}`\r\n        playerList.get(key)!.audio.play()\r\n      } else {\r\n        playSetting.loading = false\r\n        playSetting.error = true\r\n      }\r\n    }\r\n    playerList.get(key)!.audio.oncanplay = () => {\r\n      playSetting.loading = false\r\n      const duration = playerList.get(key)!.audio.duration\r\n      let currentTime = 0\r\n      playerList.get(key)!.audio.ontimeupdate = () => {\r\n        currentTime = Number(((playerList.get(key)!.audio.currentTime / duration) * 100).toFixed(0))\r\n        let num = 0\r\n        for (const k of playerList.keys()) {\r\n          if (playerList.get(k)!.name === voice.name) {\r\n            num++\r\n          }\r\n        }\r\n        if (num > 1) {\r\n          btnList[voice.name].progress = 100\r\n        } else {\r\n          btnList[voice.name].progress = currentTime\r\n        }\r\n      }\r\n      playerList.get(key)!.audio.onended = () => {\r\n        btnList[voice.name].progress = 0\r\n        playerList.delete(key)\r\n        if (playSetting.loop > 0) {\r\n          listLoop(voice)\r\n        } else {\r\n          reset()\r\n        }\r\n        if (playSetting.autoRandom) {\r\n          randomPlay()\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  mitt.on(EVENT.randomPlay, () => {\r\n    randomPlay()\r\n  })\r\n\r\n  /**\r\n   * 随机播放\r\n   */\r\n  const randomPlay = () => {\r\n    const list: VoicesItem[] = []\r\n    voices.value.forEach((item: VoicesCategory | VoicesOrigin) => {\r\n      if (isShowCategory(item)) {\r\n        item.voiceList.forEach(voice => {\r\n          if (isShowVoice(voice)) {\r\n            list.push(voice)\r\n          }\r\n        })\r\n      }\r\n    })\r\n    play(list[getRandomInt(list.length)])\r\n  }\r\n\r\n  /**\r\n   * 循环播放\r\n   */\r\n  const listLoop = (voice: VoicesItem) => {\r\n    if (playSetting.loop === 1) {\r\n      play(voice)\r\n    } else if (playSetting.loop === 2) {\r\n      let list: VoicesItem[] = []\r\n      if (!playSetting.showInfo) {\r\n        list = (voices.value as VoicesCategory[]).find(voicesCategory => {\r\n          if (voicesCategory.name === voice.category) {\r\n            return voicesCategory.voiceList\r\n          }\r\n        })!.voiceList\r\n      } else {\r\n        if (voice.mark && voice.mark.title) {\r\n          list = (voices.value as VoicesOrigin[]).find(mark => {\r\n            if (mark.title === voice.mark!.title) {\r\n              return mark.voiceList\r\n            }\r\n          })!.voiceList\r\n        } else {\r\n          list = (voices.value as VoicesOrigin[]).find(mark => {\r\n            if (mark.title === 'unknown') {\r\n              return mark.voiceList\r\n            }\r\n          })!.voiceList\r\n        }\r\n      }\r\n      const nextVoice = list[getLoopIndex(voice, list)]\r\n      if (nextVoice) {\r\n        play(nextVoice)\r\n      }\r\n    } else if (playSetting.loop === 3) {\r\n      const nextVoice = voiceList.value[getLoopIndex(voice, voiceList.value)]\r\n      if (nextVoice) {\r\n        play(nextVoice)\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取列表播放的下一个索引\r\n   */\r\n  const getLoopIndex = (voice: VoicesItem, list: VoicesItem[]): number => {\r\n    let index = -1\r\n    for (const i in list) {\r\n      if (Number(i) === list.length - 1) {\r\n        index = 0\r\n        break\r\n      }\r\n      if (list[i].name === voice.name) {\r\n        index = Number(i) + 1\r\n        if (!isCanPlay(list[index])) {\r\n          index = getLoopIndex(list[index], list)\r\n        }\r\n        break\r\n      }\r\n    }\r\n    return index\r\n  }\r\n\r\n  /**\r\n   * 判断该模式或语言下是否可播放\r\n   */\r\n  const isCanPlay = (voice: VoicesItem) => {\r\n    const flag = (voices.value.some((item: VoicesOrigin | VoicesCategory) => {\r\n      if (playSetting.showInfo) {\r\n        if (voice.mark) {\r\n          return (item as VoicesOrigin).title === voice.mark.title\r\n        } else {\r\n          return (item as VoicesOrigin).title === 'unknown'\r\n        }\r\n      } else {\r\n        return (item as VoicesCategory).name === voice.category && Boolean((item as VoicesCategory).translate[locale.value])\r\n      }\r\n    })) && Boolean(voice.translate[locale.value])\r\n    if (playSetting.showHide) {\r\n      return flag\r\n    } else {\r\n      return flag && !voice.hide\r\n    }\r\n  }\r\n\r\n  mitt.on(EVENT.stopPlay, () => {\r\n    clearTimeout(timer)\r\n    for (const key of playerList.keys()) {\r\n      playerList.get(key)!.audio.pause()\r\n      playerList.get(key)!.audio.onerror = null\r\n      playerList.get(key)!.audio.oncanplay = null\r\n      playerList.get(key)!.audio.ontimeupdate = null\r\n      playerList.get(key)!.audio.onended = null\r\n      const name = playerList.get(key)!.name\r\n      btnList[name].progress = 0\r\n    }\r\n    playerList.clear()\r\n    reset()\r\n    if ('mediaSession' in navigator) {\r\n      navigator.mediaSession.playbackState = 'none'\r\n    }\r\n  })\r\n\r\n  /**\r\n   * 是否需要显示分类\r\n   */\r\n  const isShowCategory = (item: VoicesCategory | VoicesOrigin) => {\r\n    const flag = item.voiceList.every(voice => {\r\n      return !isShowVoice(voice)\r\n    })\r\n    if (flag) {\r\n      return false\r\n    } else if (playSetting.showInfo) {\r\n      return Boolean(item['title'])\r\n    } else {\r\n      return playSetting.showHide ? te(`voicecategory.${item['name']}`) && Boolean(t(`voicecategory.${item['name']}`)) : te(`voicecategory.${item['name']}`) && Boolean(t(`voicecategory.${item['name']}`)) && !(item as VoicesCategory).hide\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 是否需要显示语音\r\n   */\r\n  const isShowVoice = (voice: VoicesItem) => {\r\n    if (playSetting.showHide) {\r\n      return te(`voice.${voice.name}`) && Boolean(t(`voice.${voice.name}`))\r\n    } else {\r\n      let flag = true\r\n      if (playSetting.showInfo) {\r\n        const category = getCategory(voice.category)!\r\n        flag = te(`voicecategory.${category['name']}`) && Boolean(t(`voicecategory.${category['name']}`)) && !category.hide\r\n      }\r\n      return te(`voice.${voice.name}`) && Boolean(t(`voice.${voice.name}`)) && !voice.hide && flag\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 鼠标停留时是否显示时间\r\n   */\r\n  const isShowTime = (mark?: Mark) => {\r\n    return playSetting.showInfo && mark && mark.time ? mark.time : ''\r\n  }\r\n\r\n  /**\r\n   * 是否显示new图标\r\n   */\r\n  const isShowNewIcon = (date?: string) => {\r\n    if (!date) return false\r\n    return playSetting.showHide ? date === t(INFO_I18N.hideLastDate) : date === t(INFO_I18N.lastDate)\r\n  }\r\n\r\n  /**\r\n   * 返回需要显示的表情包url\r\n   */\r\n  const getPicUrl = (usePicture?: Translate) => {\r\n    return usePicture && Boolean(usePicture[locale.value]) ? `/voices/img/${usePicture[locale.value]}` : undefined\r\n  }\r\n\r\n  return {\r\n    playSetting,\r\n    voices,\r\n    play,\r\n    isShowCategory,\r\n    isShowVoice,\r\n    isShowTime,\r\n    isShowNewIcon,\r\n    getPicUrl\r\n  }\r\n}\r\n\r\nconst initListen = (btnList: { [name: string]: any }) => {\r\n  mitt.on(EVENT.nameClick, (name?: string) => {\r\n    if (!name) return\r\n    for (const i in btnList) {\r\n      if (i === name) {\r\n        const scrollPos = document.documentElement.scrollTop + btnList[i].$el.getBoundingClientRect().top - 200\r\n        window.scrollTo({ top: scrollPos, behavior: 'smooth' })\r\n        break\r\n      }\r\n    }\r\n  })\r\n}\r\n\r\nexport {\r\n  useSearch,\r\n  getBtnList,\r\n  createPlayer,\r\n  initListen\r\n}\r\n"],"sourceRoot":""}]}
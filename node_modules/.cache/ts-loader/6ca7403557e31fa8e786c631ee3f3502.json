{"remainingRequest":"D:\\FrozenLemonTee\\Arbeit\\WebProject\\ciyana-button@2.0\\ciyana-button\\node_modules\\babel-loader\\lib\\index.js!D:\\FrozenLemonTee\\Arbeit\\WebProject\\ciyana-button@2.0\\ciyana-button\\node_modules\\ts-loader\\index.js??ref--14-2!D:\\FrozenLemonTee\\Arbeit\\WebProject\\ciyana-button@2.0\\ciyana-button\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\FrozenLemonTee\\Arbeit\\WebProject\\ciyana-button@2.0\\ciyana-button\\src\\components\\Player\\Player.ts","dependencies":[{"path":"D:\\FrozenLemonTee\\Arbeit\\WebProject\\ciyana-button@2.0\\ciyana-button\\src\\components\\Player\\Player.ts","mtime":1625750801556},{"path":"D:\\FrozenLemonTee\\Arbeit\\WebProject\\ciyana-button@2.0\\ciyana-button\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615601873994},{"path":"D:\\FrozenLemonTee\\Arbeit\\WebProject\\ciyana-button@2.0\\ciyana-button\\node_modules\\babel-loader\\lib\\index.js","mtime":1615601874000},{"path":"D:\\FrozenLemonTee\\Arbeit\\WebProject\\ciyana-button@2.0\\ciyana-button\\node_modules\\ts-loader\\index.js","mtime":1615707284305},{"path":"D:\\FrozenLemonTee\\Arbeit\\WebProject\\ciyana-button@2.0\\ciyana-button\\node_modules\\eslint-loader\\index.js","mtime":1615601886951}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIkQ6L0Zyb3plbkxlbW9uVGVlL0FyYmVpdC9XZWJQcm9qZWN0L2NpeWFuYS1idXR0b25AMi4wL2NpeWFuYS1idXR0b24vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zdGFydHMtd2l0aC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci50by1maXhlZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0IFNldHRpbmcgZnJvbSAnQC8uLi9zZXR0aW5nL3NldHRpbmcuanNvbic7CmltcG9ydCBtaXR0IGZyb20gJ0AvYXNzZXRzL3NjcmlwdC9taXR0JzsKaW1wb3J0IHsgRVZFTlQsIElORk9fSTE4TiB9IGZyb20gJ0AvYXNzZXRzL3NjcmlwdC90eXBlJzsKaW1wb3J0IHsgZ2V0Q2F0ZWdvcnksIGdldFJhbmRvbUludCB9IGZyb20gJ0AvYXNzZXRzL3NjcmlwdC91dGlscyc7CmltcG9ydCB7IGluamVjdCwgcmVhY3RpdmUsIHJlZiwgd2F0Y2ggfSBmcm9tICd2dWUnOwppbXBvcnQgeyB1c2VJMThuIH0gZnJvbSAndnVlLWkxOG4nOwppbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICd2dWUtcm91dGVyJzsKaW1wb3J0IHsgZ3RhZyB9IGZyb20gJ0AvYXNzZXRzL3NjcmlwdC9hbmFseXRpY3MvZ3RhZyc7CnZhciBNRURJQSA9IFNldHRpbmdbJ21lZGlhU2Vzc2lvbiddOwp2YXIgQ0ROID0gU2V0dGluZ1snQ0ROJ107CnZhciBHQV9JRCA9IFNldHRpbmdbJ0dBX0lEJ107Cgp2YXIgdXNlU2VhcmNoID0gZnVuY3Rpb24gdXNlU2VhcmNoKGJ0bkxpc3QpIHsKICB2YXIgcm91dGVyID0gdXNlUm91dGVyKCk7CiAgdmFyIHNlYXJjaERhdGEgPSBpbmplY3QoJ3NlYXJjaERhdGEnKTsgLy8g6ZyA6KaB6auY5Lqu5pi+56S655qEbmFtZQoKICB2YXIgaGlnaGxpZ2h0ID0gcmVmKCcnKTsgLy8g5pCc57Si5pWw5o2u5pS55Y+Y5pe26YeN5paw5Yy56YWN6auY5Lqu5L2O5LquCgogIHdhdGNoKHNlYXJjaERhdGEsIGZ1bmN0aW9uIChkYXRhKSB7CiAgICBmb3IgKHZhciBpIGluIGJ0bkxpc3QpIHsKICAgICAgaWYgKCFidG5MaXN0W2ldKSBjb250aW51ZTsKCiAgICAgIGlmIChkYXRhLnZhbHVlLmxlbmd0aCA+IDApIHsKICAgICAgICBidG5MaXN0W2ldLmxvd2xpZ2h0ID0gIWRhdGEubGlzdC5pbmNsdWRlcyhpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBidG5MaXN0W2ldLmxvd2xpZ2h0ID0gZmFsc2U7CiAgICAgIH0KCiAgICAgIGJ0bkxpc3RbaV0uaGlnaGxpZ2h0ID0gaSA9PT0gaGlnaGxpZ2h0LnZhbHVlOwogICAgfQogIH0pOwogIHdhdGNoKGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBzZWFyY2hEYXRhLnZhbHVlOwogIH0sIGZ1bmN0aW9uIChuZXdWYWwsIG9sZFZhbCkgewogICAgLy8g5pCc57Si5qCP5paH5a2X5pS55Y+Y5pe25riF6Zmk6Lev55Sx5Y+C5pWwCiAgICBpZiAob2xkVmFsICYmICdrJyBpbiByb3V0ZXIuY3VycmVudFJvdXRlLnZhbHVlLnF1ZXJ5KSB7CiAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICBxdWVyeToge30KICAgICAgfSk7CiAgICB9IC8vIOaQnOe0ouagj+aWh+Wtl+aUueWPmOaXtua4hemZpOmrmOS6rgoKCiAgICBpZiAobmV3VmFsICE9PSBvbGRWYWwpIHsKICAgICAgc2VhcmNoRGF0YS5pbmRleCA9IDA7CiAgICB9CgogICAgaWYgKGhpZ2hsaWdodC52YWx1ZSkgewogICAgICBoaWdobGlnaHQudmFsdWUgPSAnJzsKICAgIH0KICB9KTsgLy8g5rua5Yqo5Yiw6auY5Lqu55qERE9NCgogIG1pdHQub24oRVZFTlQuYXV0b1Njcm9sbCwgZnVuY3Rpb24gKCkgewogICAgaWYgKHNlYXJjaERhdGEubGlzdCAmJiBzZWFyY2hEYXRhLmxpc3QubGVuZ3RoID4gMCkgewogICAgICBmb3IgKHZhciBpIGluIGJ0bkxpc3QpIHsKICAgICAgICBpZiAoc2VhcmNoRGF0YS5pbmRleCArIDEgPiBzZWFyY2hEYXRhLmxpc3QubGVuZ3RoKSBzZWFyY2hEYXRhLmluZGV4ID0gMDsKCiAgICAgICAgaWYgKGkgPT09IHNlYXJjaERhdGEubGlzdFtzZWFyY2hEYXRhLmluZGV4XSkgewogICAgICAgICAgc2VhcmNoRGF0YS5pbmRleCsrOwogICAgICAgICAgdmFyIHNjcm9sbFBvcyA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgKyBidG5MaXN0W2ldLiRlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgLSAyMDA7CiAgICAgICAgICBoaWdobGlnaHQudmFsdWUgPSBpOwogICAgICAgICAgd2luZG93LnNjcm9sbFRvKHsKICAgICAgICAgICAgdG9wOiBzY3JvbGxQb3MsCiAgICAgICAgICAgIGJlaGF2aW9yOiAnc21vb3RoJwogICAgICAgICAgfSk7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9KTsKICByZXR1cm4gewogICAgc2VhcmNoRGF0YTogc2VhcmNoRGF0YSwKICAgIGhpZ2hsaWdodDogaGlnaGxpZ2h0CiAgfTsKfTsKCnZhciBnZXRCdG5MaXN0ID0gZnVuY3Rpb24gZ2V0QnRuTGlzdCgpIHsKICAvLyDmiYDmnInmjInpkq7nmoTlvJXnlKgKICB2YXIgYnRuTGlzdCA9IHJlYWN0aXZlKHt9KTsKCiAgdmFyIHNldEJ0bkxpc3QgPSBmdW5jdGlvbiBzZXRCdG5MaXN0KG5hbWUsIGVsKSB7CiAgICBidG5MaXN0W25hbWVdID0gZWw7CiAgfTsKCiAgcmV0dXJuIHsKICAgIGJ0bkxpc3Q6IGJ0bkxpc3QsCiAgICBzZXRCdG5MaXN0OiBzZXRCdG5MaXN0CiAgfTsKfTsKCnZhciBjcmVhdGVQbGF5ZXIgPSBmdW5jdGlvbiBjcmVhdGVQbGF5ZXIoYnRuTGlzdCkgewogIHZhciBfdXNlSTE4biA9IHVzZUkxOG4oKSwKICAgICAgdCA9IF91c2VJMThuLnQsCiAgICAgIHRlID0gX3VzZUkxOG4udGUsCiAgICAgIGxvY2FsZSA9IF91c2VJMThuLmxvY2FsZTsKCiAgdmFyIHBsYXlTZXR0aW5nID0gaW5qZWN0KCdwbGF5U2V0dGluZycpOwogIHZhciB2b2ljZXMgPSBpbmplY3QoJ3ZvaWNlcycpOwogIHZhciB2b2ljZUxpc3QgPSBpbmplY3QoJ3ZvaWNlTGlzdCcsIHJlZihbXSkpOwogIHZhciBpbmZvRGF0ZSA9IGluamVjdCgnaW5mb0RhdGUnKTsKCiAgaWYgKCdtZWRpYVNlc3Npb24nIGluIG5hdmlnYXRvcikgewogICAgbmF2aWdhdG9yLm1lZGlhU2Vzc2lvbi5zZXRBY3Rpb25IYW5kbGVyKCduZXh0dHJhY2snLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJhbmRvbVBsYXkoKTsKICAgIH0pOwogICAgbmF2aWdhdG9yLm1lZGlhU2Vzc2lvbi5zZXRBY3Rpb25IYW5kbGVyKCdwcmV2aW91c3RyYWNrJywgZnVuY3Rpb24gKCkgewogICAgICByYW5kb21QbGF5KCk7CiAgICB9KTsKICAgIG5hdmlnYXRvci5tZWRpYVNlc3Npb24uc2V0QWN0aW9uSGFuZGxlcigncGF1c2UnLCBmdW5jdGlvbiAoKSB7CiAgICAgIGlmIChwbGF5ZXJMaXN0Lmhhcygnb25jZScpKSBwbGF5ZXJMaXN0LmdldCgnb25jZScpLmF1ZGlvLnBhdXNlKCk7CiAgICAgIG5hdmlnYXRvci5tZWRpYVNlc3Npb24ucGxheWJhY2tTdGF0ZSA9ICdwYXVzZWQnOwogICAgfSk7CiAgfQoKICB2YXIgdGltZXIgPSBudWxsOwogIC8qKg0KICAgKiDph43nva7mkq3mlL7nirbmgIENCiAgICovCgogIHZhciByZXNldCA9IGZ1bmN0aW9uIHJlc2V0KCkgewogICAgcGxheVNldHRpbmcubG9hZGluZyA9IHRydWU7CiAgICBwbGF5U2V0dGluZy5ub3dQbGF5ID0gbnVsbDsKICAgIHBsYXlTZXR0aW5nLmVycm9yID0gZmFsc2U7CiAgICBpbmZvRGF0ZS52YWx1ZSA9IG51bGw7CiAgfTsKCiAgdmFyIHBsYXllckxpc3QgPSBuZXcgTWFwKCk7CiAgLyoqDQogICAqIOaSreaUvuivremfsw0KICAgKiBAcGFyYW0gdm9pY2Ug6K+t6Z+z5a+56LGhDQogICAqLwoKICB2YXIgcGxheSA9IGZ1bmN0aW9uIHBsYXkodm9pY2UpIHsKICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nICYmIEdBX0lEKSB7CiAgICAgIC8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9jYW1lbGNhc2UgKi8KICAgICAgZ3RhZygnZXZlbnQnLCAn5pKt5pS+6K+t6Z+zJywgewogICAgICAgIGV2ZW50X2NhdGVnb3J5OiB2b2ljZS5jYXRlZ29yeSwKICAgICAgICBldmVudF9sYWJlbDogdm9pY2UubmFtZSwKICAgICAgICB2YWx1ZTogMQogICAgICB9KTsKICAgICAgLyogZXNsaW50LWVuYWJsZSAqLwogICAgfSAvLyDlj6/lnKjmraTlpITlop7liqDmkq3mlL7nu5/orqHnm7jlhbPku6PnoIEKCgogICAgaWYgKCFwbGF5U2V0dGluZy5vdmVybGFwKSB7CiAgICAgIGlmIChwbGF5ZXJMaXN0Lmhhcygnb25jZScpKSBwbGF5ZXJMaXN0LmdldCgnb25jZScpLmF1ZGlvLnBhdXNlKCk7CgogICAgICBpZiAocGxheVNldHRpbmcubm93UGxheSAmJiBwbGF5U2V0dGluZy5ub3dQbGF5Lm5hbWUgPT09IHZvaWNlLm5hbWUpIHsKICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpOwogICAgICAgIHRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBhZGRQbGF5ZXIodm9pY2UsICdvbmNlJyk7CiAgICAgICAgfSwgMjUwKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBhZGRQbGF5ZXIodm9pY2UsICdvbmNlJyk7CiAgICAgIH0KCiAgICAgIGlmICgnbWVkaWFTZXNzaW9uJyBpbiBuYXZpZ2F0b3IpIHsKICAgICAgICB2YXIgbWV0YSA9IHsKICAgICAgICAgIHRpdGxlOiB0KCd2b2ljZS4nICsgdm9pY2UubmFtZSksCiAgICAgICAgICBhcnRpc3Q6IHQoSU5GT19JMThOLmZ1bGxOYW1lKSwKICAgICAgICAgIGFsYnVtOiB0KElORk9fSTE4Ti50aXRsZSksCiAgICAgICAgICBhcnR3b3JrOiBNRURJQSA/IFt7CiAgICAgICAgICAgIHNyYzogIi9pbWcvIi5jb25jYXQoTUVESUEpLAogICAgICAgICAgICBzaXplczogJzEyOHgxMjgnCiAgICAgICAgICB9XSA6IFtdCiAgICAgICAgfTsKICAgICAgICBuYXZpZ2F0b3IubWVkaWFTZXNzaW9uLm1ldGFkYXRhID0gbmV3IHdpbmRvdy5NZWRpYU1ldGFkYXRhKG1ldGEpOwogICAgICAgIG5hdmlnYXRvci5tZWRpYVNlc3Npb24ucGxheWJhY2tTdGF0ZSA9ICdwbGF5aW5nJzsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgdmFyIGtleSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpOwogICAgICBhZGRQbGF5ZXIodm9pY2UsIGtleSk7CiAgICB9CiAgfTsKICAvKioNCiAgICog5oqK6K+t6Z+z5a+56LGh5re75Yqg5YiwTUFQDQogICAqLwoKCiAgdmFyIGFkZFBsYXllciA9IGZ1bmN0aW9uIGFkZFBsYXllcih2b2ljZSwga2V5KSB7CiAgICByZXNldCgpOwoKICAgIGlmIChrZXkgPT09ICdvbmNlJyAmJiBwbGF5ZXJMaXN0LmhhcyhrZXkpKSB7CiAgICAgIHBsYXllckxpc3QuZ2V0KGtleSkuYXVkaW8ub25jYW5wbGF5ID0gbnVsbDsKICAgIH0KCiAgICB2YXIgcGF0aCA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicgJiYgQ0ROID8gIiIuY29uY2F0KENETiwgIi8iKS5jb25jYXQodm9pY2UucGF0aCkgOiAidm9pY2VzLyIuY29uY2F0KHZvaWNlLnBhdGgpOwogICAgcGxheWVyTGlzdC5zZXQoa2V5LCB7CiAgICAgIG5hbWU6IHZvaWNlLm5hbWUsCiAgICAgIGF1ZGlvOiBuZXcgQXVkaW8ocGF0aCkKICAgIH0pOwoKICAgIGlmICghcGxheVNldHRpbmcub3ZlcmxhcCkgewogICAgICBwbGF5U2V0dGluZy5ub3dQbGF5ID0gdm9pY2U7CgogICAgICBpZiAodm9pY2UubWFyaykgewogICAgICAgIGluZm9EYXRlLnZhbHVlID0gdm9pY2UubWFyazsKICAgICAgfQogICAgfQoKICAgIHBsYXllckxpc3QuZ2V0KGtleSkuYXVkaW8ucGxheSgpOwoKICAgIHBsYXllckxpc3QuZ2V0KGtleSkuYXVkaW8ub25lcnJvciA9IGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKENETiAmJiBwbGF5ZXJMaXN0LmdldChrZXkpLmF1ZGlvLnNyYy5zdGFydHNXaXRoKENETikpIHsKICAgICAgICBwbGF5ZXJMaXN0LmdldChrZXkpLmF1ZGlvLnNyYyA9ICJ2b2ljZXMvIi5jb25jYXQodm9pY2UucGF0aCk7CiAgICAgICAgcGxheWVyTGlzdC5nZXQoa2V5KS5hdWRpby5wbGF5KCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcGxheVNldHRpbmcubG9hZGluZyA9IGZhbHNlOwogICAgICAgIHBsYXlTZXR0aW5nLmVycm9yID0gdHJ1ZTsKICAgICAgfQogICAgfTsKCiAgICBwbGF5ZXJMaXN0LmdldChrZXkpLmF1ZGlvLm9uY2FucGxheSA9IGZ1bmN0aW9uICgpIHsKICAgICAgcGxheVNldHRpbmcubG9hZGluZyA9IGZhbHNlOwogICAgICB2YXIgZHVyYXRpb24gPSBwbGF5ZXJMaXN0LmdldChrZXkpLmF1ZGlvLmR1cmF0aW9uOwogICAgICB2YXIgY3VycmVudFRpbWUgPSAwOwoKICAgICAgcGxheWVyTGlzdC5nZXQoa2V5KS5hdWRpby5vbnRpbWV1cGRhdGUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgY3VycmVudFRpbWUgPSBOdW1iZXIoKHBsYXllckxpc3QuZ2V0KGtleSkuYXVkaW8uY3VycmVudFRpbWUgLyBkdXJhdGlvbiAqIDEwMCkudG9GaXhlZCgwKSk7CiAgICAgICAgdmFyIG51bSA9IDA7CgogICAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihwbGF5ZXJMaXN0LmtleXMoKSksCiAgICAgICAgICAgIF9zdGVwOwoKICAgICAgICB0cnkgewogICAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgdmFyIGsgPSBfc3RlcC52YWx1ZTsKCiAgICAgICAgICAgIGlmIChwbGF5ZXJMaXN0LmdldChrKS5uYW1lID09PSB2b2ljZS5uYW1lKSB7CiAgICAgICAgICAgICAgbnVtKys7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgICAgfQoKICAgICAgICBpZiAobnVtID4gMSkgewogICAgICAgICAgYnRuTGlzdFt2b2ljZS5uYW1lXS5wcm9ncmVzcyA9IDEwMDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYnRuTGlzdFt2b2ljZS5uYW1lXS5wcm9ncmVzcyA9IGN1cnJlbnRUaW1lOwogICAgICAgIH0KICAgICAgfTsKCiAgICAgIHBsYXllckxpc3QuZ2V0KGtleSkuYXVkaW8ub25lbmRlZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBidG5MaXN0W3ZvaWNlLm5hbWVdLnByb2dyZXNzID0gMDsKICAgICAgICBwbGF5ZXJMaXN0LmRlbGV0ZShrZXkpOwoKICAgICAgICBpZiAocGxheVNldHRpbmcubG9vcCA+IDApIHsKICAgICAgICAgIGxpc3RMb29wKHZvaWNlKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmVzZXQoKTsKICAgICAgICB9CgogICAgICAgIGlmIChwbGF5U2V0dGluZy5hdXRvUmFuZG9tKSB7CiAgICAgICAgICByYW5kb21QbGF5KCk7CiAgICAgICAgfQogICAgICB9OwogICAgfTsKICB9OwoKICBtaXR0Lm9uKEVWRU5ULnJhbmRvbVBsYXksIGZ1bmN0aW9uICgpIHsKICAgIHJhbmRvbVBsYXkoKTsKICB9KTsKICAvKioNCiAgICog6ZqP5py65pKt5pS+DQogICAqLwoKICB2YXIgcmFuZG9tUGxheSA9IGZ1bmN0aW9uIHJhbmRvbVBsYXkoKSB7CiAgICB2YXIgbGlzdCA9IFtdOwogICAgdm9pY2VzLnZhbHVlLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgaWYgKGlzU2hvd0NhdGVnb3J5KGl0ZW0pKSB7CiAgICAgICAgaXRlbS52b2ljZUxpc3QuZm9yRWFjaChmdW5jdGlvbiAodm9pY2UpIHsKICAgICAgICAgIGlmIChpc1Nob3dWb2ljZSh2b2ljZSkpIHsKICAgICAgICAgICAgbGlzdC5wdXNoKHZvaWNlKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSk7CiAgICBwbGF5KGxpc3RbZ2V0UmFuZG9tSW50KGxpc3QubGVuZ3RoKV0pOwogIH07CiAgLyoqDQogICAqIOW+queOr+aSreaUvg0KICAgKi8KCgogIHZhciBsaXN0TG9vcCA9IGZ1bmN0aW9uIGxpc3RMb29wKHZvaWNlKSB7CiAgICBpZiAocGxheVNldHRpbmcubG9vcCA9PT0gMSkgewogICAgICBwbGF5KHZvaWNlKTsKICAgIH0gZWxzZSBpZiAocGxheVNldHRpbmcubG9vcCA9PT0gMikgewogICAgICB2YXIgbGlzdCA9IFtdOwoKICAgICAgaWYgKCFwbGF5U2V0dGluZy5zaG93SW5mbykgewogICAgICAgIGxpc3QgPSB2b2ljZXMudmFsdWUuZmluZChmdW5jdGlvbiAodm9pY2VzQ2F0ZWdvcnkpIHsKICAgICAgICAgIGlmICh2b2ljZXNDYXRlZ29yeS5uYW1lID09PSB2b2ljZS5jYXRlZ29yeSkgewogICAgICAgICAgICByZXR1cm4gdm9pY2VzQ2F0ZWdvcnkudm9pY2VMaXN0OwogICAgICAgICAgfQogICAgICAgIH0pLnZvaWNlTGlzdDsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAodm9pY2UubWFyayAmJiB2b2ljZS5tYXJrLnRpdGxlKSB7CiAgICAgICAgICBsaXN0ID0gdm9pY2VzLnZhbHVlLmZpbmQoZnVuY3Rpb24gKG1hcmspIHsKICAgICAgICAgICAgaWYgKG1hcmsudGl0bGUgPT09IHZvaWNlLm1hcmsudGl0bGUpIHsKICAgICAgICAgICAgICByZXR1cm4gbWFyay52b2ljZUxpc3Q7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pLnZvaWNlTGlzdDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgbGlzdCA9IHZvaWNlcy52YWx1ZS5maW5kKGZ1bmN0aW9uIChtYXJrKSB7CiAgICAgICAgICAgIGlmIChtYXJrLnRpdGxlID09PSAndW5rbm93bicpIHsKICAgICAgICAgICAgICByZXR1cm4gbWFyay52b2ljZUxpc3Q7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pLnZvaWNlTGlzdDsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHZhciBuZXh0Vm9pY2UgPSBsaXN0W2dldExvb3BJbmRleCh2b2ljZSwgbGlzdCldOwoKICAgICAgaWYgKG5leHRWb2ljZSkgewogICAgICAgIHBsYXkobmV4dFZvaWNlKTsKICAgICAgfQogICAgfSBlbHNlIGlmIChwbGF5U2V0dGluZy5sb29wID09PSAzKSB7CiAgICAgIHZhciBfbmV4dFZvaWNlID0gdm9pY2VMaXN0LnZhbHVlW2dldExvb3BJbmRleCh2b2ljZSwgdm9pY2VMaXN0LnZhbHVlKV07CgogICAgICBpZiAoX25leHRWb2ljZSkgewogICAgICAgIHBsYXkoX25leHRWb2ljZSk7CiAgICAgIH0KICAgIH0KICB9OwogIC8qKg0KICAgKiDojrflj5bliJfooajmkq3mlL7nmoTkuIvkuIDkuKrntKLlvJUNCiAgICovCgoKICB2YXIgZ2V0TG9vcEluZGV4ID0gZnVuY3Rpb24gZ2V0TG9vcEluZGV4KHZvaWNlLCBsaXN0KSB7CiAgICB2YXIgaW5kZXggPSAtMTsKCiAgICBmb3IgKHZhciBpIGluIGxpc3QpIHsKICAgICAgaWYgKE51bWJlcihpKSA9PT0gbGlzdC5sZW5ndGggLSAxKSB7CiAgICAgICAgaW5kZXggPSAwOwogICAgICAgIGJyZWFrOwogICAgICB9CgogICAgICBpZiAobGlzdFtpXS5uYW1lID09PSB2b2ljZS5uYW1lKSB7CiAgICAgICAgaW5kZXggPSBOdW1iZXIoaSkgKyAxOwoKICAgICAgICBpZiAoIWlzQ2FuUGxheShsaXN0W2luZGV4XSkpIHsKICAgICAgICAgIGluZGV4ID0gZ2V0TG9vcEluZGV4KGxpc3RbaW5kZXhdLCBsaXN0KTsKICAgICAgICB9CgogICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIGluZGV4OwogIH07CiAgLyoqDQogICAqIOWIpOaWreivpeaooeW8j+aIluivreiogOS4i+aYr+WQpuWPr+aSreaUvg0KICAgKi8KCgogIHZhciBpc0NhblBsYXkgPSBmdW5jdGlvbiBpc0NhblBsYXkodm9pY2UpIHsKICAgIHZhciBmbGFnID0gdm9pY2VzLnZhbHVlLnNvbWUoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgaWYgKHBsYXlTZXR0aW5nLnNob3dJbmZvKSB7CiAgICAgICAgaWYgKHZvaWNlLm1hcmspIHsKICAgICAgICAgIHJldHVybiBpdGVtLnRpdGxlID09PSB2b2ljZS5tYXJrLnRpdGxlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gaXRlbS50aXRsZSA9PT0gJ3Vua25vd24nOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gaXRlbS5uYW1lID09PSB2b2ljZS5jYXRlZ29yeSAmJiBCb29sZWFuKGl0ZW0udHJhbnNsYXRlW2xvY2FsZS52YWx1ZV0pOwogICAgICB9CiAgICB9KSAmJiBCb29sZWFuKHZvaWNlLnRyYW5zbGF0ZVtsb2NhbGUudmFsdWVdKTsKCiAgICBpZiAocGxheVNldHRpbmcuc2hvd0hpZGUpIHsKICAgICAgcmV0dXJuIGZsYWc7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gZmxhZyAmJiAhdm9pY2UuaGlkZTsKICAgIH0KICB9OwoKICBtaXR0Lm9uKEVWRU5ULnN0b3BQbGF5LCBmdW5jdGlvbiAoKSB7CiAgICBjbGVhclRpbWVvdXQodGltZXIpOwoKICAgIHZhciBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIocGxheWVyTGlzdC5rZXlzKCkpLAogICAgICAgIF9zdGVwMjsKCiAgICB0cnkgewogICAgICBmb3IgKF9pdGVyYXRvcjIucygpOyAhKF9zdGVwMiA9IF9pdGVyYXRvcjIubigpKS5kb25lOykgewogICAgICAgIHZhciBrZXkgPSBfc3RlcDIudmFsdWU7CiAgICAgICAgcGxheWVyTGlzdC5nZXQoa2V5KS5hdWRpby5wYXVzZSgpOwogICAgICAgIHBsYXllckxpc3QuZ2V0KGtleSkuYXVkaW8ub25lcnJvciA9IG51bGw7CiAgICAgICAgcGxheWVyTGlzdC5nZXQoa2V5KS5hdWRpby5vbmNhbnBsYXkgPSBudWxsOwogICAgICAgIHBsYXllckxpc3QuZ2V0KGtleSkuYXVkaW8ub250aW1ldXBkYXRlID0gbnVsbDsKICAgICAgICBwbGF5ZXJMaXN0LmdldChrZXkpLmF1ZGlvLm9uZW5kZWQgPSBudWxsOwogICAgICAgIHZhciBuYW1lID0gcGxheWVyTGlzdC5nZXQoa2V5KS5uYW1lOwogICAgICAgIGJ0bkxpc3RbbmFtZV0ucHJvZ3Jlc3MgPSAwOwogICAgICB9CiAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgX2l0ZXJhdG9yMi5lKGVycik7CiAgICB9IGZpbmFsbHkgewogICAgICBfaXRlcmF0b3IyLmYoKTsKICAgIH0KCiAgICBwbGF5ZXJMaXN0LmNsZWFyKCk7CiAgICByZXNldCgpOwoKICAgIGlmICgnbWVkaWFTZXNzaW9uJyBpbiBuYXZpZ2F0b3IpIHsKICAgICAgbmF2aWdhdG9yLm1lZGlhU2Vzc2lvbi5wbGF5YmFja1N0YXRlID0gJ25vbmUnOwogICAgfQogIH0pOwogIC8qKg0KICAgKiDmmK/lkKbpnIDopoHmmL7npLrliIbnsbsNCiAgICovCgogIHZhciBpc1Nob3dDYXRlZ29yeSA9IGZ1bmN0aW9uIGlzU2hvd0NhdGVnb3J5KGl0ZW0pIHsKICAgIHZhciBmbGFnID0gaXRlbS52b2ljZUxpc3QuZXZlcnkoZnVuY3Rpb24gKHZvaWNlKSB7CiAgICAgIHJldHVybiAhaXNTaG93Vm9pY2Uodm9pY2UpOwogICAgfSk7CgogICAgaWYgKGZsYWcpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfSBlbHNlIGlmIChwbGF5U2V0dGluZy5zaG93SW5mbykgewogICAgICByZXR1cm4gQm9vbGVhbihpdGVtWyd0aXRsZSddKTsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBwbGF5U2V0dGluZy5zaG93SGlkZSA/IHRlKCJ2b2ljZWNhdGVnb3J5LiIuY29uY2F0KGl0ZW1bJ25hbWUnXSkpICYmIEJvb2xlYW4odCgidm9pY2VjYXRlZ29yeS4iLmNvbmNhdChpdGVtWyduYW1lJ10pKSkgOiB0ZSgidm9pY2VjYXRlZ29yeS4iLmNvbmNhdChpdGVtWyduYW1lJ10pKSAmJiBCb29sZWFuKHQoInZvaWNlY2F0ZWdvcnkuIi5jb25jYXQoaXRlbVsnbmFtZSddKSkpICYmICFpdGVtLmhpZGU7CiAgICB9CiAgfTsKICAvKioNCiAgICog5piv5ZCm6ZyA6KaB5pi+56S66K+t6Z+zDQogICAqLwoKCiAgdmFyIGlzU2hvd1ZvaWNlID0gZnVuY3Rpb24gaXNTaG93Vm9pY2Uodm9pY2UpIHsKICAgIGlmIChwbGF5U2V0dGluZy5zaG93SGlkZSkgewogICAgICByZXR1cm4gdGUoInZvaWNlLiIuY29uY2F0KHZvaWNlLm5hbWUpKSAmJiBCb29sZWFuKHQoInZvaWNlLiIuY29uY2F0KHZvaWNlLm5hbWUpKSk7CiAgICB9IGVsc2UgewogICAgICB2YXIgZmxhZyA9IHRydWU7CgogICAgICBpZiAocGxheVNldHRpbmcuc2hvd0luZm8pIHsKICAgICAgICB2YXIgY2F0ZWdvcnkgPSBnZXRDYXRlZ29yeSh2b2ljZS5jYXRlZ29yeSk7CiAgICAgICAgZmxhZyA9IHRlKCJ2b2ljZWNhdGVnb3J5LiIuY29uY2F0KGNhdGVnb3J5WyduYW1lJ10pKSAmJiBCb29sZWFuKHQoInZvaWNlY2F0ZWdvcnkuIi5jb25jYXQoY2F0ZWdvcnlbJ25hbWUnXSkpKSAmJiAhY2F0ZWdvcnkuaGlkZTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRlKCJ2b2ljZS4iLmNvbmNhdCh2b2ljZS5uYW1lKSkgJiYgQm9vbGVhbih0KCJ2b2ljZS4iLmNvbmNhdCh2b2ljZS5uYW1lKSkpICYmICF2b2ljZS5oaWRlICYmIGZsYWc7CiAgICB9CiAgfTsKICAvKioNCiAgICog6byg5qCH5YGc55WZ5pe25piv5ZCm5pi+56S65pe26Ze0DQogICAqLwoKCiAgdmFyIGlzU2hvd1RpbWUgPSBmdW5jdGlvbiBpc1Nob3dUaW1lKG1hcmspIHsKICAgIHJldHVybiBwbGF5U2V0dGluZy5zaG93SW5mbyAmJiBtYXJrICYmIG1hcmsudGltZSA/IG1hcmsudGltZSA6ICcnOwogIH07CiAgLyoqDQogICAqIOaYr+WQpuaYvuekum5ld+Wbvuaghw0KICAgKi8KCgogIHZhciBpc1Nob3dOZXdJY29uID0gZnVuY3Rpb24gaXNTaG93TmV3SWNvbihkYXRlKSB7CiAgICBpZiAoIWRhdGUpIHJldHVybiBmYWxzZTsKICAgIHJldHVybiBwbGF5U2V0dGluZy5zaG93SGlkZSA/IGRhdGUgPT09IHQoSU5GT19JMThOLmhpZGVMYXN0RGF0ZSkgOiBkYXRlID09PSB0KElORk9fSTE4Ti5sYXN0RGF0ZSk7CiAgfTsKICAvKioNCiAgICog6L+U5Zue6ZyA6KaB5pi+56S655qE6KGo5oOF5YyFdXJsDQogICAqLwoKCiAgdmFyIGdldFBpY1VybCA9IGZ1bmN0aW9uIGdldFBpY1VybCh1c2VQaWN0dXJlKSB7CiAgICByZXR1cm4gdXNlUGljdHVyZSAmJiBCb29sZWFuKHVzZVBpY3R1cmVbbG9jYWxlLnZhbHVlXSkgPyAiL3ZvaWNlcy9pbWcvIi5jb25jYXQodXNlUGljdHVyZVtsb2NhbGUudmFsdWVdKSA6IHVuZGVmaW5lZDsKICB9OwoKICByZXR1cm4gewogICAgcGxheVNldHRpbmc6IHBsYXlTZXR0aW5nLAogICAgdm9pY2VzOiB2b2ljZXMsCiAgICBwbGF5OiBwbGF5LAogICAgaXNTaG93Q2F0ZWdvcnk6IGlzU2hvd0NhdGVnb3J5LAogICAgaXNTaG93Vm9pY2U6IGlzU2hvd1ZvaWNlLAogICAgaXNTaG93VGltZTogaXNTaG93VGltZSwKICAgIGlzU2hvd05ld0ljb246IGlzU2hvd05ld0ljb24sCiAgICBnZXRQaWNVcmw6IGdldFBpY1VybAogIH07Cn07Cgp2YXIgaW5pdExpc3RlbiA9IGZ1bmN0aW9uIGluaXRMaXN0ZW4oYnRuTGlzdCkgewogIG1pdHQub24oRVZFTlQubmFtZUNsaWNrLCBmdW5jdGlvbiAobmFtZSkgewogICAgaWYgKCFuYW1lKSByZXR1cm47CgogICAgZm9yICh2YXIgaSBpbiBidG5MaXN0KSB7CiAgICAgIGlmIChpID09PSBuYW1lKSB7CiAgICAgICAgdmFyIHNjcm9sbFBvcyA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgKyBidG5MaXN0W2ldLiRlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgLSAyMDA7CiAgICAgICAgd2luZG93LnNjcm9sbFRvKHsKICAgICAgICAgIHRvcDogc2Nyb2xsUG9zLAogICAgICAgICAgYmVoYXZpb3I6ICdzbW9vdGgnCiAgICAgICAgfSk7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KICB9KTsKfTsKCmV4cG9ydCB7IHVzZVNlYXJjaCwgZ2V0QnRuTGlzdCwgY3JlYXRlUGxheWVyLCBpbml0TGlzdGVuIH07"},{"version":3,"sources":["D:\\FrozenLemonTee\\Arbeit\\WebProject\\ciyana-button@2.0\\ciyana-button\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\FrozenLemonTee\\Arbeit\\WebProject\\ciyana-button@2.0\\ciyana-button\\src\\components\\Player\\Player.ts"],"names":[],"mappings":"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","sourcesContent":["import Setting from '@/../setting/setting.json'\r\nimport mitt from '@/assets/script/mitt'\r\nimport { EVENT, INFO_I18N, Mark, Player, PlayerList, PlaySetting, SearchData, Translate, Voices, VoicesCategory, VoicesItem, VoicesOrigin } from '@/assets/script/type'\r\nimport { getCategory, getRandomInt } from '@/assets/script/utils'\r\nimport { ComputedRef, inject, reactive, ref, Ref, watch } from 'vue'\r\nimport { useI18n } from 'vue-i18n'\r\nimport { useRouter } from 'vue-router'\r\nimport { gtag } from '@/assets/script/analytics/gtag'\r\n\r\nconst MEDIA = Setting['mediaSession']\r\nconst CDN = Setting['CDN']\r\nconst GA_ID = Setting['GA_ID']\r\n\r\nconst useSearch = (btnList: { [name: string]: any }) => {\r\n  const router = useRouter()\r\n\r\n  const searchData: SearchData = inject('searchData') as SearchData\r\n  // 需要高亮显示的name\r\n  const highlight = ref('')\r\n\r\n  // 搜索数据改变时重新匹配高亮低亮\r\n  watch(searchData, (data) => {\r\n    for (const i in btnList) {\r\n      if (!btnList[i]) continue\r\n      if (data.value.length > 0) {\r\n        btnList[i].lowlight = !data.list.includes(i)\r\n      } else {\r\n        btnList[i].lowlight = false\r\n      }\r\n      btnList[i].highlight = i === highlight.value\r\n    }\r\n  })\r\n\r\n  watch(() => searchData.value, (newVal, oldVal) => {\r\n    // 搜索栏文字改变时清除路由参数\r\n    if (oldVal && 'k' in router.currentRoute.value.query) {\r\n      router.push({\r\n        query: {}\r\n      })\r\n    }\r\n\r\n    // 搜索栏文字改变时清除高亮\r\n    if (newVal !== oldVal) {\r\n      searchData.index = 0\r\n    }\r\n    if (highlight.value) {\r\n      highlight.value = ''\r\n    }\r\n  })\r\n\r\n  // 滚动到高亮的DOM\r\n  mitt.on(EVENT.autoScroll, () => {\r\n    if (searchData.list && searchData.list.length > 0) {\r\n      for (const i in btnList) {\r\n        if (searchData.index + 1 > searchData.list.length) searchData.index = 0\r\n        if (i === searchData.list[searchData.index]) {\r\n          searchData.index++\r\n          const scrollPos = document.documentElement.scrollTop + btnList[i].$el.getBoundingClientRect().top - 200\r\n          highlight.value = i\r\n          window.scrollTo({ top: scrollPos, behavior: 'smooth' })\r\n          break\r\n        }\r\n      }\r\n    }\r\n  })\r\n\r\n  return { searchData, highlight }\r\n}\r\n\r\nconst getBtnList = () => {\r\n  // 所有按钮的引用\r\n  const btnList: { [name: string]: any } = reactive({})\r\n  const setBtnList = (name: string, el: any) => {\r\n    btnList[name] = el\r\n  }\r\n\r\n  return { btnList, setBtnList }\r\n}\r\n\r\nconst createPlayer = (btnList: { [name: string]: any }) => {\r\n  const { t, te, locale } = useI18n()\r\n\r\n  const playSetting: PlaySetting = inject('playSetting') as PlaySetting\r\n\r\n  const voices = inject('voices') as ComputedRef<Voices>\r\n  const voiceList = inject('voiceList', ref([]) as Ref<VoicesItem[]>)\r\n  const infoDate = inject('infoDate') as Ref<Mark | null>\r\n\r\n  if ('mediaSession' in navigator) {\r\n    navigator.mediaSession.setActionHandler('nexttrack', () => {\r\n      randomPlay()\r\n    })\r\n    navigator.mediaSession.setActionHandler('previoustrack', () => {\r\n      randomPlay()\r\n    })\r\n    navigator.mediaSession.setActionHandler('pause', () => {\r\n      if (playerList.has('once')) (playerList.get('once') as Player).audio.pause()\r\n      navigator.mediaSession.playbackState = 'paused'\r\n    })\r\n  }\r\n\r\n  let timer: any = null\r\n\r\n  /**\r\n   * 重置播放状态\r\n   */\r\n  const reset = () => {\r\n    playSetting.loading = true\r\n    playSetting.nowPlay = null\r\n    playSetting.error = false\r\n    infoDate.value = null\r\n  }\r\n\r\n  const playerList: PlayerList = new Map()\r\n\r\n  /**\r\n   * 播放语音\r\n   * @param voice 语音对象\r\n   */\r\n  const play = (voice: VoicesItem) => {\r\n    if (process.env.NODE_ENV === 'production' && GA_ID) {\r\n      /* eslint-disable @typescript-eslint/camelcase */\r\n      gtag('event', '播放语音', {\r\n        event_category: voice.category,\r\n        event_label: voice.name,\r\n        value: 1\r\n      })\r\n      /* eslint-enable */\r\n    }\r\n    // 可在此处增加播放统计相关代码\r\n    if (!playSetting.overlap) {\r\n      if (playerList.has('once')) (playerList.get('once') as Player).audio.pause()\r\n      if (playSetting.nowPlay && playSetting.nowPlay.name === voice.name) {\r\n        clearTimeout(timer)\r\n        timer = setTimeout(() => {\r\n          addPlayer(voice, 'once')\r\n        }, 250)\r\n      } else {\r\n        addPlayer(voice, 'once')\r\n      }\r\n      if ('mediaSession' in navigator) {\r\n        const meta = {\r\n          title: t('voice.' + voice.name),\r\n          artist: t(INFO_I18N.fullName),\r\n          album: t(INFO_I18N.title),\r\n          artwork: MEDIA ? [{ src: `/img/${MEDIA}`, sizes: '128x128' }] : []\r\n        }\r\n        navigator.mediaSession.metadata = new window.MediaMetadata(meta)\r\n        navigator.mediaSession.playbackState = 'playing'\r\n      }\r\n    } else {\r\n      const key = new Date().getTime()\r\n      addPlayer(voice, key)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 把语音对象添加到MAP\r\n   */\r\n  const addPlayer = (voice: VoicesItem, key: any) => {\r\n    reset()\r\n    if (key === 'once' && playerList.has(key)) {\r\n      playerList.get(key)!.audio.oncanplay = null\r\n    }\r\n    const path = process.env.NODE_ENV === 'production' && CDN ? `${CDN}/${voice.path}` : `voices/${voice.path}`\r\n    playerList.set(key, {\r\n      name: voice.name,\r\n      audio: new Audio(path)\r\n    })\r\n    if (!playSetting.overlap) {\r\n      playSetting.nowPlay = voice\r\n      if (voice.mark) {\r\n        infoDate.value = voice.mark\r\n      }\r\n    }\r\n    playerList.get(key)!.audio.play()\r\n    playerList.get(key)!.audio.onerror = () => {\r\n      if (CDN && playerList.get(key)!.audio.src.startsWith(CDN)) {\r\n        playerList.get(key)!.audio.src = `voices/${voice.path}`\r\n        playerList.get(key)!.audio.play()\r\n      } else {\r\n        playSetting.loading = false\r\n        playSetting.error = true\r\n      }\r\n    }\r\n    playerList.get(key)!.audio.oncanplay = () => {\r\n      playSetting.loading = false\r\n      const duration = playerList.get(key)!.audio.duration\r\n      let currentTime = 0\r\n      playerList.get(key)!.audio.ontimeupdate = () => {\r\n        currentTime = Number(((playerList.get(key)!.audio.currentTime / duration) * 100).toFixed(0))\r\n        let num = 0\r\n        for (const k of playerList.keys()) {\r\n          if (playerList.get(k)!.name === voice.name) {\r\n            num++\r\n          }\r\n        }\r\n        if (num > 1) {\r\n          btnList[voice.name].progress = 100\r\n        } else {\r\n          btnList[voice.name].progress = currentTime\r\n        }\r\n      }\r\n      playerList.get(key)!.audio.onended = () => {\r\n        btnList[voice.name].progress = 0\r\n        playerList.delete(key)\r\n        if (playSetting.loop > 0) {\r\n          listLoop(voice)\r\n        } else {\r\n          reset()\r\n        }\r\n        if (playSetting.autoRandom) {\r\n          randomPlay()\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  mitt.on(EVENT.randomPlay, () => {\r\n    randomPlay()\r\n  })\r\n\r\n  /**\r\n   * 随机播放\r\n   */\r\n  const randomPlay = () => {\r\n    const list: VoicesItem[] = []\r\n    voices.value.forEach((item: VoicesCategory | VoicesOrigin) => {\r\n      if (isShowCategory(item)) {\r\n        item.voiceList.forEach(voice => {\r\n          if (isShowVoice(voice)) {\r\n            list.push(voice)\r\n          }\r\n        })\r\n      }\r\n    })\r\n    play(list[getRandomInt(list.length)])\r\n  }\r\n\r\n  /**\r\n   * 循环播放\r\n   */\r\n  const listLoop = (voice: VoicesItem) => {\r\n    if (playSetting.loop === 1) {\r\n      play(voice)\r\n    } else if (playSetting.loop === 2) {\r\n      let list: VoicesItem[] = []\r\n      if (!playSetting.showInfo) {\r\n        list = (voices.value as VoicesCategory[]).find(voicesCategory => {\r\n          if (voicesCategory.name === voice.category) {\r\n            return voicesCategory.voiceList\r\n          }\r\n        })!.voiceList\r\n      } else {\r\n        if (voice.mark && voice.mark.title) {\r\n          list = (voices.value as VoicesOrigin[]).find(mark => {\r\n            if (mark.title === voice.mark!.title) {\r\n              return mark.voiceList\r\n            }\r\n          })!.voiceList\r\n        } else {\r\n          list = (voices.value as VoicesOrigin[]).find(mark => {\r\n            if (mark.title === 'unknown') {\r\n              return mark.voiceList\r\n            }\r\n          })!.voiceList\r\n        }\r\n      }\r\n      const nextVoice = list[getLoopIndex(voice, list)]\r\n      if (nextVoice) {\r\n        play(nextVoice)\r\n      }\r\n    } else if (playSetting.loop === 3) {\r\n      const nextVoice = voiceList.value[getLoopIndex(voice, voiceList.value)]\r\n      if (nextVoice) {\r\n        play(nextVoice)\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取列表播放的下一个索引\r\n   */\r\n  const getLoopIndex = (voice: VoicesItem, list: VoicesItem[]): number => {\r\n    let index = -1\r\n    for (const i in list) {\r\n      if (Number(i) === list.length - 1) {\r\n        index = 0\r\n        break\r\n      }\r\n      if (list[i].name === voice.name) {\r\n        index = Number(i) + 1\r\n        if (!isCanPlay(list[index])) {\r\n          index = getLoopIndex(list[index], list)\r\n        }\r\n        break\r\n      }\r\n    }\r\n    return index\r\n  }\r\n\r\n  /**\r\n   * 判断该模式或语言下是否可播放\r\n   */\r\n  const isCanPlay = (voice: VoicesItem) => {\r\n    const flag = (voices.value.some((item: VoicesOrigin | VoicesCategory) => {\r\n      if (playSetting.showInfo) {\r\n        if (voice.mark) {\r\n          return (item as VoicesOrigin).title === voice.mark.title\r\n        } else {\r\n          return (item as VoicesOrigin).title === 'unknown'\r\n        }\r\n      } else {\r\n        return (item as VoicesCategory).name === voice.category && Boolean((item as VoicesCategory).translate[locale.value])\r\n      }\r\n    })) && Boolean(voice.translate[locale.value])\r\n    if (playSetting.showHide) {\r\n      return flag\r\n    } else {\r\n      return flag && !voice.hide\r\n    }\r\n  }\r\n\r\n  mitt.on(EVENT.stopPlay, () => {\r\n    clearTimeout(timer)\r\n    for (const key of playerList.keys()) {\r\n      playerList.get(key)!.audio.pause()\r\n      playerList.get(key)!.audio.onerror = null\r\n      playerList.get(key)!.audio.oncanplay = null\r\n      playerList.get(key)!.audio.ontimeupdate = null\r\n      playerList.get(key)!.audio.onended = null\r\n      const name = playerList.get(key)!.name\r\n      btnList[name].progress = 0\r\n    }\r\n    playerList.clear()\r\n    reset()\r\n    if ('mediaSession' in navigator) {\r\n      navigator.mediaSession.playbackState = 'none'\r\n    }\r\n  })\r\n\r\n  /**\r\n   * 是否需要显示分类\r\n   */\r\n  const isShowCategory = (item: VoicesCategory | VoicesOrigin) => {\r\n    const flag = item.voiceList.every(voice => {\r\n      return !isShowVoice(voice)\r\n    })\r\n    if (flag) {\r\n      return false\r\n    } else if (playSetting.showInfo) {\r\n      return Boolean(item['title'])\r\n    } else {\r\n      return playSetting.showHide ? te(`voicecategory.${item['name']}`) && Boolean(t(`voicecategory.${item['name']}`)) : te(`voicecategory.${item['name']}`) && Boolean(t(`voicecategory.${item['name']}`)) && !(item as VoicesCategory).hide\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 是否需要显示语音\r\n   */\r\n  const isShowVoice = (voice: VoicesItem) => {\r\n    if (playSetting.showHide) {\r\n      return te(`voice.${voice.name}`) && Boolean(t(`voice.${voice.name}`))\r\n    } else {\r\n      let flag = true\r\n      if (playSetting.showInfo) {\r\n        const category = getCategory(voice.category)!\r\n        flag = te(`voicecategory.${category['name']}`) && Boolean(t(`voicecategory.${category['name']}`)) && !category.hide\r\n      }\r\n      return te(`voice.${voice.name}`) && Boolean(t(`voice.${voice.name}`)) && !voice.hide && flag\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 鼠标停留时是否显示时间\r\n   */\r\n  const isShowTime = (mark?: Mark) => {\r\n    return playSetting.showInfo && mark && mark.time ? mark.time : ''\r\n  }\r\n\r\n  /**\r\n   * 是否显示new图标\r\n   */\r\n  const isShowNewIcon = (date?: string) => {\r\n    if (!date) return false\r\n    return playSetting.showHide ? date === t(INFO_I18N.hideLastDate) : date === t(INFO_I18N.lastDate)\r\n  }\r\n\r\n  /**\r\n   * 返回需要显示的表情包url\r\n   */\r\n  const getPicUrl = (usePicture?: Translate) => {\r\n    return usePicture && Boolean(usePicture[locale.value]) ? `/voices/img/${usePicture[locale.value]}` : undefined\r\n  }\r\n\r\n  return {\r\n    playSetting,\r\n    voices,\r\n    play,\r\n    isShowCategory,\r\n    isShowVoice,\r\n    isShowTime,\r\n    isShowNewIcon,\r\n    getPicUrl\r\n  }\r\n}\r\n\r\nconst initListen = (btnList: { [name: string]: any }) => {\r\n  mitt.on(EVENT.nameClick, (name?: string) => {\r\n    if (!name) return\r\n    for (const i in btnList) {\r\n      if (i === name) {\r\n        const scrollPos = document.documentElement.scrollTop + btnList[i].$el.getBoundingClientRect().top - 200\r\n        window.scrollTo({ top: scrollPos, behavior: 'smooth' })\r\n        break\r\n      }\r\n    }\r\n  })\r\n}\r\n\r\nexport {\r\n  useSearch,\r\n  getBtnList,\r\n  createPlayer,\r\n  initListen\r\n}\r\n"],"sourceRoot":""}]}